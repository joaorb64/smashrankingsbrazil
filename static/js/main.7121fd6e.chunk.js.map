{"version":3,"sources":["components/nextTournaments.module.css","components/map.module.css","components/topbar.module.css","locales/i18n.js","components/HideOnScroll.js","components/leagueselector.js","globals.js","components/playerElement.js","components/playermodal.js","components/playerRanking.js","components/statistics.js","components/information.js","components/tournamentList.js","components/players.js","components/ScrollTop.js","components/contacts.js","components/about.js","components/map.js","components/playermodalgranblue.js","components/statisticsgranblue.js","components/HelpButton.js","components/granblue.js","components/nextTournaments.js","components/matcherino.js","components/clips.js","components/HeadToHead.js","components/topbar.js","App.js","serviceWorker.js","index.js","components/playermodal.module.css","components/contacts.module.css","components/playerElement.module.css","components/leagueselector.module.css","components/statistics.module.css"],"names":["module","exports","resources","translation","pt_br","es","en","jp","i18n","use","LanguageDetector","init","fallbackLng","debug","detection","order","lookupQuerystring","interpolation","escapeValue","format","value","lng","Date","moment","on","numeral","locale","localeToLanguage","ret","Object","keys","localeToLanguageJson","find","a","toLowerCase","nativeName","HideOnScroll","props","theme","useTheme","matches","useMediaQuery","breakpoints","up","children","window","trigger","useScrollTrigger","target","undefined","Slide","appear","direction","in","LeagueSelector","state","leagues","league_tree","subleagues","icon","modalOpened","searchText","nextProps","this","buildLeagueTree","forEach","league","region","open","name","t","country","show_count","push","setState","text","values","filter","includes","map","contact","to","game","id","href","onClick","selectLeague","indexOf","closeModal","key","style","color","textDecoration","ListItem","button","ListItemIcon","width","height","display","backgroundSize","backgroundRepeat","backgroundPosition","verticalAlign","backgroundColor","borderRadius","marginRight","backgroundImage","ListItemText","primary","Typography","wifi","Wifi","Divider","variant","head","recursion","i","component","entries","Public","ExpandLess","ExpandMore","Collapse","paddingLeft","timeout","unmountOnExit","renderTree","classes","AppBar","root","leagueSelectorTopbar","elevation","position","marginLeft","marginTop","Toolbar","Button","fullWidth","openModal","length","selectedLeague","lineHeight","justifySelf","flexShrink","flexGrow","textOverflow","overflow","process","top","left","Icon","Hidden","xsDown","Tabs","selectedTab","onChange","event","handleTabChange","centered","Tab","topTabs","label","Dialog","onClose","DialogTitle","DialogContent","dividers","TextField","autoComplete","filterLeagues","List","renderSearch","Component","withStyles","marginBottom","spacing","down","zIndex","minWidth","CHARACTER_TO_CODENAME","GetCharacterCodename","char","replace","CHARACTER_EYE_HEIGHT_PERCENTAGE","0","1","2","3","4","5","6","7","GetCharacterEyeHeight","skins","CHARACTERS_GG_TO_BRAACKET","PlayerElement","playerData","skin","hasOwnProperty","player","Grid","item","xs","class","styles","containerOuter","Card","CardActionArea","textAlign","container","noWrap","alignItems","className","ranking","playerRanking","alignSelf","maxHeight","avatars","join","justifyContent","padding","country_code","Box","org","userNick","userName","full_name","score","flexDirection","fontSize","mains","big","getCharCodename","backgroundPositionX","backgroundPositionY","slice","main","useStyles1","makeStyles","TablePaginationActions","count","page","rowsPerPage","onChangePage","IconButton","disabled","aria-label","Math","ceil","max","PlayerModal","alltournaments","tournaments","achievements","setsRowsPerPage","setsPage","tournamentsRowsPerPage","tournamentsPage","prevProps","prevState","fetchPlayer","console","log","tournamentsWent","matchesPlayed","character_usage","usage_percent","assign","character_usage_percent","sort","b","sum","character","allplayers","rank","braacket_links","link","linkLeague","split","linkId","fetch","then","res","json","data","tournament","linkage","playerIdInTournament","tournamentEntry","leagueObj","element","found","match","participants","matchEntry","tournamentName","tournamentTime","time","tournamentId","participantsLeague","participantPlayer","participantPlayerGlobalId","opponent","scoreOther","scoreMe","winner","won","stats","ts","round","toLocaleString","language","wins","winRate","minimumFractionDigits","maximumFractionDigits","min","rivals","apid","rival","tournamentsWon","bestPlacing","Infinity","some","Number","parseInt","offlineNonBrStates","wifiTournamentsWent","bestPlayerCharacter","leagues_best","entry","exp","player_number","level","cbrt","twitter","parts","jQuery","modal","maxWidth","keepMounted","scroll","paper","dialogRoot","minHeight","paddingTop","paddingBottom","opacity","avatar","playerTag","palette","secondary","stateFlag","fullName","city","tttag","ttlogo","bottom","right","smashgg_slug","getTwitterHandle","twitch","discord","characterMain","background","default","margin","flexWrap","achievement","placeContent","data-toggle","data-placement","title","description","icon_middle","lg","md","whiteSpace","stat","clipPath","toFixed","TableContainer","Table","TableHead","TableRow","TableCell","scope","TableBody","faWifi","date","unix","toDate","TableFooter","TablePagination","rowsPerPageOptions","colSpan","SelectProps","inputProps","onChangeRowsPerPage","ActionsComponent","align","points","placing","withTheme","PlayerRanking","players","top3Colors","top3Colors2","top3Colors3","pagination","playerModal","React","createRef","updateTime","params","current","div","document","getElementById","findIndex","p","league_id","scrollTo","behavior","offsetTop","normalize","RegExp","history","replaceState","setTimeout","bind","Container","disableGutters","sm","openPlayerModal","dataToggle","data-target","top3Outer","paddingRight","transform","border","subtract","listItem","ref","playerModalOpened","closePlayerModal","contacts","PureComponent","Statistics","statistics","colorValues","chartRef","chartSecondaryRef","chartStatesRef","chartCountriesRef","chars","chars_secondary","obj","usage","obj2","usage_secondary","chara","UpdateCharts","originalBarController","Chart","controllers","bar","myChartRef","getContext","drawFlags","chart","ctx","chartInstance","dataset","config","datasets","meta","controller","getDatasetMeta","imageSmoothingQuality","index","lab","_model","img","naturalHeight","drawImage","x","_view","y","fillText","_index","chartData","maintainAspectRatio","labels","icons","$img","attr","onload","draw","append","extend","prototype","call","arguments","gridLines","borderWidth","legend","layout","myChartCountriesRef","drawFlags3","parseFloat","players_per_country","myChartStatesRef","players_per_state","Paper","mb","gutterBottom","overflowX","best_player_character","line","mr","src","Information","info","faExternalLinkSquareAlt","faTwitter","facebook","faFacebook","faTwitch","youtube","faYoutube","TournamentList","hover","role","add","fuzzysort","require","Players","playerModalPlayer","filtered","search","fetchPlayers","smashgg_image","mainnames","goBack","e","result","go","threshold","limit","scoreFn","val","Helmet","property","content","placeholder","type","InputProps","startAdornment","InputAdornment","useStyles","ScrollTop","disableHysteresis","Zoom","body","scrollTop","documentElement","Fab","size","Contacts","userCountry","manageUrl","leagueId","selectedId","usercountry","league_players","final_league_players","globalId","rankingName","rankingType","rankingAlltimes","rankingStartTime","rankingEndTime","catch","updateData","alltimes","smUp","BottomNavigation","showLabels","bottomNav","BottomNavigationAction","selected","bottomNavSelected","faListOl","faUsers","faTrophy","faChartBar","faInfoCircle","withRouter","About","tournamentColor","_","dangerouslySetInnerHTML","__html","getDistance","x1","y1","x2","y2","ys","sqrt","angleRadians","p1","p2","atan2","angleDeg","PI","myMarker","L","Marker","update","_icon","_map","pos","latLngToLayerPoint","_latlng","_layers","other","otherPos","latLngToContainerPoint","myPos","distance","angle","lat","sin","cos","_setPos","Mapa","loading","selection","mymap","estados","markers","circles","topbarSize","setupMap","online","updating","marker","remove","circle","promises","latlng","async","best","lowestNum","playerId","iconUrl","iconSize","charIcon","popupAnchor","mapCharIcon","routerHistory","radius","fillColor","addTo","bindPopup","todos","calls","zoomFitMarkers","firstUpdate","baseMap","tileLayer","colorFilter","minZoom","maxZoom","attributionControl","center","zoom","listener","addEventListener","topbar","clientHeight","setZoom","panTo","LatLng","fitBounds","featureGroup","getBounds","Select","MenuItem","PlayerModalGranblue","playerModalGranblue","tournaments_pc","tournaments_ps4","placing_pc","placing_ps4","tabindex","aria-hidden","fontFamily","data-dismiss","points_ps4","tier","points_pc","StatisticsGranblue","chartRef2","myChartRef2","drawFlags1","score_per_league","getCharName","HelpButton","opened","modalRef","cursor","faQuestionCircle","NextTournaments","selectedCountry","selections","events","filterTournaments","selectedTournaments","startsWith","concat","toUpperCase","startAt","select","selectCountry","ListSubheader","justify","url","Link","underline","CardHeader","cardHeader","Avatar","subheader","tournament_multievent","CardMedia","media","image","images","coupon","Chip","couponChip","clickable","CardContent","isOnline","dense","faMapMarkerAlt","tournament_venueName","tournament_addrState","faCalendar","faEdit","tournament_registrationClosesAt","barRoot","barIncomplete","barComplete","Matcherino","matcherinos","gameIds","accounts","stateSelection","offset","perPage","accountId","status","gameId","used","transactions","transaction","action","usedCoupons","trim","err","Promise","all","fetchPage","countriesJson","native","creator","displayName","backgroundImg","LinearProgress","barColorPrimary","balance","Clips","clips","clipsFiltered","selectedLanguage","totalClipsSize","lang","selectLanguage","filterClips","selectedClips","clip","view_count","thumbnail_url","broadcaster_name","creator_name","HeadToHead","playerSlots","winProbability","fetchTs","mean","std","abs","prob","beta","mu","sigma","delta_mu","sum_sigma","denom","ncdf","p1prob","p2prob","total","slotIndex","updateSlots","otherSlot","setWins","winProbabilityPercent","xl","playerContainer","Autocomplete","newValue","selectPlayer","options","getOptionLabel","option","renderOption","renderInput","disabledBackground","charPortrait","drawer","appBar","menuButton","toolbar","mixins","drawerPaper","navLinkItem","TopBar","useState","mobileOpen","setMobileOpen","setAllplayers","setAllTournaments","setUserCountry","setLeagues","useEffect","handleDrawerToggle","closeDrawer","scrollToTop","NavLink","activeClassName","faExchangeAlt","faMap","faCoins","alt","CssBaseline","mdUp","edge","implementation","SwipeableDrawer","anchor","onOpen","ModalProps","smDown","Drawer","path","exact","render","location","ga","tracker","getAll","send","pathname","createMuiTheme","invalid","App","ThemeProvider","basename","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,oBAAsB,6CAA6C,6BAA+B,sDAAsD,iBAAiB,0C,sy4BCA3LD,EAAOC,QAAU,CAAC,YAAc,2B,isoCCAhCD,EAAOC,QAAU,CAAC,YAAc,4BAA4B,2BAA2B,yCAAyC,gBAAgB,gC,uRCa1IC,EAAY,CAChB,GAAM,CAACC,YAAaC,GACpB,GAAM,CAACD,YAAaE,GACpB,GAAM,CAACF,YAAaG,GACpB,GAAM,CAACH,YAAaI,IAQtBC,IAAKC,IAAIC,KAAkBC,KAAK,CAC9BT,YACAU,YAAa,CAAC,MACdC,OAAO,EACPC,UATc,CACdC,MAAO,CAAC,cAAe,aACvBC,kBAAmB,OAQnBC,cAAe,CACbC,aAAa,EACbC,OAAQ,SAASC,EAAOD,EAAQE,GAC9B,OAAGD,aAAiBE,KAAaC,IAAOH,GAAOD,OAAOA,GAC/CC,MAKbZ,IAAKgB,GAAG,mBAAmB,SAASH,GAClCI,IAAQC,OAAOL,GACfE,IAAOG,OAAOL,MAGhBb,IAAKmB,iBAAmB,SAASD,GAC/B,IAAIE,EAAMC,OAAOC,KAAKC,GAAsBC,MAAK,SAACC,GAAK,OAAOA,EAAEC,eAAiBR,EAAOQ,iBACxF,OAAGN,EACMG,EAAqBH,GAAKO,WAE5BT,GAGMlB,QAAf,E,6YC9Ce,SAAS4B,GAAaC,GACnC,IAAMC,EAAQC,cACRC,EAAUC,aAAcH,EAAMI,YAAYC,GAAG,OAE3CC,EAAqBP,EAArBO,SAAUC,EAAWR,EAAXQ,OAIZC,EAAUC,aAAiB,CAAEC,OAAQH,EAASA,SAAWI,IAE/D,OACE,kBAACC,GAAA,EAAD,CAAOC,OAAiBX,EAASY,UAAU,OAAOC,IAAKP,GAAWN,GAC/DI,GCPP,IAaMU,G,2MACJC,MAAQ,CACNC,QAAS,GACTC,YAAa,CACXD,QAAS,GACTE,WAAY,GACZC,KAAM,MAERC,aAAa,EACbC,WAAY,I,kFAGKC,GACdA,IAAcC,KAAK1B,OACpB0B,KAAKC,oB,0CAKPD,KAAKR,MAAMC,QAAUO,KAAK1B,MAAMmB,QAChCO,KAAKC,oB,wCAGY,IAAD,OAChBD,KAAKR,MAAME,YAAc,CACvBD,QAAS,GACTE,WAAY,IAGXK,KAAK1B,MAAMmB,UACZO,KAAK1B,MAAMmB,QAAQS,SAAQ,SAAAC,GACtBA,EAAOC,SACJ,EAAKZ,MAAME,YAAX,WAAqCS,EAAOC,UAC9C,EAAKZ,MAAME,YAAX,WAAqCS,EAAOC,QAAU,CACpDX,QAAS,GACTE,WAAY,GACZU,MAAM,EACNC,KAAM7D,EAAK8D,EAAE,UAAUJ,EAAOC,OAAOjC,iBAKrCgC,EAAOK,SAGL,EAAKhB,MAAME,YAAX,WAAqCS,EAAOC,QAA5C,WAAkED,EAAOK,WAC3E,EAAKhB,MAAME,YAAX,WAAqCS,EAAOC,QAA5C,WAAkED,EAAOK,SAAW,CAClFf,QAAS,GACTE,WAAY,GACZU,MAAM,EACNT,KAAK,qFAAD,OAAuFO,EAAOK,QAAQrC,cAAtG,QACJsC,YAAY,IAIhB,EAAKjB,MAAME,YAAX,WAAqCS,EAAOC,QAA5C,WAAkED,EAAOK,SAAzE,QAA6FE,KAAKP,IAZlG,EAAKX,MAAME,YAAX,WAAqCS,EAAOC,QAA5C,QAA+DM,KAAKP,OAiB1EH,KAAKW,SAASX,KAAKR,U,oCAIToB,GACZZ,KAAKR,MAAMM,WAAac,EACxBZ,KAAKW,SAAS,CAACb,WAAYc,M,kCAI3BZ,KAAKW,SAAS,CAACd,aAAa,M,mCAI5BG,KAAKW,SAAS,CAACd,aAAa,M,qCAGf,IAAD,OACZ,OACE/B,OAAO+C,OAAOb,KAAK1B,MAAMmB,SAASqB,QAAO,SAAC5C,GACxC,OACEA,EAAEoC,KAAKnC,cAAc4C,SAAS,EAAKvB,MAAMM,WAAW3B,gBACxC,MAAXD,EAAEsB,OAAiBtB,EAAEsB,MAAMrB,cAAc4C,SAAS,EAAKvB,MAAMM,WAAW3B,gBAC3D,MAAbD,EAAEsC,SAAmBtC,EAAEsC,QAAQrC,cAAc4C,SAAS,EAAKvB,MAAMM,WAAW3B,kBAE9E6C,KAAI,SAACC,GAAD,aACL,kBAAC,IAAD,CACEC,GAAE,UAAK,EAAK5C,MAAM6C,KAAhB,oBAAgCF,EAAQG,IAC1CC,KAAI,UAAK,EAAK/C,MAAM6C,KAAhB,oBAAgCF,EAAQG,IAC5CE,QAAS,WAAK,EAAKhD,MAAMiD,aAAa,EAAKjD,MAAMmB,QAAQ+B,QAAQP,IAAW,EAAKQ,cACjFC,IAAK,UAAUT,EAAQX,KACvBqB,MAAO,CAACC,MAAO,QAASC,eAAgB,SAExC,kBAACC,EAAA,EAAD,CAAUC,QAAM,EAACT,QAAS,cACxB,kBAACU,EAAA,EAAD,KACE,yBAAKL,OAAK,GACRM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,QAASC,iBAAkB,YACnGC,mBAAoB,SAAUC,cAAe,UAAWC,gBAAiB,QAASC,aAAc,MAAOC,YAAa,OACpHC,gBAAgB,4EAAD,OAA8E,EAAKrE,MAAM6C,KAAzF,wBAA6GF,EAAQG,GAArH,UAHP,wBAIC,QAJD,2BAIqB,GAJrB,MAOZ,kBAACwB,EAAA,EAAD,CAAcC,QAAS5B,EAAQX,OAC/B,kBAACwC,EAAA,EAAD,KAAa7B,EAAQzB,OACpByB,EAAQ8B,KACP,kBAACC,GAAA,EAAD,MAEA,MAEJ,kBAACC,EAAA,EAAD,CAASC,QAAQ,gB,iCAMdC,GAAmB,IAAD,OAAZC,EAAY,uDAAF,EAEzB,GAAmB,MAAhBD,EAAK1D,SAAsC,MAAnB0D,EAAKxD,WAGhC,OACE,oCACGwD,EAAK1D,QAAQuB,KAAI,SAACC,EAASoC,GAAV,aAChB,kBAAC,IAAD,CACEnC,GAAE,WAAM,EAAK5C,MAAM6C,KAAjB,oBAAiCF,EAAQG,IAC3CC,KAAI,WAAM,EAAK/C,MAAM6C,KAAjB,oBAAiCF,EAAQG,IAC7CE,QAAS,WAAK,EAAKhD,MAAMiD,aAAa,EAAKjD,MAAMmB,QAAQ+B,QAAQP,IAAW,EAAKQ,cACjFC,IAAK,UAAUT,EAAQX,KACvBqB,MAAO,CAACC,MAAO,QAASC,eAAgB,SAExC,kBAACC,EAAA,EAAD,CAAUC,QAAM,EAACT,QAAS,cACxB,kBAACU,EAAA,EAAD,KACE,yBAAKL,OAAK,GACRM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,QAASC,iBAAkB,YACnGC,mBAAoB,SAAUC,cAAe,UAAWC,gBAAiB,QAASC,aAAc,MAAOC,YAAa,OACpHC,gBAAgB,kFAAD,OAAoF,EAAKrE,MAAM6C,KAA/F,wBAAmHF,EAAQG,GAA3H,UAHP,wBAIC,QAJD,2BAIqB,GAJrB,MAOZ,kBAACwB,EAAA,EAAD,CAAcC,QAAS5B,EAAQX,OAC/B,kBAACwC,EAAA,EAAD,KAAa7B,EAAQzB,OACpByB,EAAQ8B,KACP,kBAACC,GAAA,EAAD,MAEA,MAEJ,kBAACC,EAAA,EAAD,CAASC,QAAQ,QAAQI,UAAU,WAGtCxF,OAAOyF,QAAQJ,EAAKxD,YAAYqB,KAAI,SAACb,EAAQkD,GAAT,aACnC,oCACE,kBAACvB,EAAA,EAAD,CAAUC,QAAM,EAACT,QAAS,WAAK6B,EAAKxD,WAAWQ,EAAO,IAAIE,MAAQ8C,EAAKxD,WAAWQ,EAAO,IAAIE,KAAM,EAAKM,SAAS,EAAKnB,SACpH,kBAACwC,EAAA,EAAD,KACG7B,EAAO,GAAGP,KACT,yBAAK+B,OAAK,GACRM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,QAASC,iBAAkB,YACnGC,mBAAoB,SAAUC,cAAe,UAAWC,gBAAiB,QAASC,aAAc,MAAOC,YAAa,OACpHC,gBAAgB,OAAD,OAASxC,EAAO,GAAGP,KAAnB,MAHP,wBAIC,QAJD,2BAIqB,GAJrB,KAOV,kBAAC4D,GAAA,EAAD,OAGJ,kBAACZ,EAAA,EAAD,CAAcC,QAAS1C,EAAO,GAAGG,KAAOH,EAAO,GAAGG,KAAOH,EAAO,KAC/DgD,EAAKxD,WAAWQ,EAAO,IAAIE,KAAO,kBAACoD,GAAA,EAAD,MAAiB,kBAACC,GAAA,EAAD,OAEtD,kBAACT,EAAA,EAAD,CAASC,QAAQ,QAAQI,UAAU,OACnC,kBAACK,GAAA,EAAD,CAAUhC,MAAO,CAACiC,YAAa,QAAStE,GAAI6D,EAAKxD,WAAWQ,EAAO,IAAIE,KAAMwD,QAAQ,OAAOC,eAAa,GACtG,EAAKC,WAAW5D,EAAO,GAAIiD,EAAU,W,+BAQzC,IAAD,eACEY,EAAYhE,KAAK1B,MAAjB0F,QAER,OACE,kBAAC3F,GAAiB2B,KAAK1B,MACrB,kBAAC2F,EAAA,EAAD,CAAQD,QAAS,CAACE,KAAMF,EAAQG,sBAAuBC,UAAW,EAAGzC,MAAO,CAC1E0C,SAAU,SAAUC,YAAa,EAAGC,WAAY,EAAGtC,MAAO,sBAE1D,kBAACuC,EAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAQC,WAAS,EAACpD,QAAS,WAAK,EAAKqD,cAClC3E,KAAK1B,MAAMmB,SAAWO,KAAK1B,MAAMmB,QAAQmF,OAAS,IAAmC,GAA9B5E,KAAK1B,MAAMuG,eACjE,yBAAKlD,MAAO,CAACQ,QAAS,OAAQ2C,WAAY,OAAQC,YAAa,OAAQ9C,MAAO,SAC5E,yBAAKN,OAAK,GACRM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,QAASC,iBAAkB,YACnGC,mBAAoB,SAAUC,cAAe,UAAWC,gBAAiB,QAASC,aAAc,MAAOC,YAAa,OACpHC,gBAAgB,kFAAD,OAAoF3C,KAAK1B,MAAM6C,KAA/F,wBAAmHnB,KAAK1B,MAAMmB,QAAQO,KAAK1B,MAAMuG,gBAAgBzD,GAAjK,UAHP,wBAIC,QAJD,2BAIqB,GAJrB,KAMV,yBAAKO,MAAO,CACVqD,WAAY,EAAGC,SAAU,EAAGC,aAAc,WAAYC,SAAU,WAC9DnF,KAAK1B,MAAMmB,QAAQO,KAAK1B,MAAMuG,gBAAgBvE,MACjDN,KAAK1B,MAAMmB,QAAQO,KAAK1B,MAAMuG,gBAAgBrF,MAC7C,yBAAKmC,OAAK,GACRM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eACxCG,mBAAoB,SAAUC,cAAe,WAFrC,wBAGC,QAHD,2BAGqB,GAHrB,IAINvC,KAAK1B,MAAMmB,QAAQO,KAAK1B,MAAMuG,gBAAgBrF,OAElD,KAGAQ,KAAK1B,MAAMmB,QAAQO,KAAK1B,MAAMuG,gBAAgB9B,KAC5C,yBAAKpB,OAAK,GACRM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,QAASC,iBAAkB,YACnGC,mBAAoB,SAAUC,cAAe,UAAWE,aAAc,OACtED,gBAAiB,QAAS+B,UAAW,MAAO7B,YAAa,OAHjD,wBAIC,QAJD,2BAIqB,GAJrB,IAMR,yBAAKf,MAAO,CACVM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,QAASC,iBAAkB,YACnGC,mBAAoB,SAAUC,cAAe,UAC7CI,gBAAgB,OAAD,OAASyC,GAAT,oBACff,SAAU,WAAYgB,IAAK,MAAOC,KAAM,UAI5C,KAEJ,yBAAK3D,OAAK,GACRM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,gBADhC,wBAEC,QAFD,2BAEqB,GAFrB,0BAEmC,UAFnC,IAIR,kBAACoD,GAAA,EAAD,KAAM,kBAAC7B,GAAA,EAAD,SAIV,eAKN,kBAAC8B,EAAA,EAAD,CAAQC,QAAM,GACZ,kBAACC,GAAA,EAAD,CACErI,MAAO2C,KAAK1B,MAAMqH,YAClBC,SAAU,SAACC,EAAOxI,GAAR,OAAgB,EAAKiB,MAAMwH,gBAAgBzI,IACrD0I,UAAQ,GAER,kBAACC,GAAA,EAAD,CAAKhC,QAAS,CAACE,KAAMF,EAAQiC,SAAU5I,MAAM,UAAU6I,MAAOzJ,EAAK8D,EAAE,aACrE,kBAACyF,GAAA,EAAD,CAAKhC,QAAS,CAACE,KAAMF,EAAQiC,SAAU5I,MAAM,UAAU6I,MAAOzJ,EAAK8D,EAAE,aACrE,kBAACyF,GAAA,EAAD,CAAKhC,QAAS,CAACE,KAAMF,EAAQiC,SAAU5I,MAAM,cAAc6I,MAAOzJ,EAAK8D,EAAE,iBACzE,kBAACyF,GAAA,EAAD,CAAKhC,QAAS,CAACE,KAAMF,EAAQiC,SAAU5I,MAAM,aAAa6I,MAAOzJ,EAAK8D,EAAE,gBACxE,kBAACyF,GAAA,EAAD,CAAKhC,QAAS,CAACE,KAAMF,EAAQiC,SAAU5I,MAAM,OAAO6I,MAAOzJ,EAAK8D,EAAE,YAItE,kBAAC4F,GAAA,EAAD,CAAQ9F,KAAML,KAAKR,MAAMK,YAAauG,QAAS,WAAK,EAAKzF,SAAS,CAACd,aAAa,MAC9E,kBAACwG,GAAA,EAAD,KAAc5J,EAAK8D,EAAE,kBACrB,kBAAC+F,GAAA,EAAD,CAAeC,UAAQ,GACrB,kBAACC,GAAA,EAAD,CAAWC,cAAc,EAAO/B,WAAS,EAACwB,MAAM,SAASN,SAAU,SAACC,GAAS,EAAKa,cAAcb,EAAM5G,OAAO5B,UAC7G,kBAACsJ,EAAA,EAAD,KACG3G,KAAKR,MAAMM,YAAc,EACxBE,KAAK+D,WAAW/D,KAAKR,MAAME,aAE3BM,KAAK4G,wB,GApQMC,aA+QdC,iBA5RG,SAACxI,GAAD,MAAY,CAC5B6F,qBAAqB,aACnB4C,aAAczI,EAAM0I,QAAQ,IAC3B1I,EAAMK,YAAYsI,KAAK,MAAQ,CAC9B5B,IAAK,GACL6B,OAAQ,IAGZjB,QAAS,CACPkB,SAAU,QAmRCL,CAAsBvH,I,oBCxS/B6H,GAAwB,CAC1B,KAAO,CACH,MAAS,QACT,cAAe,SACf,KAAQ,OACR,MAAS,QACT,aAAc,SACd,MAAS,QACT,MAAS,QACT,IAAO,MACP,QAAW,UACX,MAAS,QACT,KAAQ,OACR,iBAAkB,UAClB,WAAc,QACd,MAAS,QACT,MAAS,QACT,OAAU,QACV,eAAgB,cAChB,MAAS,QACT,MAAS,QACT,WAAY,SACZ,MAAS,QACT,MAAS,QACT,MAAS,QACT,OAAU,SACV,aAAc,YACd,UAAa,QACb,OAAU,SACV,IAAO,MACP,MAAS,QACT,oBAAqB,YACrB,cAAe,aACf,IAAO,MACP,WAAY,OACZ,kBAAmB,YACnB,MAAS,QACT,MAAS,QACT,IAAO,MACP,kBAAmB,WACnB,aAAc,QACd,MAAS,QACT,MAAS,QACT,cAAe,SACf,OAAU,SACV,QAAW,UACX,IAAO,QACP,YAAa,WACb,KAAQ,OACR,SAAY,WACZ,WAAY,UACZ,kBAAmB,SACnB,oBAAqB,UACrB,aAAc,YACd,SAAY,WACZ,cAAe,aACf,mBAAoB,eACpB,aAAc,YACd,SAAY,WACZ,UAAW,SACX,MAAS,SACT,MAAS,QACT,YAAa,UACb,YAAa,WACb,IAAO,MACP,IAAO,MACP,MAAS,QACT,OAAU,QACV,UAAa,YACb,QAAW,UACX,OAAU,SACV,MAAS,QACT,QAAW,UACX,cAAe,QACf,SAAY,SACZ,WAAc,UACd,gBAAiB,SACjB,MAAS,OACT,KAAQ,QACR,gBAAiB,QACjB,MAAS,QACT,OAAU,SACV,UAAW,SACX,MAAS,SACT,UAAa,OACb,OAAU,WAIX,SAASC,GAAqBlG,EAAMmG,GACvC,OAAGF,GAAsBjG,IAClBiG,GAAsBjG,GAAMmG,GACpBF,GAAsBjG,GAAMmG,IAGhC,MAARA,IAAcA,EAAO,IACjBA,EAAKC,QAAQ,KAAM,KAAKA,QAAQ,MAAO,IAAIpJ,eAGtD,IAAMqJ,GAAkC,CACpC,KAAQ,CACJ,MAAS,CAACC,EAAG,IACb,cAAe,CAACA,EAAG,IACnB,KAAQ,CAACA,EAAG,IACZ,MAAS,CAACA,EAAG,IACb,aAAc,CAACA,EAAG,IAClB,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,IACb,IAAO,CAACA,EAAG,IACX,QAAW,CAACA,EAAG,IACf,MAAS,CAACA,EAAG,IACb,KAAQ,CAACA,EAAG,IACZ,iBAAkB,CAACA,EAAG,IACtB,WAAc,CAACA,EAAG,IAClB,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,IACb,OAAU,CAACA,EAAG,IACd,eAAgB,CAACA,EAAG,IACpB,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,IACb,WAAY,CAACA,EAAG,IAChB,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,IACb,OAAU,CAACA,EAAG,IACd,aAAc,CAACA,EAAG,IAClB,UAAa,CAACA,EAAG,IACjB,OAAU,CAACA,EAAG,IACd,IAAO,CAACA,EAAG,IACX,MAAS,CAACA,EAAG,IACb,oBAAqB,CAACA,EAAG,IACzB,cAAe,CAACA,EAAG,IACnB,IAAO,CAACA,EAAG,IACX,WAAY,CAACA,EAAG,IAChB,kBAAmB,CAACA,EAAG,IACvB,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,IACb,IAAO,CAACA,EAAG,IACX,kBAAmB,CAACA,EAAG,IACvB,aAAc,CAACA,EAAG,IAClB,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,IACb,cAAe,CAACA,EAAG,IACnB,OAAU,CAACA,EAAG,IACd,QAAW,CAACA,EAAG,IACf,IAAO,CAACA,EAAG,IACX,YAAa,CAACA,EAAG,IACjB,KAAQ,CAACA,EAAG,IACZ,SAAY,CAACA,EAAG,IAChB,WAAY,CAACA,EAAG,IAChB,kBAAmB,CAACA,EAAG,IACvB,oBAAqB,CAACA,EAAG,IACzB,aAAc,CAACA,EAAG,IAClB,SAAY,CAACA,EAAG,IAChB,cAAe,CAACA,EAAG,IACnB,mBAAoB,CAACA,EAAG,IACxB,aAAc,CAACA,EAAG,IAClB,SAAY,CAACA,EAAG,IAChB,UAAW,CAACA,EAAG,IACf,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,IACb,YAAa,CAACA,EAAG,IACjB,YAAa,CAACA,EAAG,IACjB,IAAO,CAACA,EAAG,IACX,IAAO,CAACA,EAAG,IACX,MAAS,CAACA,EAAG,IACb,OAAU,CAACA,EAAG,IACd,UAAa,CAACA,EAAG,IACjB,QAAW,CAACA,EAAG,IACf,OAAU,CAACA,EAAG,IACd,MAAS,CAACA,EAAG,IACb,QAAW,CAACA,EAAG,IACf,cAAe,CAACA,EAAG,IACnB,SAAY,CAACA,EAAG,IAChB,WAAc,CAACA,EAAG,IAClB,gBAAiB,CAACA,EAAG,IACrB,MAAS,CAACA,EAAG,IACb,KAAQ,CAACA,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,IAC7D,gBAAiB,CAACP,EAAG,IACrB,MAAS,CAACA,EAAG,IACb,OAAU,CAACA,EAAG,IACd,UAAW,CAACA,EAAG,IACf,MAAS,CAACA,EAAG,IACb,UAAa,CAACA,EAAG,IACjB,OAAU,CAACA,EAAG,KAElB,IAAO,CACH,IAAO,CAACA,EAAG,IACX,IAAO,CAACA,EAAG,IACX,MAAS,CAACA,EAAG,KAEjB,KAAQ,CACJ,IAAO,CAACA,EAAG,IACX,WAAc,CAACA,EAAG,IAClB,iBAAkB,CAACA,EAAG,IACtB,MAAS,CAACA,EAAG,IACb,UAAa,CAACA,EAAG,IACjB,OAAU,CAACA,EAAG,IACd,MAAS,CAACA,EAAG,IACb,MAAS,CAACA,EAAG,MAKd,SAASQ,GAAsB9G,EAAMmG,GAAgB,IAAVY,EAAS,uDAAH,GACpD,OAAGV,GAAgCrG,GAC5BqG,GAAgCrG,GAAMmG,IAClCE,GAAgCrG,GAAMmG,GAAMY,EAAMZ,IAC1CE,GAAgCF,GAAMY,EAAMZ,IAGxDE,GAAgCrG,GAAMmG,GAC9BE,GAAgCrG,GAAMmG,GAAM,GAEpDE,GAAgCrG,GAAhC,IACQqG,GAAgCrG,GAAhC,IAA6C,QADxD,EAIQ,GAGT,IAAMgH,GAA4B,CACxC,MAAS,QACT,cAAe,cACf,KAAQ,OACR,MAAS,QACT,aAAc,aACd,MAAS,QACT,MAAS,QACT,IAAO,MACP,QAAW,UACX,MAAS,QACT,KAAQ,OACR,iBAAkB,iBAClB,WAAc,aACd,MAAS,QACT,MAAS,QACT,OAAU,SACV,eAAgB,eAChB,MAAS,QACT,MAAS,QACT,YAAa,WACb,MAAS,QACT,MAAS,QACT,MAAS,QACT,OAAU,SACV,aAAc,aACd,UAAa,YACb,OAAU,SACV,IAAO,MACP,MAAS,QACT,mBAAoB,oBACpB,cAAe,cACf,IAAO,MACP,WAAY,WACZ,kBAAmB,kBACnB,MAAS,QACT,MAAS,QACT,IAAO,MACP,kBAAmB,kBACnB,aAAc,aACd,MAAS,QACT,MAAS,QACT,cAAe,cACf,OAAU,SACV,QAAW,UACX,SAAU,MACV,YAAa,YACb,KAAQ,OACR,SAAY,WACZ,WAAY,WACZ,kBAAmB,kBACnB,SAAY,oBACZ,aAAc,aACd,SAAY,WACZ,cAAe,cACf,mBAAoB,mBACpB,aAAc,aACd,SAAY,WACZ,UAAW,UACX,MAAS,QACT,MAAS,QACT,aAAc,YACd,YAAa,YACb,IAAO,MACP,IAAO,MACP,MAAS,QACT,OAAU,SACV,UAAa,YACb,QAAW,UACX,OAAU,SACV,gBAAiB,QACjB,QAAW,UACX,eAAgB,cAChB,SAAY,WACZ,WAAc,aACd,gBAAiB,gBACjB,MAAS,QACT,KAAQ,OACR,gBAAiB,gBACjB,MAAS,QACT,OAAU,SACV,UAAW,UACR,MAAS,QACT,UAAa,a,oECpKFC,G,wLApIKC,EAAYjH,GACxB,IAAIkH,EAAO,EASX,OAPGD,EAAWE,eAAe,eAEdrJ,IADXoJ,EAAOD,EAAU,MAAUA,EAAU,MAAUjH,OAE3CkH,EAAO,GAIRjB,GAAqBrH,KAAK1B,MAAM6C,KAAMkH,EAAU,MAAUjH,IAAK,KAAKkH,I,+BAGtE,IAAD,OACEE,EAASxI,KAAK1B,MAAMkK,OAE1B,OACI,kBAACC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,MAAOC,KAAOC,gBAC5BN,EACG,kBAACO,GAAA,EAAD,CAAMpH,MAAO,CAACwD,SAAU,WACpB,kBAAC6D,GAAA,EAAD,CAAgBrH,MAAO,CAACwD,SAAU,SAAU8D,UAAW,UAAW3H,QAAStB,KAAK1B,MAAMgD,SAClF,kBAACmH,GAAA,EAAD,CAAMS,WAAS,EAACC,QAAM,EAAChE,SAAS,SAASiE,WAAW,SAASC,UAAWR,KAAOK,WAC1EV,EAAOc,QACJ,yBAAKV,MAAOC,KAAOU,eAAgBf,EAAOc,SAE1C,KAEJ,kBAACb,GAAA,EAAD,CAAMC,MAAI,EAAC/G,MAAO,CAAC6H,UAAW,UAAWC,UAAW,OAAQxH,MAAO,SAC9DuG,EAAOkB,SAAWlB,EAAOkB,QAAQ9E,OAAS,EACvC,yBAAKgE,MAAM,gBAAgBjH,MAAO,CAC9BgB,gBAAiB,OAAO6F,EAAOkB,QAAQC,KAAK,WAAW,IACvD1H,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,QAASC,iBAAkB,YACnGC,mBAAoB,SAAUE,gBAAiB,UAInD,MAGR,kBAACiG,GAAA,EAAD,CAAMC,MAAI,GACN,yBAAKE,MAAM,mBACP,yBAAKA,MAAM,uBAAuBjH,MAAO,CACzCM,MAAO,OAAQE,QAAS,OAAQyH,eAAgB,SAAUR,WAAY,SAAUS,QAAS,QAExFrB,EAAOsB,cAAuC,QAAvBtB,EAAOsB,aAC3B,yBAAKlB,MAAM,OAAOjH,MAAO,CACzBgB,gBAAgB,yFAAD,OAA2F6F,EAAOsB,aAAa3L,cAA/G,WACZ,8BAAOqK,EAAOsB,eAEjB,MAIJ,yBAAKlB,MAAM,uBAAuBjH,MAAO,CACzCM,MAAO,OAAQE,QAAS,OAAQyH,eAAgB,SAAUR,WAAY,SAAUS,QAAS,QAExFrB,EAAOhJ,OAAyB,QAAhBgJ,EAAOhJ,MACpB,yBAAKoJ,MAAM,OAAOjH,MAAO,CACzBgB,gBAAgB,uFAAD,OAAyF6F,EAAOsB,aAAhG,YAAgHtB,EAAOhJ,MAAvH,WACZ,8BAAOgJ,EAAOhJ,QAEjB,QAKZ,kBAACiJ,GAAA,EAAD,CAAMC,MAAI,EAACC,IAAE,EAACiB,eAAe,SAASjI,MAAO,CAACwD,SAAU,WACpD,kBAAC4E,EAAA,EAAD,CAAK5H,QAAQ,OAAOyH,eAAe,SAAST,QAAM,GAC7CX,EAAOwB,IACJ,kBAAClH,EAAA,EAAD,CAAYqG,QAAM,EAACjG,QAAQ,KAAKtB,MAAM,YAAYyH,UAAWR,KAAOoB,UAAWzB,EAAOwB,IAAtF,QAEA,KAEJ,kBAAClH,EAAA,EAAD,CAAYqG,QAAM,EAACjG,QAAQ,KAAKtB,MAAM,cAAcyH,UAAWR,KAAOoB,UAAWzB,EAAOlI,OAE5F,kBAACwC,EAAA,EAAD,CAAYqG,QAAM,EAACjG,QAAQ,QAAQtB,MAAM,gBAAgByH,UAAWR,KAAOqB,SAAUvI,MAAO,CAACmD,WAAY,WACpG0D,EAAO2B,YAGf3B,EAAO4B,MACJ,kBAAC3B,GAAA,EAAD,CAAMC,MAAI,EAAC/G,MAAO,CAACO,OAAQ,OAAQC,QAAS,SACxC,yBAAKyG,MAAM,eAAejH,MAAO,CAACM,MAAO,QAAS4H,QAAS,MAAO1H,QAAS,OAAQkI,cAAe,SAAUT,eAAgB,SAAU5E,WAAY,IAC9I,yBAAKrD,MAAO,CAACa,gBAAiB,QAASyC,SAAU,EAAG9C,QAAS,SAC7D,yBAAKR,MAAO,CACRa,gBAAiB,QAASZ,MAAO,QAAS0I,SAAU,OAAQxF,WAAY,OAAQG,SAAU,EAAGuE,UAAW,SAAUvH,MAAO,SACzHuG,EAAO4B,MAFX,YAOR,KAEJ,kBAAC3B,GAAA,EAAD,CAAMC,MAAI,EAAC/G,MAAO,CAAC6H,UAAW,UAAWC,UAAW,SAC/CjB,EAAO+B,MAAM3F,OAAS,EACnB,yBAAKgE,MAAM,cAAcjH,MAAO,CAC5BgB,gBACI3C,KAAK1B,MAAMkM,IAAX,cACWpF,GADX,sBAC+CpF,KAAK1B,MAAM6C,KAD1D,oBAC0EnB,KAAKyK,gBAAgBjC,EAAQ,GADvG,uBAGWpD,GAHX,sBAG+CpF,KAAK1B,MAAM6C,KAH1D,oBAG0EnB,KAAKyK,gBAAgBjC,EAAQ,GAHvG,SAKJvG,MAAO,QAASC,OAAQ,OAAQwI,oBAAqB,SAAUtI,eAAgB,QAASI,gBAAiB,UAAW2C,SAAU,SAC9HwF,oBAAsB1C,GAAsBjI,KAAK1B,MAAM6C,KAAMqH,EAAO+B,MAAM,GAAI/B,EAAON,OAAO,MAAO,IAEnG,yBAAKvG,MAAO,CAACwD,SAAU,SAAUhD,QAAS,OAAQD,OAAQ,OAAQkH,WAAY,WAAYQ,eAAgB,aACzGpB,EAAO+B,MAAMK,MAAM,GAAG5J,KAAI,SAAC6J,EAAMxH,GAAP,OACvB,yBAAKuF,MAAM,mBAAmBjH,MAAO,CACrCgB,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C,EAAK9G,MAAM6C,KAAxD,oBAAwE,EAAKsJ,gBAAgBjC,EAAQnF,EAAE,GAAvG,SACfpB,MAAO,OAAQC,OAAQ,OAAQI,mBAAoB,SAAUF,eAAgB,QAC7E6C,SAAU,EAAG9C,QAAS,OAAQ6C,WAAY,UAMlD,yBAAKrD,MAAO,CACRgB,gBAAgB,OAAD,OAASyC,GAAT,sBAA6CpF,KAAK1B,MAAM6C,KAAxD,wBACfc,MAAO,QAASK,mBAAoB,SAAUF,eAAgB,QAASI,gBAAiB,iBAQhH,U,GA9HQqE,a,kMCqBtBiE,GAAaC,aAAW,SAACxM,GAAD,MAAY,CACxC2F,KAAM,CACJc,WAAY,EACZV,WAAY/F,EAAMyI,QAAQ,UAI9B,SAASgE,GAAuB1M,GAC9B,IAAM0F,EAAU8G,KACVvM,EAAQC,cACNyM,EAA2C3M,EAA3C2M,MAAOC,EAAoC5M,EAApC4M,KAAMC,EAA8B7M,EAA9B6M,YAAaC,EAAiB9M,EAAjB8M,aAkBlC,OACE,yBAAK/B,UAAWrF,EAAQE,MACtB,kBAACmH,EAAA,EAAD,CACE/J,QAnB6B,SAACuE,GAClCuF,EAAavF,EAAO,IAmBhByF,SAAmB,IAATJ,EACVK,aAAW,cAEU,QAApBhN,EAAMc,UAAsB,kBAAC,KAAD,MAAmB,kBAAC,KAAD,OAElD,kBAACgM,EAAA,EAAD,CAAY/J,QArBc,SAACuE,GAC7BuF,EAAavF,EAAOqF,EAAO,IAoBmBI,SAAmB,IAATJ,EAAYK,aAAW,iBACtD,QAApBhN,EAAMc,UAAsB,kBAAC,KAAD,MAAyB,kBAAC,KAAD,OAExD,kBAACgM,EAAA,EAAD,CACE/J,QArBwB,SAACuE,GAC7BuF,EAAavF,EAAOqF,EAAO,IAqBvBI,SAAUJ,GAAQM,KAAKC,KAAKR,EAAQE,GAAe,EACnDI,aAAW,aAEU,QAApBhN,EAAMc,UAAsB,kBAAC,KAAD,MAAwB,kBAAC,KAAD,OAEvD,kBAACgM,EAAA,EAAD,CACE/J,QAxB4B,SAACuE,GACjCuF,EAAavF,EAAO2F,KAAKE,IAAI,EAAGF,KAAKC,KAAKR,EAAQE,GAAe,KAwB7DG,SAAUJ,GAAQM,KAAKC,KAAKR,EAAQE,GAAe,EACnDI,aAAW,aAEU,QAApBhN,EAAMc,UAAsB,kBAAC,KAAD,MAAoB,kBAAC,KAAD,QAMzD,IAUMsM,G,2MACJnM,MAAQ,CACN6I,WAAY,KACZuD,eAAgB,GAChBC,YAAa,GACbC,aAAc,GACdzL,MAAM,EACNmI,OAAQ,KACRuD,gBAAiB,EACjBC,SAAU,EACVC,uBAAwB,EACxBC,gBAAiB,G,kFAGAC,EAAWC,GACzBpM,KAAKR,MAAMa,OAAS+L,EAAU/L,MAC/BL,KAAKqM,gB,iFAOK,IAAD,OAGX,GAFAC,QAAQC,IAAI,eAEY,MAArBvM,KAAKR,MAAMgJ,OAAd,CAEAxI,KAAKwI,OAASxI,KAAKR,MAAMgJ,OAEzB,IAAIgE,EAAkB,GAClBV,EAAe,GACfW,EAAgB,GAIpB,GAAGzM,KAAKwI,OAAOkE,gBAAgB,CAC7B,IAAIC,EAAgB,GACpB7O,OAAO8O,OAAOD,EAAe3M,KAAKwI,OAAOkE,iBACzC1M,KAAKwI,OAAOqE,wBAA0BF,EAEtC3M,KAAKwI,OAAOqE,wBAA0B/O,OAAOyF,QAAQvD,KAAKwI,OAAOqE,yBAAyBC,MAAK,SAAC5O,EAAE6O,GAAK,OAAOA,EAAE,GAAG7O,EAAE,MAErH,IAAI8O,EAAM,EAEVhN,KAAKwI,OAAOqE,wBAAwB3M,SAAQ,SAAC+M,GAC3CD,GAAOC,EAAU,MAGnBjN,KAAKwI,OAAOqE,wBAAwB3M,SAAQ,SAAC+M,GAC3CA,EAAU,GAAKA,EAAU,GAAGD,KAIA,MAA7BhN,KAAK1B,MAAMsN,gBAAmD,MAAzB5L,KAAK1B,MAAM4O,aACjDlN,KAAKwI,OAAO2E,KAAO,GACnBnN,KAAKwI,OAAO/J,QAAU,GAEnBuB,KAAKwI,OAAO4E,gBACbpN,KAAKwI,OAAO4E,eAAelN,SAAQ,SAAAmN,GACjC,IAAIC,EAAaD,EAAKE,MAAM,KAAK,GAC7BC,EAASH,EAAKE,MAAM,KAAK,GAE7BE,MAAM,4EAA4E,EAAKnP,MAAM6C,KAAK,IAAImM,EAAW,iBAChHI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACFA,EAAKvE,QAAQA,QAAQkE,KACtB,EAAKhF,OAAO2E,KAAKG,GAAc,CAACH,KAAMU,EAAKvE,QAAQA,QAAQkE,GAAQL,KAAM/C,MAAOyD,EAAKvE,QAAQA,QAAQkE,GAAQpD,OAC7G,EAAKzJ,SAAS,CAAC0H,WAAY,EAAKG,YAEjC,GAEA1K,OAAOC,KAAK,EAAKO,MAAMsN,gBAAgB7K,SAASuM,IACjDxP,OAAO+C,OAAO,EAAKvC,MAAMsN,eAAe0B,IAAapN,SAAQ,SAAA4N,GAC3D,GAAGA,EAAWxE,SAAWxL,OAAOC,KAAK+P,EAAWC,SAAShN,SAASyM,GAAQ,CACxE,IAAIQ,EAAuBF,EAAWC,QAAQP,GAE1CS,EAAkB,GAGtB,GAFAnQ,OAAO8O,OAAOqB,EAAiBH,GAE5BA,EAAWxE,QAAQ0E,GAAsB,CAC1CC,EAAe,QAAcH,EAAWxE,QAAQ0E,GAAsBb,KACtEc,EAAe,OAAaX,EAE5B,IAAIY,EAAY,EAAK5P,MAAMmB,QAAQxB,MAAK,SAAAkQ,GAAO,OAAIA,EAAQ/M,IAAMkM,KAQjE,GANGY,EAAUnL,KACXkL,EAAe,MAAY,OAE3BA,EAAe,MAAYC,EAAU1O,OAGnCsO,EAAWxN,KAAKS,SAAS,iBAAiB,CAC5C,IAAIqN,EAAQ5B,EAAgBvO,MAAK,SAAAkQ,GAAO,OACtCA,EAAQ7N,MAAQ2N,EAAgB3N,MAChC6N,EAAQ/M,IAAM6M,EAAgB7M,IACb,MAAhB+M,EAAQd,MAAgBc,EAAQd,MAAQY,EAAgBZ,QAGvDe,EAGgB,MAAfA,EAAM5O,OAA6C,MAA5ByO,EAAe,QACvCG,EAAM5O,MAAQyO,EAAe,OAH/BzB,EAAgB9L,KAAKuN,GAQtBH,EAAWrP,SACZqP,EAAWrP,QAAQyB,SAAQ,SAAAmO,GACzB,GAAGA,EAAMC,aAAa/F,eAAeyF,GAAsB,CACzD,IAAIO,EAAa,GACjBA,EAAWC,eAAiBV,EAAWxN,KACvCiO,EAAWE,eAAiBX,EAAWY,KACvCH,EAAWD,aAAeD,EAAMC,aAChCC,EAAWI,aAAeb,EAAW1M,GAClC8M,EAAUnL,OACXwL,EAAWxL,MAAO,GAEpBwL,EAAWK,mBAAqB,GAChC9Q,OAAOC,KAAKsQ,EAAMC,cAAcpO,SAAQ,SAAAyO,GACtC,IAAIE,EAAoB/Q,OAAOyF,QAAQuK,EAAWC,SAAS9P,MAAK,SAAAoF,GAAC,OAAIA,EAAE,IAAMsL,KAC7E,GAAGE,EAAkB,CACnB,IAAIC,EAA4B,EAAKxQ,MAAM4O,WAAX,QAAiCI,EAAW,IAAIuB,EAAkB,IAClGN,EAAWK,mBAAmBD,GAAgB,EAAKrQ,MAAM4O,WAAX,QAAiC4B,GAC5ED,EAAkB,IAAMb,GACzBO,EAAWQ,SAAWR,EAAWK,mBAAmBD,GACpDJ,EAAWS,WAAaX,EAAMC,aAAaK,IAE3CJ,EAAWU,QAAUZ,EAAMC,aAAaK,OAI3CN,EAAMa,QAAUlB,IACjBO,EAAWY,KAAM,GAEqC,GAArDrR,OAAOC,KAAKwQ,EAAWK,oBAAoBhK,QAAe2J,EAAWQ,WACjD,GAAvBR,EAAWU,UAA2C,GAA1BV,EAAWS,YACrCvC,EAAc/L,KAAK6N,gBAazCjC,QAAQC,IAAI,gBAAgBC,EAAgB5H,QAC5C0H,QAAQC,IAAI,YAAYE,EAAc7H,QAEtC6H,EAAgBA,EAAcK,MAAK,SAAC5O,EAAG6O,GAAO,OAAOA,EAAE0B,eAAiBvQ,EAAEuQ,kBAG1E,IAAIW,EAAQ,GAETpP,KAAKwI,OAAO6G,IACbD,EAAM1O,KAAK,CAACE,KAAM,6BAA8BvD,MAAOmO,KAAK8D,MAAuB,KAAjBtP,KAAKwI,OAAO6G,IAAgBE,eAAe9S,EAAK+S,YAEpHJ,EAAM1O,KAAK,CAACE,KAAM,qBAAsBvD,MAAOmP,EAAgB5H,SAC/DwK,EAAM1O,KAAK,CAACE,KAAM,cAAevD,MAAOoP,EAAc7H,SAEtD,IAAI6K,EAAO,EACXhD,EAAcvM,SAAQ,SAACmO,GAAcA,EAAMc,MAAKM,GAAQ,MACxD,IAAIC,EAAUD,EAAKhD,EAAc7H,OAAO,IACpC8K,IAASA,EAAU,GACvBN,EAAM1O,KAAK,CACTE,KAAM,WACNvD,MAAOqS,EAAQH,eAAe9S,EAAK+S,SAAU,CAACG,sBAAuB,EAAEC,sBAAuB,IAAI,MAGpGH,EAAO,EACPhD,EAAc7B,MAAM,EAAG,IAAI1K,SAAQ,SAACmO,GAAcA,EAAMc,MAAKM,GAAQ,OACrEC,EAAUD,EAAKjE,KAAKqE,IAAIpD,EAAc7H,OAAQ,IAAI,OACrC8K,EAAU,GACvBN,EAAM1O,KAAK,CACTE,KAAM,0BACNvD,MAAOqS,EAAQH,eAAe9S,EAAK+S,SAAU,CAACG,sBAAuB,EAAEC,sBAAuB,IAAI,MAGpG,IAAIE,EAAS,GACbrD,EAAc7B,MAAM,EAAG,IAAI1K,SAAQ,SAACmO,GAC9ByB,EAAOvH,eAAe8F,EAAMU,SAASgB,OAOvCD,EAAOzB,EAAMU,SAASgB,MAAMtR,SAAW,EACvCqR,EAAOzB,EAAMU,SAASgB,MAAMN,MAAQpB,EAAMc,IAAM,EAAI,GAPpDW,EAAOzB,EAAMU,SAASgB,MAAQ,CAC5BA,KAAM1B,EAAMU,SAASgB,KACrBtR,QAAS,EACTgR,KAAMpB,EAAMc,IAAM,EAAI,MAO5BW,EAAShS,OAAO+C,OAAOiP,GAAQhD,MAAK,SAAC5O,EAAG6O,GAAJ,OAAU7O,EAAEO,QAAUsO,EAAEtO,WAE5D6N,QAAQC,IAAIuD,GAIZ,IAFA,IAAIE,EAAQ,KAEJ3M,EAAE,EAAGA,EAAEyM,EAAOlL,OAAQvB,IAE5B,GADAiJ,QAAQC,IAAIuD,EAAOzM,GAAGoM,KAAKK,EAAOzM,GAAG5E,SAClCqR,EAAOzM,GAAG5E,SAAW,GACtBqR,EAAOzM,GAAGoM,KAAKK,EAAOzM,GAAG5E,SAAW,GAAK,CACzCuR,EAAQhQ,KAAK1B,MAAM4O,WAAX,QAAiC4C,EAAOzM,GAAG0M,MACnD,MAIDC,GACDZ,EAAM1O,KAAK,CAACE,KAAM,QAASvD,OAAQ2S,EAAMhG,IAAMgG,EAAMhG,IAAI,IAAM,IAAMgG,EAAM1P,OAM1EkM,EAAgB5H,QAAU,GAC3BkH,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,mBACf,YAAe9D,EAAK8D,EAAE,wBACtB,KAAQ,oBAGJiM,EAAgB5H,QAAU,GAChCkH,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,uBACf,YAAe9D,EAAK8D,EAAE,4BACtB,KAAQ,oBAGJiM,EAAgB5H,QAAU,GAChCkH,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,uBACf,YAAe9D,EAAK8D,EAAE,4BACtB,KAAQ,oBAGJiM,EAAgB5H,QAAU,GAChCkH,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,0BACf,YAAe9D,EAAK8D,EAAE,+BACtB,KAAQ,oBAGJiM,EAAgB5H,QAAU,GAChCkH,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,0BACf,YAAe9D,EAAK8D,EAAE,+BACtB,KAAQ,oBAGJiM,EAAgB5H,QAAU,GAChCkH,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,wBACf,YAAe9D,EAAK8D,EAAE,6BACtB,KAAQ,oBAKZ,IAAI0P,EAAiB,EACjBC,EAAcC,IAElB3D,EAAgB4D,MAAK,SAAAtC,GACuB,GAAvCuC,OAAOC,SAASxC,EAAWxE,WAC5B2G,GAAkB,GAEjBI,OAAOC,SAASxC,EAAWxE,SAAW4G,IACvCA,EAAcG,OAAOC,SAASxC,EAAWxE,aAI1C2G,EAAiB,EACfA,EAAiB,EAClBnE,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,sBACf,YAAe9D,EAAK8D,EAAE,2BACtB,KAAQ,kBAEF0P,EAAiB,GACzBnE,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,wBACf,YAAe9D,EAAK8D,EAAE,6BACtB,KAAQ,kBAGVuL,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,qBACf,YAAe9D,EAAK8D,EAAE,0BACtB,KAAQ,kBAIM,GAAf2P,EACDpE,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,wBACf,YAAe9D,EAAK8D,EAAE,6BACtB,KAAQ,YAEa,GAAf2P,EACRpE,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,2BACf,YAAe9D,EAAK8D,EAAE,gCACtB,KAAQ,YAEF2P,EAAc,GACtBpE,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,uBACf,YAAe9D,EAAK8D,EAAE,4BACtB,KAAQ,aAMd,IAAIgQ,EAAqB,GAEzB/D,EAAgB4D,MAAK,SAAAtC,GACI,QAApBA,EAAWtO,OAAuC,MAApBsO,EAAWtO,QACtC+Q,EAAmBxP,SAAS+M,EAAWtO,QACzC+Q,EAAmB7P,KAAKoN,EAAWtO,WAKzC8M,QAAQC,IAAIgE,GAETA,EAAmB3L,OAAS,GAC7BkH,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,wBACf,YAAe9D,EAAK8D,EAAE,6BACtB,KAAQ,iBAKZ,IAAIiQ,EAAsB,EAoC1B,GAlCAhE,EAAgB4D,MAAK,SAAAtC,GACN,EAAKxP,MAAMmB,QAAQxB,MAAK,SAAAkQ,GAAO,OAAIA,EAAQ/M,IAAM0M,EAAW3N,UAC/D4C,OACRyN,GAAuB,MAIxBA,GAAuB,GACxB1E,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,0BACf,YAAe9D,EAAK8D,EAAE,+BACtB,KAAQ,qBAEFiQ,GAAuB,GAC/B1E,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,0BACf,YAAe9D,EAAK8D,EAAE,+BACtB,KAAQ,qBAEFiQ,GAAuB,GAC/B1E,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,2BACf,YAAe9D,EAAK8D,EAAE,gCACtB,KAAQ,qBAEFiQ,GAAuB,GAC/B1E,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,2BACf,YAAe9D,EAAK8D,EAAE,gCACtB,KAAQ,qBAKTP,KAAKwI,OAAOiI,qBAAuBzQ,KAAK1B,MAAMmB,QAAQ,CACvD,IAAIiR,EAAe,GACfzD,EAAY,GAChBnP,OAAOyF,QAAQvD,KAAKwI,OAAOiI,qBAAqBvQ,SAAQ,SAAAyQ,GACtD,IAAIxQ,EAAS,EAAK7B,MAAMmB,QAAQxB,MAAK,SAAAkQ,GAAO,OAAIA,EAAQ/M,IAAMuP,EAAM,MACjExQ,IACDuQ,EAAahQ,KAAKP,EAAOG,MACzB2M,EAAY0D,MAGbD,EAAa9L,OAAS,GACvBkH,EAAapL,KAAK,CAChB,KAAQjE,EAAK8D,EAAE,0BACf,YAAe9D,EAAK8D,EAAE,+BAA+B,IAAI0M,EAAU,GAAG,GAAG,KAAKyD,EAAa/G,KAAK,MAAM,IACtG,KAAQ,0BACR,YAAetC,GAAqBrH,KAAK1B,MAAM6C,KAAM8L,EAAU,GAAG,IAAI,QAK5EX,QAAQC,IAAIT,GAEZ9L,KAAKR,MAAMoR,IAAM,EAEjBpE,EAAgBtM,SAAQ,SAAA4N,GACtB,EAAKtO,MAAMoR,KAAO9C,EAAW+C,cAAgB,GAAK,EAAI/C,EAAWxE,QAAQwE,EAAW+C,kBAGtFpE,EAAcvM,SAAQ,SAAAmO,GACpB,EAAK7O,MAAMoR,KAAO,GAAK,GAAKvC,EAAMc,IAAM,GAAM,OAGhD,IAAI2B,EAAQtF,KAAKuF,KAAsB,EAAjB/Q,KAAKR,MAAMoR,KACjCtE,QAAQC,IAAIuE,GAIZ9Q,KAAKR,MAAM6I,WAAarI,KAAKwI,OAC7BxI,KAAKR,MAAMqM,YAAcW,EAAgBM,MAAK,SAAC5O,EAAG6O,GAAJ,OAAUA,EAAE2B,KAAOxQ,EAAEwQ,QACnE1O,KAAKR,MAAMf,QAAUgO,EACrBzM,KAAKR,MAAM4P,MAAQA,EACnBpP,KAAKR,MAAMsM,aAAeA,EAE1BQ,QAAQC,IAAIvM,KAAKR,MAAMsR,OAEvB9Q,KAAKW,SAASX,KAAKR,U,uCAGJwR,GACf,IAAIC,EAAQD,EAAQzD,MAAM,KAC1B,OAAO0D,EAAMA,EAAMrM,OAAO,K,6BAI1B9F,OAAOoS,OAAO,gBAAgBC,MAAM,Y,mCAIpCrS,OAAOoS,OAAO,gBAAgBC,MAAM,Y,sCAGtB9I,EAAYjH,GAC1B,IAAIkH,EAAO,EASX,OAPGD,EAAWE,eAAe,eAEhBrJ,IADXoJ,EAAOD,EAAU,MAAUA,EAAU,MAAUjH,OAE7CkH,EAAO,GAIJjB,GAAqBrH,KAAK1B,MAAM6C,KAAMkH,EAAU,MAAUjH,IAAK,KAAKkH,I,kCAGjEhI,GACV,OAAOA,EAAKnC,cAAcoJ,QAAQ,KAAM,M,+BAGhC,IAAD,OACChJ,EAAUyB,KAAK1B,MAAfC,MACAyF,EAAYhE,KAAK1B,MAAjB0F,QAER,OACE,kBAACmC,GAAA,EAAD,CACEzB,WAAW,EACX0M,SAAU,KACVC,aAAa,EACbhR,KAAML,KAAKR,MAAMa,KACjBiR,OAAO,OACPtN,QAAS,CAACuN,MAAOvN,EAAQwN,YACzBpL,QAAS,WAAK,EAAKzF,SAAS,CAACN,MAAM,IAAS,EAAK/B,MAAMmD,eAEvD,kBAAC4E,GAAA,EAAD,CAAa1E,MAAO,CAACkI,QAAS,EAAGZ,UAAW,UAC1C,kBAACoC,EAAA,EAAD,CAAY1J,MAAO,CAACM,MAAO,QAASX,QAAS,WAAK,EAAKX,SAAS,CAACN,MAAM,IAAS,EAAK/B,MAAMmD,eAA3F,WAIF,kBAAC6E,GAAA,EAAD,CAAe3E,MAAO,CAACkI,QAAS,IAC7B7J,KAAKR,MAAM6I,WACR,kBAAC0B,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAKpI,MAAO,CACV8P,UAAW,QAAStP,QAAS,OAAQiH,WAAY,SAAU/E,SAAU,WAAWc,SAAU,SAC1FuM,WAAY,GAAIC,cAAe,KAE/B,yBAAKhQ,MAAO,CAACgB,gBAAgB,OAAD,OAASyC,GAAT,6BAA4DD,SAAU,SAClGd,SAAU,WAAYpC,MAAO,OAAQC,OAAQ,OAAQE,eAAgB,UAAWwP,QAAS,QAGvF5R,KAAKR,MAAM6I,WAAWqB,SAAW1J,KAAKR,MAAM6I,WAAWqB,QAAQ9E,OAAS,EACtE,yBAAKjD,MAAO,CAACuF,OAAQ,IACnB,yBAAKmC,UAAWR,KAAOgJ,OAAQlQ,MAAO,CAACgB,gBAAiB,OAAO3C,KAAKR,MAAM6I,WAAWqB,QAAQC,KAAK,WAAW,QAIjH,KAGF,yBAAKhI,MAAO,CAACuF,OAAQ,EAAGjC,SAAU,EAAGX,WAAY,SAC/C,wBAAI+E,UAAWR,KAAOiJ,UAAWnQ,MAAO,CAACC,MAAO,UAC9C,uBAAGD,MAAO,CAACC,MAAOrD,EAAMwT,QAAQC,UAAUnH,OAAQ7K,KAAKR,MAAM6I,WAAW2B,IAAxE,KAEChK,KAAKR,MAAM6I,WAAW/H,KAEtBN,KAAKR,MAAM6I,WAAWyB,cAAsD,QAAtC9J,KAAKR,MAAM6I,WAAWyB,aAC3D,yBAAKT,UAAWR,KAAOoJ,UAAY,cAAetQ,MAAO,CACvDgB,gBAAgB,yFAAD,OAA2F3C,KAAKR,MAAM6I,WAAWyB,aAAa3L,cAA9H,SACf8D,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,UAAWC,iBAAkB,YACrGC,mBAAoB,SAAUoP,WAAY,OAAQpN,WAAY,OAAQ2E,UAAW,SAAU1G,cAAe,YAG5G,KAGDvC,KAAKR,MAAM6I,WAAW7I,OAAwC,QAA/BQ,KAAKR,MAAM6I,WAAW7I,MACpD,yBAAK6J,UAAWR,KAAOoJ,UAAY,cAAetQ,MAAO,CACvDgB,gBAAgB,uFAAD,OAAyF3C,KAAKR,MAAM6I,WAAWyB,aAA/G,YAA+H9J,KAAKR,MAAM6I,WAAW7I,MAArJ,SACfyC,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,UAAWC,iBAAkB,YACrGC,mBAAoB,SAAUoP,WAAY,OAAQpN,WAAY,OAAQ2E,UAAW,SAAU1G,cAAe,YAG5G,MAIHvC,KAAKR,MAAM6I,WAAW8B,UACrB,yBAAKd,UAAWR,KAAOqJ,UAAWlS,KAAKR,MAAM6I,WAAW8B,WAExD,KAGDnK,KAAKR,MAAM6I,WAAW8J,KACrB,yBAAK9I,UAAWR,KAAOuJ,MAAOzQ,MAAO,CAACC,MAAO,QAAS0I,SAAU,UAC9D,yBAAKjB,UAAWR,KAAOwJ,OAAQ1Q,MAAO,CACpCgB,gBAAiB,2BAA4BV,MAAO,GAAIC,OAAQ,GAAIoQ,OAAQ,EAAGC,MAAO,EACtFpQ,QAAS,eAAgBI,cAAe,SAAUG,YAAa,MAAON,eAAgB,WAGvFpC,KAAKR,MAAM6I,WAAW8J,KAAM,MAAOnS,KAAKR,MAAM6I,WAAW7H,SAG5D,KAEDR,KAAKR,MAAM6I,WAAWmK,aACrB,yBAAKnJ,UAAWR,KAAOuJ,MAAOzQ,MAAO,CAACC,MAAO,QAAS0I,SAAU,UAC9D,yBAAKjB,UAAWR,KAAOwJ,OAAQ1Q,MAAO,CACpCgB,gBAAiB,0BAA2BV,MAAO,GAAIC,OAAQ,GAAIoQ,OAAQ,EAAGC,MAAO,EACrFpQ,QAAS,eAAgBI,cAAe,SAAUG,YAAa,MAAON,eAAgB,QACtFK,aAAc,UAGhB,uBAAGpB,KAAM,mBAAmBrB,KAAKR,MAAM6I,WAAWmK,aAAcvT,OAAO,UACpEe,KAAKR,MAAM6I,WAAWmK,eAI3B,KAEDxS,KAAKR,MAAM6I,WAAW2I,QACrB,yBAAK3H,UAAWR,KAAOuJ,MAAOzQ,MAAO,CAACC,MAAO,QAAS0I,SAAU,UAC9D,yBAAKjB,UAAWR,KAAOwJ,OAAQ1Q,MAAO,CACpCgB,gBAAiB,0BAA2BV,MAAO,GAAIC,OAAQ,GAAIoQ,OAAQ,EAAGC,MAAO,EACrFpQ,QAAS,eAAgBI,cAAe,SAAUG,YAAa,MAAON,eAAgB,WAGxF,uBAAGf,KAAM,sBAAsBrB,KAAKyS,iBAAiBzS,KAAKR,MAAM6I,WAAW2I,SAAU/R,OAAO,UACzFe,KAAKyS,iBAAiBzS,KAAKR,MAAM6I,WAAW2I,WAIjD,KAEDhR,KAAKR,MAAM6I,WAAWqK,OACrB,yBAAKrJ,UAAWR,KAAOuJ,MAAOzQ,MAAO,CAACC,MAAO,QAAS0I,SAAU,UAC9D,yBAAKjB,UAAWR,KAAOwJ,OAAQ1Q,MAAO,CACpCgB,gBAAiB,yBAA0BV,MAAO,GAAIC,OAAQ,GAAIoQ,OAAQ,EAAGC,MAAO,EACpFpQ,QAAS,eAAgBI,cAAe,SAAUG,YAAa,MAAON,eAAgB,WAGxF,uBAAGf,KAAM,oBAAoBrB,KAAKR,MAAM6I,WAAWqK,OAAQzT,OAAO,UAC/De,KAAKR,MAAM6I,WAAWqK,SAI3B,KAED1S,KAAKR,MAAM6I,WAAWsK,QACrB,yBAAKtJ,UAAWR,KAAOuJ,MAAOzQ,MAAO,CAACC,MAAO,QAAS0I,SAAU,UAC9D,yBAAKjB,UAAWR,KAAOwJ,OAAQ1Q,MAAO,CACpCgB,gBAAiB,0BAA2BV,MAAO,GAAIC,OAAQ,GAAIoQ,OAAQ,EAAGC,MAAO,EACrFpQ,QAAS,eAAgBI,cAAe,SAAUG,YAAa,MAAON,eAAgB,WAGvFpC,KAAKR,MAAM6I,WAAWsK,SAGzB,MAGJ,yBAAKtJ,UAAWR,KAAO+J,cAAejR,MAAO,CAC3Ce,YAAa,OAAQ6B,UAAW,QAASwC,aAAc,QACvDpE,gBAAgB,OAAD,OAASyC,GAAT,sBAA6CpF,KAAK1B,MAAM6C,KAAxD,oBAAwEnB,KAAKyK,gBAAgBzK,KAAKR,MAAM6I,WAAY,GAApH,SACfkK,MAAO,EAAGtN,SAAU,EAAGD,WAAY,EAAG9C,OAAQ,OAAQsH,UAAW,SACjEhH,gBAAiBjE,EAAMwT,QAAQc,WAAWC,WAG5C,yBAAKnR,MAAO,CACV0C,SAAU,WAAYkO,MAAO,OAAQrL,OAAQ,EAAGoL,OAAQ,MACxDxR,OAAQ,iCAAkCqB,QAAS,SAElDnC,KAAKR,MAAM6I,WAAWkC,MAAMK,MAAM,GAAG5J,KAAI,SAAC6J,EAAMxH,GAAP,OACtC,yBAAKuF,MAAM,GAAGjH,MAAO,CACnBgB,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C,EAAK9G,MAAM6C,KAAxD,oBAAwE,EAAKsJ,gBAAgB,EAAKjL,MAAM6I,WAAYhF,EAAE,GAAtH,SACfpB,MAAO,OAAQC,OAAQ,OAAQI,mBAAoB,SAAUF,eAAgB,QAC7E6C,SAAU,EAAG9C,QAAS,OAAQ6C,WAAY,UAMnDhF,KAAKR,MAAMsM,cAAgB9L,KAAKR,MAAMsM,aAAalH,OAAS,EAC3D,kBAACmF,EAAA,EAAD,KACE,kBAACjH,EAAA,EAAD,CAAYnB,MAAO,CAACkI,QAAS,IAAK3G,QAAQ,KAAKI,UAAU,MAAzD,gBAGA,kBAACyG,EAAA,EAAD,CACEpI,MAAO,CACLkI,QAAS,OAAQkJ,OAAQ,EAAG5Q,QAAS,OAAQ6Q,SAAU,OACvDpJ,eAAgB,SAAUpH,gBAAiBjE,EAAMwT,QAAQc,WAAWC,UAGrE9S,KAAKR,MAAMsM,aAAa9K,KAAI,SAACiS,EAAa5P,GAAd,OAC3B,uBAAG3B,IAAK,EAAKlC,MAAM6I,WAAW/H,KAAK+C,EAAG1B,MAAO,CAACM,MAAO,GAAIgH,UAAW,SAAU9G,QAAS,OACvFkI,cAAe,SAAUjB,WAAY,SAAU8J,aAAc,UAC7DC,cAAY,UAAUC,iBAAe,MAAMC,MAAOJ,EAAYK,aAC5D,yBAAK3R,MAAO,CACVM,MAAO,GAAIC,OAAQ,GAAIE,eAAgB,QAASC,iBAAkB,OAClEiC,WAAY,EAAG5B,YAAa,EAC5BC,gBAAgB,OAAD,OAASyC,GAAT,+BAAsD6N,EAAYrT,KAAlE,KACfuC,QAAS,OAAQiH,WAAY,SAAUQ,eAAgB,WAEtDqJ,EAAYM,YACX,yBAAK5R,MAAO,CACVM,MAAO,GAAIC,OAAQ,GAAIE,eAAgB,UACvCO,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C,EAAK9G,MAAM6C,KAAxD,oBAAwE8R,EAAYM,YAApF,SACfzS,OAAQ,8FAGV,MAGJ,2BAAOa,MAAO,CAACsH,UAAW,WAAYgK,EAAY3S,YAM1D,KAGDN,KAAKR,MAAM6I,WAAW8E,MAAQrP,OAAOC,KAAKiC,KAAKR,MAAM6I,WAAW8E,MAAMvI,OAAS,EAC9E,kBAACmF,EAAA,EAAD,KACE,kBAACjH,EAAA,EAAD,CAAYnB,MAAO,CAACkI,QAAS,IAAK3G,QAAQ,KAAKI,UAAU,MACtD7G,EAAK8D,EAAE,YAEV,kBAACkI,GAAA,EAAD,CAAMS,WAAS,EAACvH,MAAO,CAACkI,QAAS,GAAIrH,gBAAiBjE,EAAMwT,QAAQc,WAAWC,UAC5EhV,OAAOyF,QAAQvD,KAAKR,MAAM6I,WAAW8E,MAAML,MAAK,SAAC5O,EAAG6O,GAAK,OAAO7O,EAAE,GAAGiP,KAAKJ,EAAE,GAAGI,QAAOnM,KAAI,SAACmM,EAAM9J,GAAP,OACzF,kBAACoF,GAAA,EAAD,CAAMC,MAAI,EAACC,IAAE,EAAC6K,GAAI,EAAGC,GAAI,EAAG9R,MAAO,CAACkI,QAAS,OAAQzI,GAAIiC,GACtD,EAAK/E,MAAMmB,QACV,kBAAC,IAAD,CACEyB,GAAE,WAAM,EAAK5C,MAAM6C,KAAjB,oBAAiCgM,EAAK,IACxC7L,QAAS,WAAK,EAAKX,SAAS,CAACN,MAAM,IAAS,EAAK/B,MAAMmD,cACvDE,MAAO,CAACQ,QAAS,SACf,yBAAKR,MAAO,CAACM,MAAO,OAAQgH,UAAW,SAAUqB,SAAU,SAC3D9H,gBAAiB,YAAaL,QAAS,OAAQ6C,WAAY,EAAGpD,MAAO,UACnE,yBAAKD,MAAO,CAAC6H,UAAW,SAAUvH,MAAO,SACtCkL,EAAK,GAAGA,OAGb,yBAAKxL,MAAO,CACVM,MAAO,OAAQC,OAAQ,OAAQC,QAAS,eAAgBC,eAAgB,QAASE,mBAAoB,SACrG0C,WAAY,EACZrC,gBAAgB,kFAAD,OAAoF,EAAKrE,MAAM6C,KAA/F,wBAAmHgM,EAAK,GAAxH,YACjB,yBAAKxL,MAAO,CAACQ,QAAS,OAAQkI,cAAe,SAAUlF,SAAU,SAAUlD,MAAO,OAAQO,gBAAiB,cACzG,yBAAKb,MAAO,CAACiC,YAAa,MAAOsB,aAAc,WAAYoF,SAAU,SACrEoJ,WAAY,SAAUvO,SAAU,SAAU3C,gBAAiB,OAAQZ,MAAO,UACvE,EAAKtD,MAAMmB,QAAQxB,MAAK,SAAAkQ,GAAO,OAAIA,EAAQ/M,IAAM+L,EAAK,MAAI7M,MAE7D,yBAAKqB,MAAO,CAACiC,YAAa,MAAOhC,MAAO,QAASqD,SAAU,EAAGqF,SAAU,WACrE6C,EAAK,GAAG/C,MADX,WAMN,6BAAMtM,OAAOC,KAAK,EAAKyB,MAAM6I,WAAW8E,MAAM9J,UAOxD,KAGDrD,KAAKR,MAAM4P,OAASpP,KAAKR,MAAM4P,MAAMxK,OAAS,EAC7C,kBAACmF,EAAA,EAAD,KACE,kBAACjH,EAAA,EAAD,CAAYnB,MAAO,CAACkI,QAAS,IAAK3G,QAAQ,KAAKI,UAAU,MAAzD,SAGA,kBAACyG,EAAA,EAAD,CACEpI,MAAO,CACLkI,QAAS,OAAQkJ,OAAQ,EAAGnJ,eAAgB,SAC5CpH,gBAAiBjE,EAAMwT,QAAQc,WAAWC,UAG3C9S,KAAKR,MAAM4P,MAAMpO,KAAI,SAAA2S,GAAI,OACxB,kBAAC5J,EAAA,EAAD,CAAKpI,MAAO,CACVQ,QAAS,OAAQK,gBAAiB,QAASC,aAAc,OACzDoH,QAAS,EAAG1E,SAAU,SAAUZ,UAAW,MAAOwC,aAAc,MAChE7E,OAAQ,OAAQwR,WAAY,WAE5B,yBAAK/R,MAAO,CACVsD,SAAU,EAAG4E,QAAS,WAAYjI,MAAO,QAASsD,aAAc,WAChE1C,gBAAiB,OAAQwC,WAAY,EAAGG,SAAU,SAAUhD,QAAS,SAErE,yBAAKyG,MAAOC,KAAO,cAAelH,MAAO,CAACwD,SAAU,SAAUD,aAAc,WAAYsE,UAAW,WAChGmK,EAAK/S,OAGV,yBAAKe,MAAO,CACVM,MAAO,OAAQO,gBAAiB,OAChCoR,SAAU,yCACV5O,WAAY,EACZV,YAAa,EAAGC,WAAY,KAE9B,yBAAKqE,MAAOC,KAAO,cAAelH,MAAO,CACvCkI,QAAS,WAAYrH,gBAAiB,QACtCZ,MAAO,QAASqH,UAAW,QAAShH,MAAO,MAC3CkD,SAAU,SAAUD,aAAc,WAAY/C,QAAS,OACvDyH,eAAgB,aAEhB,yBAAKhB,MAAOC,KAAO,cAAelH,MAAO,CAACwD,SAAU,SAAUD,aAAc,WAAYsE,UAAW,WAChGmK,EAAKtW,cAQlB,KAGD2C,KAAKR,MAAM6I,WAAWwE,yBACvB7M,KAAKR,MAAM6I,WAAWwE,wBAAwBjI,OAAS,EACrD,kBAACmF,EAAA,EAAD,KACE,kBAACjH,EAAA,EAAD,CAAYnB,MAAO,CAACkI,QAAS,IAAK3G,QAAQ,KAAKI,UAAU,MACtD7G,EAAK8D,EAAE,8BAEV,kBAACwJ,EAAA,EAAD,CACEpI,MAAO,CACLkI,QAAS,OAAQkJ,OAAQ,EAAG5Q,QAAS,OACrCK,gBAAiBjE,EAAMwT,QAAQc,WAAWC,QAASE,SAAU,OAC7DpJ,eAAgB,WAGjB5J,KAAKR,MAAM6I,WAAWwE,wBAAwB7L,KAAI,SAACiM,EAAW5J,GAAZ,OACjD,uBAAG3B,IAAK,EAAKlC,MAAM6I,WAAW/H,KAAK+C,EAAG1B,MAAO,CAACsH,UAAW,SAAU9G,QAAS,OAC5EkI,cAAe,SAAUjB,WAAY,SAAU8J,aAAc,UAC7DC,cAAY,UAAUC,iBAAe,OACnC,yBAAKxK,MAAM,GAAGjH,MAAO,CACnBgB,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C,EAAK9G,MAAM6C,KAAxD,oBAAwEkG,GAAqB,EAAK/I,MAAM6C,KAAMgH,GAA0B8E,EAAU,KAAK,MAAvJ,SACfhL,MAAO,OAAQC,OAAQ,OAAQI,mBAAoB,SAAUF,eAAgB,QAC7E6C,SAAU,EAAG9C,QAAS,OAAQ6C,WAAY,EAAG+N,OAAQ,mBAEvD,gCAAS,IAAI9F,EAAU,IAAI4G,QAAQ,GAAnC,WAMR,KAGD7T,KAAKR,MAAMf,QACV,kBAACsL,EAAA,EAAD,KACE,kBAACjH,EAAA,EAAD,CAAYnB,MAAO,CAACkI,QAAS,IAAK3G,QAAQ,KAAKI,UAAU,MACtD,eAEH,kBAACwQ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAOpS,MAAO,CAACa,gBAAiBjE,EAAMwT,QAAQc,WAAWC,UACvD,kBAACkB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,CAAWC,MAAM,OAAjB,YACA,kBAACD,GAAA,EAAD,CAAWC,MAAM,OAAjB,cACA,kBAACD,GAAA,EAAD,CAAWC,MAAM,OAAO1X,EAAK8D,EAAE,SAC/B,kBAAC2T,GAAA,EAAD,CAAWC,MAAM,MAAMxS,MAAO,CAACsH,UAAW,WAA1C,WAGJ,kBAACmL,GAAA,EAAD,MAEKpU,KAAKR,MAAMuM,gBAAkB,EAC5B/L,KAAKR,MAAMf,QAAQmM,MACjB5K,KAAKR,MAAMwM,SAAWhM,KAAKR,MAAMuM,gBACjC/L,KAAKR,MAAMwM,SAAWhM,KAAKR,MAAMuM,gBAAkB/L,KAAKR,MAAMuM,iBAGhE/L,KAAKR,MAAMf,SACXuC,KAAI,SAACqN,EAAOhL,GAAR,OACJ,kBAAC4Q,GAAA,EAAD,CAAU7S,GAAIiC,GAAG,EAAG,YAAc,GAAIuF,MAAOvF,GAAG,EAAG,WAAa,IAC9D,kBAAC6Q,GAAA,EAAD,KACE,2BACG7F,EAAMc,IACL,IAAM,MAIZ,kBAAC+E,GAAA,EAAD,KACG7F,EAAMtL,KACL,8BAAM,kBAAC,IAAD,CAAiBnD,KAAMyU,OAE7B,MAGJ,kBAACH,GAAA,EAAD,KAAY7F,EAAMU,SAAS/E,IAAMqE,EAAMU,SAAS/E,IAAI,IAAM,GAAIqE,EAAMU,SAASzO,MAC7E,kBAAC4T,GAAA,EAAD,KACE,uBAAGjV,OAAO,SAASoC,KAAI,0CAAqCgN,EAAMM,cAAgBhN,MAAO,CAACC,MAAO,QAASC,eAAgB,SACvHwM,EAAMG,iBAGX,kBAAC0F,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,cAAe,CAAC+T,KAAM9W,KAAO+W,KAAKlG,EAAMI,gBAAgB+F,YAC3E,kBAACN,GAAA,EAAD,CAAWvS,MAAO,CAACsH,UAAW,WAAYoF,EAAMY,QAAhD,MAA4DZ,EAAMW,iBAK1E,kBAACyF,GAAA,EAAD,KACE,kBAACR,GAAA,EAAD,KACE,kBAACS,GAAA,EAAD,CACEC,mBAAoB,CAAC,EAAG,GAAI,GAAI,CAAEzO,MAAO,MAAO7I,OAAQ,IACxDuX,QAAS,KACT3J,MAAOjL,KAAKR,MAAMf,QAAQmG,OAC1BuG,YAAanL,KAAKR,MAAMuM,gBACxBb,KAAMlL,KAAKR,MAAMwM,SACjB6I,YAAa,CACXC,WAAY,CAAE,aAAc,kBAE9B1J,aAAc,SAACvF,EAAOqF,GAAQ,EAAKvK,SAAS,CAACqL,SAAUd,KACvD6J,oBAAqB,SAAClP,GAAS,EAAKlF,SAAS,CAACoL,gBAAiBuE,SAASzK,EAAM5G,OAAO5B,MAAO,OAC5F2X,iBAAkBhK,UAQ9B,KAGDhL,KAAKR,MAAMqM,YACV,kBAAC9B,EAAA,EAAD,KACE,kBAACjH,EAAA,EAAD,CAAYnB,MAAO,CAACkI,QAAS,IAAK3G,QAAQ,KAAKI,UAAU,MACtD7G,EAAK8D,EAAE,gBAEV,kBAACuT,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAOpS,MAAO,CAACa,gBAAiBjE,EAAMwT,QAAQc,WAAWC,UACvD,kBAACkB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,SACnB,kBAAC2T,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,SACnB,kBAAC2T,GAAA,EAAD,CAAWe,MAAM,UAAUxY,EAAK8D,EAAE,cAGtC,kBAAC6T,GAAA,EAAD,MAEKpU,KAAKR,MAAMyM,uBAAyB,EACnCjM,KAAKR,MAAMqM,YAAYjB,MACrB5K,KAAKR,MAAM0M,gBAAkBlM,KAAKR,MAAMyM,uBACxCjM,KAAKR,MAAM0M,gBAAkBlM,KAAKR,MAAMyM,uBAAyBjM,KAAKR,MAAMyM,wBAG9EjM,KAAKR,MAAMqM,aAEZ7K,KAAI,SAAC8M,EAAYzK,GAAb,OACH,kBAAC4Q,GAAA,EAAD,CAAU7S,GAAIiC,GAAG,EAAG,YAAc,GAAIuF,MAAOvF,GAAG,EAAG,WAAa,IAC9D,kBAAC6Q,GAAA,EAAD,KACyB,GAAtBpG,EAAWxE,QACV,8CAEA,KAEqB,GAAtBwE,EAAWxE,QACV,8CAEA,KAEqB,GAAtBwE,EAAWxE,QACV,8CAEA,MAGJ,kBAAC4K,GAAA,EAAD,KACuB,QAApBpG,EAAWtO,MACV,8BAAM,kBAAC,IAAD,CAAiBI,KAAMyU,OAE7B,8BAAOvG,EAAWtO,QAGtB,kBAAC0U,GAAA,EAAD,KAAW,uBAAGjV,OAAO,SAASoC,KAAI,0CAAqCyM,EAAW1M,IAAMO,MAAO,CAACC,MAAO,QAASC,eAAgB,SAC7HiM,EAAWxN,OAEd,kBAAC4T,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,cAAe,CAAC+T,KAAM9W,KAAO+W,KAAKzG,EAAWY,MAAM8F,YACtE,kBAACN,GAAA,EAAD,CAAWe,MAAM,UAAUnH,EAAWxE,QAAQ,mCAASwE,EAAW+C,qBAK1E,kBAAC4D,GAAA,EAAD,KACE,kBAACR,GAAA,EAAD,KACE,kBAACS,GAAA,EAAD,CACEC,mBAAoB,CAAC,EAAG,GAAI,GAAI,CAAEzO,MAAO,MAAO7I,OAAQ,IACxDuX,QAAS,KACT3J,MAAOjL,KAAKR,MAAMqM,YAAYjH,OAC9BuG,YAAanL,KAAKR,MAAMyM,uBACxBf,KAAMlL,KAAKR,MAAM0M,gBACjB2I,YAAa,CACXC,WAAY,CAAE,aAAc,kBAE9B1J,aAAc,SAACvF,EAAOqF,GAAQ,EAAKvK,SAAS,CAACuL,gBAAiBhB,KAC9D6J,oBAAqB,SAAClP,GAAS,EAAKlF,SAAS,CAACsL,uBAAwBqE,SAASzK,EAAM5G,OAAO5B,MAAO,OACnG2X,iBAAkBhK,UAQ9B,KAGDhL,KAAKR,MAAM6I,WAAWwD,YACrB,yBAAKlK,MAAO,CAACQ,QAAS,QAAS0H,QAAS,SACtC,kDACA,2BAAOjB,MAAM,+BAA+BjH,MAAO,CAACC,MAAO,UACzD,+BACE,4BACE,wBAAIuS,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,mBACA,wBAAIA,MAAM,OAAV,qBAGJ,+BAEInU,KAAKR,MAAM6I,WAAWwD,YAAYiB,MAAK,SAAC5O,EAAG6O,GAAJ,OAAUsD,OAAOtD,EAAEzM,MAAQ+P,OAAOnS,EAAEoC,SAAOwM,MAAK,SAAC5O,EAAG6O,GAAJ,OAAUsD,OAAOtD,EAAEmI,QAAU7E,OAAOnS,EAAEgX,WAASlU,KAAI,SAAC8M,EAAYzK,GAAb,OACxI,wBAAIuF,MAAOvF,EAAE,GAAI,GAAK,cACpB,wBAAI8Q,MAAM,OAAO9Q,EAAE,GACnB,4BAAKyK,EAAWxN,MAChB,4BAAKwN,EAAWX,MAChB,4BAAKW,EAAWqH,SACf9R,EAAE,GACD,4BAAI,2BAAIyK,EAAWoH,SAEnB,4BAAKpH,EAAWoH,eAS9B,MAIN,yBAAKtM,MAAM,iB,GAj9BG/B,aAy9BXC,iBAn+BG,SAACvI,GAAD,MAAY,CAC5BiT,WAAW,eACRjT,EAAMI,YAAYsI,KAAK,MAAQ,CAC9B8L,OAAQ,EACR3B,SAAU,kBACVnP,MAAO,YA89BwB,CAACmT,WAAW,GAAlCtO,CAAyC6E,IChhClD0J,G,YAUJ,aAAe,IAAD,8BACZ,+CAVF7V,MAAQ,CACNqF,eAAgB,EAChByQ,QAAS,GACTC,WAAY,CAAC,UAAW,UAAW,WACnCC,YAAa,CAAC,UAAW,UAAW,WACpCC,YAAa,CAAC,UAAW,UAAW,WACpCC,WAAY,GAKZ,EAAKC,YAAcC,IAAMC,YAFb,E,iFAMT7V,KAAK1B,MAAMgL,QACZtJ,KAAKR,MAAM8V,QAAUtV,KAAK1B,MAAMgL,QAEhCtJ,KAAKR,MAAM8V,QAAU,KAGpBtV,KAAK1B,MAAMwX,WACZ9V,KAAKR,MAAMsW,WAAa9V,KAAK1B,MAAMwX,WAEnC9V,KAAKR,MAAMsW,WAAa,KAG1B9V,KAAKW,SAASX,KAAKR,S,yCAGF2M,GAAW,IAAD,OAC3B,GAAGnM,KAAK1B,MAAMgL,SAAWtJ,KAAK1B,MAAMgL,QAAQ1E,OAAS,EAAE,CAErD,GADA0H,QAAQC,IAAIvM,KAAK1B,MAAM+P,MAAM0H,QAC1B/V,KAAK1B,MAAM+P,MAAM0H,OAAjB,WAA+E,GAAvC/V,KAAK2V,YAAYK,QAAQxW,MAAMa,KAAc,CACtFiM,QAAQC,IAAIvM,KAAK1B,MAAM+P,MAAM0H,OAAjB,WAEZ,IAAIE,EAAMC,SAASC,eAAe,kBAAkBnW,KAAK1B,MAAMgL,QAAQ8M,WAAU,SAACC,GAAD,OAAKA,EAAEC,WAAa,EAAKhY,MAAM+P,MAAM0H,OAAjB,cACrGzJ,QAAQC,IAAI0J,GAETA,GACDnX,OAAOyX,SAAS,CAACC,SAAU,SAAUnR,IAAK4Q,EAAIQ,YAEhD,IAAIJ,EAAIrW,KAAK1B,MAAMgL,QAAQrL,MAAK,SAACoY,GAAD,OAAKA,EAAEC,WAAa,EAAKhY,MAAM+P,MAAM0H,OAAjB,aACpDzJ,QAAQC,IAAI8J,GAETA,GACDrW,KAAK2V,YAAYK,QAAQrV,SAAS,CAACN,MAAM,EAAMmI,OAAQ6N,IAGxDrW,KAAK1B,MAAMgL,SAAW6C,EAAU7C,SACjCtJ,KAAKW,SAAS,CAAC+U,WAAY,O,sCAKjBrN,EAAYjH,GAC1B,IAAIkH,EAAO,EASX,OAPGD,EAAWE,eAAe,eAEhBrJ,IADXoJ,EAAOD,EAAU,MAAUA,EAAU,MAAUjH,OAE7CkH,EAAO,GAIJjB,GAAqBrH,KAAK1B,MAAM6C,KAAMkH,EAAU,MAAUjH,IAAK,KAAKkH,I,kCAGjEhI,GACV,OAAOA,EAAKnC,cAAcoJ,QAAQ,KAAM,M,uCAGzByJ,GACf,IAAIC,EAAQD,EAAQzD,MAAM,KAC1B,OAAO0D,EAAMA,EAAMrM,OAAO,K,0CAGRtE,GAClB,OAAOA,EAAKoW,UAAU,QAAQnP,QAAQ,KAAM,KAAKA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,WAAWA,QAAQoP,OAAO,kBAAmB,IAAIpP,QAAQ,IAAK,M,sCAGrIiB,GACd1J,OAAO8X,QAAQC,aAAa,KAAM,KAChC,IAAI7W,KAAK1B,MAAM6C,KAAK,YAAYnB,KAAK1B,MAAM+P,MAAM0H,OAAjB,GAA8B,IAC9D/V,KAAK1B,MAAM+P,MAAM0H,OAAjB,IAA+B,IAAIvN,EAAO8N,WAG5CtW,KAAK2V,YAAYK,QAAQrV,SAAS,CAACN,MAAM,EAAMmI,OAAQA,M,yCAIvD1J,OAAO8X,QAAQC,aAAa,KAAM,KAChC,IAAI7W,KAAK1B,MAAM6C,KAAK,YAAYnB,KAAK1B,MAAM+P,MAAM0H,OAAjB,GAA8B,IAC9D/V,KAAK1B,MAAM+P,MAAM0H,OAAjB,IAA+B,O,+BAIzB,IAAD,OACDxX,EAAQyB,KAAK1B,MAAMC,MACjByF,EAAYhE,KAAK1B,MAAjB0F,QAcR,OAZAhE,KAAKR,MAAM8V,QAAUtV,KAAK1B,MAAMgL,QAChCtJ,KAAKR,MAAMsW,WAAa9V,KAAK1B,MAAMwX,WAEN,IAAzB9V,KAAKR,MAAMkW,WAAW,IAAS1V,KAAKR,MAAM8V,QAAQ1Q,SACpD5E,KAAK6D,QAAUiT,WAAW,WACrB9W,OACDA,KAAKW,SAAS,CAAC+U,WAAY1V,KAAKR,MAAMkW,WAAW,IACjD1V,KAAK6D,QAAU,OAEjBkT,KAAK/W,MAAO,MAId,6BACGA,KAAKR,MAAM8V,SAAWtV,KAAKR,MAAM8V,QAAQ1Q,OAAS,EACjD,kBAACoS,GAAA,EAAD,CAAW5F,SAAS,KAAK6F,gBAAc,GACrC,kBAACxO,GAAA,EAAD,CAAMS,WAAS,GACZlJ,KAAKR,MAAM8V,QAAQ1K,MAAM,EAAE,GAAG5J,KAAI,SAACwH,EAAQnF,GAAT,OACjC,kBAACoF,GAAA,EAAD,CAAMC,MAAI,EAAC8K,GAAI,EAAGC,GAAI,EAAGyD,GAAI,EAAGvO,GAAI,GAAIhH,MAAO,CAACkI,QAAS,MAAO1E,SAAU,WACxE,kBAAC4D,GAAA,EAAD,CAAMpH,MAAO,CACX0C,SAAU,WAAYc,SAAU,SAAU3C,gBAAiB,EAAKhD,MAAM+V,WAAWlS,KAEjF,kBAAC2F,GAAA,EAAD,CACE1H,QAAS,kBAAI,EAAK6V,gBAAgB3O,IAClC4O,WAAW,QACXC,cAAY,eACZ3V,IAAK,EAAKlC,MAAMqF,eAAe,IAAIxB,EACnCjC,GAAI,kBAAkBiC,EACtBgG,UAAWrF,EAAQsT,UACnB3V,MAAO,CACL0C,SAAU,WAAYc,SAAU,SAAU8D,UAAW,WAEvD,yBAAKtH,MAAO,CACVa,gBAAiB,EAAKhD,MAAMgW,YAAYnS,GAAIgB,SAAU,WACtDgB,IAAK,EAAGiN,OAAQ,EAAGhN,KAAM,EAAGiN,MAAO,EACnCqB,SAAU,sCAEZ,yBAAKjS,MAAO,CACVa,gBAAiB,EAAKhD,MAAMiW,YAAYpS,GAAIgB,SAAU,WACtDgB,IAAK,EAAGiN,OAAQ,EAAGhN,KAAM,EAAGiN,MAAO,EACnCqB,SAAU,wCAEZ,yBAAKjS,MAAO,CACVgB,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C,EAAK9G,MAAM6C,KAAxD,oBAAwE,EAAKsJ,gBAAgBjC,EAAQ,GAArG,SAAgHrG,QAAS,OACxIF,MAAO,oBAAqBC,OAAQ,oBAAqBI,mBAAoB,SAAUF,eAAgB,QACvGtB,OAAQ,uCAAwCwD,WAAY,QAASC,UAAW,WAGlF,yBAAK5C,MAAO,CACVa,gBAAiBjE,EAAMwT,QAAQc,WAAWtB,MAC1CnI,WAAY,SAAUjH,QAAS,OAAQkI,cAAe,SACtDnI,OAAQ,OAAQmC,SAAU,WAAYiB,KAAM,MAAOiN,MAAO,MAAOD,OAAQ,EAAG1I,eAAgB,SAC5FhG,YAAa,OAAQ2T,aAAc,SAEnC,kBAACxN,EAAA,EAAD,CAAK5H,QAAQ,OAAOyH,eAAe,SAAST,QAAM,GAC/CX,EAAOwB,IACN,kBAAClH,EAAA,EAAD,CAAYqG,QAAM,EAACjG,QAAQ,KAAKtB,MAAM,YAAYyH,UAAWrF,EAAQiG,UAAWzB,EAAOwB,IAAvF,QAEA,KAEF,kBAAClH,EAAA,EAAD,CAAYqG,QAAM,EAACjG,QAAQ,KAAKtB,MAAM,cAAcyH,UAAWrF,EAAQiG,UAAWzB,EAAOlI,OAE3F,kBAACwC,EAAA,EAAD,CAAYqG,QAAM,EAACjG,QAAQ,QAAQtB,MAAM,gBAAgByH,UAAWrF,EAAQkG,SAAUvI,MAAO,CAACmD,WAAY,WACvG0D,EAAO2B,YAIZ,yBAAKxI,MAAO,CACVM,MAAO,QAASC,OAAQ,QAASmC,SAAU,WAC3C7B,gBAAiBjE,EAAMwT,QAAQc,WAAWtB,MAAOlM,KAAM,IAAKC,MAAO,IACnEkS,UAAW,oBAGb,yBAAK7V,MAAO,CACVM,MAAO,QAASC,OAAQ,QAASmC,SAAU,WAAYgB,IAAK,IAE5D,yBAAK1D,MAAO,CACVM,MAAO,IAAKC,OAAQ,IAAKS,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C/B,EAAE,EAA/C,SACxCjB,eAAgB,QAASiC,SAAU,eAIvC,yBAAK1C,MAAO,CACV0C,SAAU,WAAYiB,KAAM,MAAOiN,MAAO,MAAOD,OAAQ,OACzD1Q,MAAO,QAASO,QAAS,OAAQuR,WAAY,SAAU5O,WAAY,SAEnE,yBAAKnD,MAAO,CACVQ,QAAS,OAAQ8C,SAAU,EAAG+N,SAAU,OAAQxJ,UAAW,WAC3DK,QAAS,OAAQ/I,OAAQ,mCAExB0H,EAAO+B,MAAM3F,OAAS,EACrB4D,EAAO+B,MAAMK,MAAM,GAAG5J,KAAI,SAAC6J,EAAMxH,GAAP,OACxB,yBAAK1B,MAAO,CACVgB,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C,EAAK9G,MAAM6C,KAAxD,oBAAwE,EAAKsJ,gBAAgBjC,EAAQnF,EAAE,GAAvG,SACfpB,MAAO,OAAQC,OAAQ,OAAQI,mBAAoB,SAAUF,eAAgB,QAC7E6C,SAAU,EAAG9C,QAAS,qBAI1B,MAGJ,yBAAKR,MAAO,CAACQ,QAAS,OAAQkI,cAAe,SAAUT,eAAgB,aACrE,yBAAKjI,MAAO,CACVQ,QAAS,OAAQyH,eAAgB,WACjC9I,OAAQ,mCAEP0H,EAAOsB,cAAuC,QAAvBtB,EAAOsB,aAC/B,yBAAKlB,MAAM,GAAGjH,MAAO,CACnBM,MAAO,OAAQE,QAAS,OAAQyH,eAAgB,SAAUR,WAAY,SAAUS,QAAS,MAAOL,UAAW,aAE3G,yBAAKZ,MAAM,OAAOjH,MAAO,CACvBgB,gBAAgB,yFAAD,OAA2F6F,EAAOsB,aAAa3L,cAA/G,WACd,8BAAOqK,EAAOsB,gBAGnB,KAEDtB,EAAOhJ,OAAyB,QAAhBgJ,EAAOhJ,MACtB,yBAAKoJ,MAAM,GAAGjH,MAAO,CACnBM,MAAO,OAAQE,QAAS,OAAQyH,eAAgB,SAAUR,WAAY,SAAUS,QAAS,MAAOL,UAAW,aAE3G,yBAAKZ,MAAM,OAAOjH,MAAO,CACvBgB,gBAAgB,uFAAD,OAAyF6F,EAAOsB,aAAhG,YAAgHtB,EAAOhJ,MAAvH,WACd,8BAAOgJ,EAAOhJ,SAGnB,MAGF,yBAAKmC,MAAO,CACV2I,SAAU,SAAU9H,gBAAiB,QAASZ,MAAO,QAASqH,UAAW,QACzEO,UAAW,WAAYK,QAAS,MAAO6H,WAAY,MAAOC,cAAe,QAExEnJ,EAAO4B,MAJV,WASH5B,EAAOkB,SAAWlB,EAAOkB,QAAQ9E,OAAS,EACzC,yBAAKjD,MAAO,CACVgB,gBAAiB,OAAO6F,EAAOkB,QAAQC,KAAK,WAAW,IACvD1H,MAAO,OAAQC,OAAQ,OAAQE,eAAgB,QAASE,mBAAoB,SAC5EG,aAAc,OAAQ4B,SAAU,WAAYkO,MAAO,GAAIlN,IAAK,GAAIoS,OAAQ,oBACxEjV,gBAAiB,UAInB,YAQZ,kBAACiG,GAAA,EAAD,CAAMS,WAAS,GACVlJ,KAAKR,MAAM8V,QAAQ1K,MAAM,EAA+B,IAA3B5K,KAAKR,MAAMkW,WAAW,IAAS1U,KAAI,SAACwH,EAAQnF,GAAT,OAC/D,kBAAC,GAAD,CAAelC,KAAM,EAAK7C,MAAM6C,KAAMqH,OAAQA,EAAQlH,QAAS,kBAAI,EAAK6V,gBAAgB3O,UAG7F8D,QAAQC,IAAI,YAEb,yBAAK5K,MAAO,CAACsH,UAAW,QAASrH,MAAO,UACtC,yBAAKgH,MAAM,SAASjH,MAAO,CAACkI,QAAS,UAArC,yBACyBrM,KAAOwC,KAAKR,MAAMsW,YAAY4B,SAAS,EAAG,SAASta,OAAO,kBAAoB,cAKzG4C,KAAKR,MAAMsW,WACT,yBAAKlN,MAAO,SAAUjH,MAAO,CAAC+P,WAAY,KACxC,yBAAK9I,MAAOC,IAAO8O,SAAUhW,MAAO,CAACkI,QAAS,YAAa/E,WAAY,OAAQ5C,OAAQ,SAAvF,6IAKJ,yBAAK0G,MAAM,WAEf,kBAAC,GAAD,CAAazH,KAAMnB,KAAK1B,MAAM6C,KAAMyW,IAAK5X,KAAK2V,YAAatV,KAAML,KAAKR,MAAMqY,kBAAmBpW,WAAYzB,KAAK8X,iBAAiBf,KAAK/W,MAAOP,QAASO,KAAK1B,MAAMyZ,SAAU7K,WAAYlN,KAAK1B,MAAM4O,WAAYtB,eAAgB5L,KAAK1B,MAAMsN,eAAgBgL,QAAS5W,KAAK1B,MAAMsY,e,GAzRzPoB,iBA+Rb5C,gBAAUtO,cAzTT,SAACxI,GAAD,YAAY,CAC1B2L,SAAS,aACLnF,WAAY,UACXxG,EAAMK,YAAYsI,KAAK,MAAQ,CAC5BqD,SAAU,KAGlBJ,SAAS,eACJ5L,EAAMK,YAAYsI,KAAK,MAAQ,CAC5BqD,SAAU,KAGlBgN,WAAS,GACPpV,OAAQ,KADD,cAEN5D,EAAMK,YAAYsI,KAAK,MAAQ,CAC9B/E,OAAQ,MAHH,cAKN5D,EAAMK,YAAYC,GAAG,MAAQ,CAC5BsD,OAAQ,MANH,cAQN5D,EAAMK,YAAYC,GAAG,MAAQ,CAC5BsD,OAAQ,MATH,MA6Sc4E,CAAsBuO,K,gEC7SzC4C,G,2MACJzY,MAAQ,CACN0Y,WAAY,M,EAGdC,YAAc,CACZ,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,W,EAGpEC,SAAWxC,IAAMC,Y,EACjBwC,kBAAoBzC,IAAMC,Y,EAC1ByC,eAAiB1C,IAAMC,Y,EACvB0C,kBAAoB3C,IAAMC,Y,2EAEdvV,GACV,OAAOA,EAAKnC,cAAcoJ,QAAQ,KAAM,M,0CAGrB,IAAD,OAClB,GAAGvH,KAAK1B,MAAM4Z,YAAuC,MAAzBlY,KAAKR,MAAM0Y,WAAmB,CACxD,IAAIrK,EAAO,GACX/P,OAAO8O,OAAOiB,EAAM7N,KAAK1B,MAAM4Z,YAE/B5L,QAAQC,IAAIsB,GAGZ,IAAI2K,EAAQ,GACRC,EAAkB,GAEtB3a,OAAOC,KAAK8P,EAAI,YAAgB3N,SAAQ,SAAAoH,GACtC,IAAIoR,EAAM,CACRpY,KAAMgH,EACNqR,MAAO9K,EAAI,WAAevG,GAAnB,MACP1H,KAAMiO,EAAI,WAAevG,GAAnB,MAERkR,EAAM9X,KAAKgY,GACX,IAAIE,EAAO,CACTtY,KAAMgH,EACNuR,gBAAiBhL,EAAI,WAAevG,GAAnB,UACjB1H,KAAMiO,EAAI,WAAevG,GAAnB,MAERmR,EAAgB/X,KAAKkY,MAGvB/K,EAAI,WAAiB2K,EACrB3K,EAAI,qBAA2B4K,EAE/B5K,EAAI,WAAef,MAAK,SAAS5O,EAAG6O,GAClC,OAAOA,EAAE4L,MAAQza,EAAEya,SAGrB9K,EAAI,qBAAyBf,MAAK,SAAS5O,EAAG6O,GAC5C,OAAOA,EAAE8L,gBAAkB3a,EAAE2a,mBAG/BhL,EAAI,aAAmB,GACvBA,EAAI,aAAmB,GACvBA,EAAI,WAAiB,GAErBA,EAAI,WAAe3N,SAAQ,SAAC4Y,GAC1BjL,EAAI,aAAiBnN,KAAKoY,EAAMxY,MAChCuN,EAAI,aAAiBnN,KAAKoY,EAAMH,OAChC9K,EAAI,WAAenN,KAAKoY,EAAMlZ,SAGhCiO,EAAI,iBAAuB,GAC3BA,EAAI,iBAAuB,GAC3BA,EAAI,eAAqB,GAEzBA,EAAI,qBAAyB3N,SAAQ,SAAC4Y,GACpCjL,EAAI,iBAAqBnN,KAAKoY,EAAMxY,MACpCuN,EAAI,iBAAqBnN,KAAKoY,EAAMD,iBACpChL,EAAI,eAAmBnN,KAAKoY,EAAMlZ,SAGjC,uBAAwBiO,IACzBA,EAAI,mBAAyB/P,OAAOyF,QAAQsK,EAAI,oBAChDA,EAAI,mBAAuBf,MAAK,SAAS5O,EAAG6O,GAC1C,OAAOA,EAAE,GAAK7O,EAAE,OAIjB,wBAAyB2P,IACvBA,EAAI,oBAAJ,aAA4CA,EAAI,oBAAJ,KAC/CA,EAAI,oBAA0B/P,OAAOyF,QAAQsK,EAAI,qBAEjDA,EAAI,oBAAwBf,MAAK,SAAS5O,EAAG6O,GAC3C,OAAOA,EAAE,GAAK7O,EAAE,OAIjB,sBAAuB2P,IACrBA,EAAI,kBAAJ,aAA0CA,EAAI,kBAAJ,KAC7CA,EAAI,kBAAwB/P,OAAOyF,QAAQsK,EAAI,mBAE/CvB,QAAQC,IAAIsB,EAAI,mBAEhBA,EAAI,kBAAsBf,MAAK,SAAS5O,EAAG6O,GACzC,OAAOA,EAAE,GAAK7O,EAAE,OAIpBoO,QAAQC,IAAIsB,GAEZ7N,KAAKW,SAAS,CAACuX,WAAYrK,IAAO,WAChC,EAAKkL,qB,qFAaT,GAA4B,MAAzB/Y,KAAKR,MAAM0Y,WAAd,CAGA5L,QAAQC,IAAI,KAEqB,MAA9BvM,KAAKgZ,wBACNhZ,KAAKgZ,sBAAwBC,KAAMC,YAAYC,KACjD,IAAIH,EAAwBhZ,KAAKgZ,sBAOjC,GAJAhZ,KAAKoZ,WAAapZ,KAAKoY,SAASpC,QAAQqD,WAAW,MAEnD/M,QAAQC,IAAIvM,KAAKoZ,YAEdpZ,KAAKoZ,WAAW,CAAC,IAkCTE,EAAT,SAAmB/Y,GACjB,GAAIA,GACAA,EAAEgZ,MAAMC,IAAZ,CACA,IAAIC,EAAgBlZ,EAAEgZ,MAClBG,EAAUD,EAAcE,OAAO9L,KAAK+L,SAAS,GAAG/L,KAChDgM,EAAOJ,EAAcK,WAAWC,eAAe,GACnDxZ,EAAEgZ,MAAMC,IAAIQ,sBAAwB,OACpCzZ,EAAEgZ,MAAMC,IAAIvQ,UAAY,SACxB4Q,EAAKhM,KAAK3N,SAAQ,SAASiZ,EAAKc,GAC9B,IAAIC,EAAMf,EAAIgB,OAAOjU,MACjBkU,EAAMlE,SAASC,eAAe+D,GACxB,MAAPE,GAAqC,IAAtBA,EAAIC,eACpB9Z,EAAEgZ,MAAMC,IAAIc,UAAUF,EAAIjB,EAAIgB,OAAOI,EAAE,GAAGpB,EAAIqB,MAAMC,EAAE,GAAG,GAAG,IAE9Dla,EAAEgZ,MAAMC,IAAIkB,SAAShB,EAAQP,EAAIwB,QAAQ9G,QAAQ,GAAIsF,EAAIgB,OAAOI,EAAEpB,EAAIqB,MAAMC,EAAE,SA/ClFnO,QAAQC,IAAI,KACZ,IAAIqO,EAAY,CACdC,qBAAqB,EACrB,OAAU7a,KAAKR,MAAM0Y,WAAX,aACV,SAAY,CAAC,CACX,KAAQlY,KAAKR,MAAM0Y,WAAX,aACR,MAAQ,EACR,gBAAmB,uBACnB,YAAe,IAEjB,MAASlY,KAAKR,MAAM0Y,WAAX,YAGX,IAAK,IAAI7U,KAAKuX,EAAUE,OAAQ,CAC9B,IAAIZ,EAAMU,EAAUE,OAAOzX,GACvBzD,EAAOgb,EAAUG,MAAM1X,IACvB2X,EAAOlc,OAAOoS,OAAO,UAAU+J,KAAK,KAAMf,GAAKe,KACjD,MADS,UAEN7V,GAFM,sBAE8BpF,KAAK1B,MAAM6C,KAFzC,oBAEyDkG,GAAqBrH,KAAK1B,MAAM6C,KAAMvB,GAF/F,aAINsb,OAAS,WACZlb,KAAKmb,QAEPrc,OAAOoS,OAAO,SAASkK,OAAOJ,GAGhC/B,KAAMC,YAAYC,IAAMF,KAAMC,YAAYC,IAAIkC,OAAO,CACnDF,KAAM,WACJnC,EAAsBsC,UAAUH,KAAKI,KAAKvb,KAAMwb,WAChDlC,EAAUtZ,SAsBF,IAAIiZ,KAAMjZ,KAAKoZ,WAAY,CACrC,KAAQ,MACR,KAAQwB,EACRa,UAAW,CAAC,YAAc,GAC1BC,YAAa,EACbjE,OAAQ,EACR,QAAW,CACTkE,OAAQ,CAAExZ,SAAS,GACnByZ,OAAQ,CAAE/R,QAAS,MACnB,OAAU,CACR,MAAS,CAAC,CACRzI,GAAI,KACJ,MAAS,CACP,aAAe,SAW3B,GAFApB,KAAKqY,kBAAoBrY,KAAKqY,kBAAkBrC,QAAQqD,WAAW,MAEhErZ,KAAKqY,kBAAkB,CAAC,IAiChBiB,EAAT,SAAmB/Y,GACjB,GAAIA,GACAA,EAAEgZ,MAAMC,IAAZ,CACA,IAAIC,EAAgBlZ,EAAEgZ,MAClBG,EAAUD,EAAcE,OAAO9L,KAAK+L,SAAS,GAAG/L,KAChDgM,EAAOJ,EAAcK,WAAWC,eAAe,GACnDxZ,EAAEgZ,MAAMC,IAAIQ,sBAAwB,OACpCzZ,EAAEgZ,MAAMC,IAAIvQ,UAAY,SACxB4Q,EAAKhM,KAAK3N,SAAQ,SAASiZ,EAAKc,GAC9B,IAAIC,EAAMf,EAAIgB,OAAOjU,MACjBkU,EAAMlE,SAASC,eAAe+D,GACxB,MAAPE,GAAqC,IAAtBA,EAAIC,eACpB9Z,EAAEgZ,MAAMC,IAAIc,UAAUF,EAAIjB,EAAIgB,OAAOI,EAAE,GAAGpB,EAAIqB,MAAMC,EAAE,GAAG,GAAG,IAE9Dla,EAAEgZ,MAAMC,IAAIkB,SAAShB,EAAQP,EAAIwB,QAAQ9G,QAAQ,GAAIsF,EAAIgB,OAAOI,EAAEpB,EAAIqB,MAAMC,EAAE,SA9C9EG,EAAY,CACdC,qBAAqB,EACrB,OAAU7a,KAAKR,MAAM0Y,WAAX,iBACV,SAAY,CAAC,CACX,KAAQlY,KAAKR,MAAM0Y,WAAX,iBACR,MAAQ,EACR,gBAAmB,uBACnB,YAAe,IAEjB,MAASlY,KAAKR,MAAM0Y,WAAX,gBAGX,IAAK,IAAI7U,KAAKuX,EAAUE,OAAQ,CAC9B,IAAIZ,EAAMU,EAAUE,OAAOzX,GACvBzD,EAAOgb,EAAUG,MAAM1X,IACvB2X,EAAOlc,OAAOoS,OAAO,UAAU+J,KAAK,KAAMf,GAAKe,KACjD,MADS,UAEN7V,GAFM,sBAE8BpF,KAAK1B,MAAM6C,KAFzC,oBAEyDkG,GAAqBrH,KAAK1B,MAAM6C,KAAMvB,GAF/F,aAINsb,OAAS,WACZlb,KAAKmb,QAEPrc,OAAOoS,OAAO,SAASkK,OAAOJ,GAGhC/B,KAAMC,YAAYC,IAAMF,KAAMC,YAAYC,IAAIkC,OAAO,CACnDF,KAAM,WACJnC,EAAsBsC,UAAUH,KAAKI,KAAKvb,KAAMwb,WAChDlC,EAAUtZ,SAsBF,IAAIiZ,KAAMjZ,KAAKqY,kBAAmB,CAC5C,KAAQ,MACR,KAAQuC,EACRa,UAAW,CAAC,YAAc,GAC1BC,YAAa,EACbjE,OAAQ,EACR,QAAW,CACTkE,OAAQ,CAAExZ,SAAS,GACnByZ,OAAQ,CAAE/R,QAAS,MACnB,OAAU,CACR,MAAS,CAAC,CACRzI,GAAI,KACJ,MAAS,CACP,aAAe,SAS3B,GAAG,wBAAyBpB,KAAKR,MAAM0Y,aAErClY,KAAK6b,oBAAsB7b,KAAKuY,kBAAkBvC,QAAQqD,WAAW,MAElErZ,KAAK6b,qBAAoB,CAAC,IAmClBC,EAAT,SAAoBvb,GAClB,GAAIA,GACAA,EAAEgZ,MAAMC,IAAZ,CACA,IAAIC,EAAgBlZ,EAAEgZ,MAClBG,EAAUD,EAAcE,OAAO9L,KAAK+L,SAAS,GAAG/L,KAChDgM,EAAOJ,EAAcK,WAAWC,eAAe,GACnDxZ,EAAEgZ,MAAMC,IAAIQ,sBAAwB,OACpCzZ,EAAEgZ,MAAMC,IAAIvQ,UAAY,SACxB4Q,EAAKhM,KAAK3N,SAAQ,SAASiZ,EAAKc,GAC9B,IAAIC,EAAMf,EAAIgB,OAAOjU,MACjBkU,EAAMlE,SAASC,eAAe+D,GACxB,MAAPE,GAAqC,IAAtBA,EAAIC,eACpB9Z,EAAEgZ,MAAMC,IAAIc,UAAUF,EAAIjB,EAAIgB,OAAOI,EAAE,GAAGpB,EAAIqB,MAAMC,EAAE,GAAG,GAAG,IAE5Dla,EAAEgZ,MAAMC,IAAIkB,SAASqB,WAAWrC,EAAQP,EAAIwB,SAAS9G,QAAQ,GAAIsF,EAAIgB,OAAOI,EAAEpB,EAAIqB,MAAMC,EAAE,SAhD5FG,EAAY,CACd,OAAU5a,KAAKR,MAAM0Y,WAAW8D,oBAAoBhb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,MACvE,SAAY,CAAC,CACX,KAAQ8B,KAAKR,MAAM0Y,WAAW8D,oBAAoBhb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,MACrE,MAAQ,EACR,gBAAmB,uBACnB,YAAe,IAEjB,MAAS8B,KAAKR,MAAM0Y,WAAW8D,oBAAoBhb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,OAGxE,IAAK,IAAImF,KAAKuX,EAAUE,OAAQ,CAC9B,IAAIZ,EAAMU,EAAUE,OAAOzX,GAChBuX,EAAUG,MAAM1X,GAEjB,QAAP6W,IACDA,EAAM,OACC,QAGT,IAAIc,EAAOlc,OAAOoS,OAAO,UAAU+J,KAAK,KAAMf,GAAKe,KACjD,MACA,qFAAqFf,EAAI/b,cAAc,QAEzGW,OAAOoS,OAAO,SAASkK,OAAOJ,GAGhC/B,KAAMC,YAAYC,IAAMH,EAAsBqC,OAAO,CACnDF,KAAM,WACJnC,EAAsBsC,UAAUH,KAAKI,KAAKvb,KAAMwb,WAChDM,EAAW9b,SAsBH,IAAIiZ,KAAMjZ,KAAK6b,oBAAqB,CAC9C,KAAQ,MACR,KAAQjB,EACRa,UAAW,CAAC,YAAc,GAC1BC,YAAa,EACbjE,OAAQ,EACR,QAAW,CACTkE,OAAQ,CAAExZ,SAAS,GACnByZ,OAAQ,CAAE/R,QAAS,MACnB,OAAU,CACR,MAAS,CAAC,CACRzI,GAAI,KACJ,MAAS,CACP,aAAe,SAU7B,GAAG,sBAAuBpB,KAAKR,MAAM0Y,aAEnClY,KAAKic,iBAAmBjc,KAAKsY,eAAetC,QAAQqD,WAAW,MAE5DrZ,KAAKic,kBAAiB,CAAC,IAkCfH,EAAT,SAAoBvb,GAClB,GAAIA,GACAA,EAAEgZ,MAAMC,IAAZ,CACA,IAAIC,EAAgBlZ,EAAEgZ,MAClBG,EAAUD,EAAcE,OAAO9L,KAAK+L,SAAS,GAAG/L,KAChDgM,EAAOJ,EAAcK,WAAWC,eAAe,GACnDxZ,EAAEgZ,MAAMC,IAAIQ,sBAAwB,OACpCzZ,EAAEgZ,MAAMC,IAAIvQ,UAAY,SACxB4Q,EAAKhM,KAAK3N,SAAQ,SAASiZ,EAAKc,GAC9B,IAAIC,EAAMf,EAAIgB,OAAOjU,MACjBkU,EAAMlE,SAASC,eAAe+D,GACxB,MAAPE,GAAqC,IAAtBA,EAAIC,eACpB9Z,EAAEgZ,MAAMC,IAAIc,UAAUF,EAAIjB,EAAIgB,OAAOI,EAAE,GAAGpB,EAAIqB,MAAMC,EAAE,GAAG,GAAG,IAE5Dla,EAAEgZ,MAAMC,IAAIkB,SAASqB,WAAWrC,EAAQP,EAAIwB,SAAS9G,QAAQ,GAAIsF,EAAIgB,OAAOI,EAAEpB,EAAIqB,MAAMC,EAAE,SA/C5FG,EAAY,CACd,OAAU5a,KAAKR,MAAM0Y,WAAWgE,kBAAkBlb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,MACrE,SAAY,CAAC,CACX,KAAQ8B,KAAKR,MAAM0Y,WAAWgE,kBAAkBlb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,MACnE,MAAQ,EACR,gBAAmB,uBACnB,YAAe,IAEjB,MAAS8B,KAAKR,MAAM0Y,WAAWgE,kBAAkBlb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,GAAGqP,MAAM,KAAK,GAAG,IAAIrP,EAAE,GAAGqP,MAAM,KAAK,OAG3G,IAAK,IAAIlK,KAAKuX,EAAUE,OAAQ,CAC9B,IAAIZ,EAAMU,EAAUE,OAAOzX,GACvBzD,EAAOgb,EAAUG,MAAM1X,GACjB,QAAP6W,IACDA,EAAM,UACNta,EAAO,QAET0M,QAAQC,IAAI3M,GACRob,EAAOlc,OAAOoS,OAAO,UAAU+J,KAAK,KAAMf,GAAKe,KACjD,MACA,mFAAmFrb,EAAK,QAE1Fd,OAAOoS,OAAO,SAASkK,OAAOJ,GAGhC/B,KAAMC,YAAYC,IAAMH,EAAsBqC,OAAO,CACnDF,KAAM,WACJnC,EAAsBsC,UAAUH,KAAKI,KAAKvb,KAAMwb,WAChDM,EAAW9b,SAsBH,IAAIiZ,KAAMjZ,KAAKic,iBAAkB,CAC3C,KAAQ,MACR,KAAQrB,EACRa,UAAW,CAAC,YAAc,GAC1BC,YAAa,EACbjE,OAAQ,EACR,QAAW,CACTkE,OAAQ,CAAExZ,SAAS,GACnByZ,OAAQ,CAAE/R,QAAS,MACnB,OAAU,CACR,MAAS,CAAC,CACRzI,GAAI,KACJ,MAAS,CACP,aAAe,a,+BAUrB,IAAD,OACA4C,EAAWhE,KAAK1B,MAAhB0F,QACAzF,EAASyB,KAAK1B,MAAdC,MAEP,OACE,kBAAC4d,GAAA,EAAD,CAAO9S,UAAWrF,EAAQE,MACvBlE,KAAKR,MAAM0Y,WACV,kBAACnO,EAAA,EAAD,KACG,wBAAyB/J,KAAKR,MAAM0Y,WACnC,kBAACnO,EAAA,EAAD,CAAK5H,QAAQ,OAAOwG,GAAI,GAAIyT,GAAI7d,EAAMyI,QAAQ,KAC5C,kBAAClE,EAAA,EAAD,CAAYuZ,cAAY,EAACnZ,QAAQ,KAAKI,UAAU,MAC7C7G,EAAK8D,EAAE,wBAEV,kBAACwJ,EAAA,EAAD,CAAKpI,MAAO,CAAC2a,UAAW,SAAU9Z,gBAAiB,YACjD,kBAACuH,EAAA,EAAD,CAAKpI,MAAO,CAACM,MAAO,IAAKC,OAAO,MAC9B,4BAAQP,MAAO,CAACM,MAAO,IAAKC,OAAQ,KAAM0V,IAAK5X,KAAKuY,kBAAmBnX,GAAG,wBAKhF,KAGD,sBAAuBpB,KAAKR,MAAM0Y,WACjC,kBAACnO,EAAA,EAAD,CAAK5H,QAAQ,OAAOwG,GAAI,GAAIyT,GAAI7d,EAAMyI,QAAQ,KAC5C,kBAAClE,EAAA,EAAD,CAAYuZ,cAAY,EAACnZ,QAAQ,KAAKI,UAAU,MAC7C7G,EAAK8D,EAAE,sBAEV,kBAACwJ,EAAA,EAAD,CAAKpI,MAAO,CAAC2a,UAAW,SAAU9Z,gBAAiB,YACjD,kBAACuH,EAAA,EAAD,CAAKpI,MAAO,CAACM,MAAO,IAAKC,OAAO,MAC9B,4BAAQP,MAAO,CAACM,MAAO,IAAKC,OAAQ,KAAM0V,IAAK5X,KAAKsY,eAAgBlX,GAAG,qBAK7E,KAGF,kBAAC2I,EAAA,EAAD,CAAK5H,QAAQ,OAAOwG,GAAI,GAAIyT,GAAI7d,EAAMyI,QAAQ,KAC5C,kBAAClE,EAAA,EAAD,CAAYuZ,cAAY,EAACnZ,QAAQ,KAAKI,UAAU,MAC7C7G,EAAK8D,EAAE,oBAEV,kBAACwJ,EAAA,EAAD,CAAKpI,MAAO,CAAC2a,UAAW,SAAU9Z,gBAAiB,YACjD,kBAACuH,EAAA,EAAD,CAAKpI,MAAO,CAACM,MAAO,IAAMC,OAAO,MAC/B,4BAAQP,MAAO,CAACM,MAAO,IAAMC,OAAQ,KAAM0V,IAAK5X,KAAKoY,SAAUhX,GAAG,eAKxE,kBAAC2I,EAAA,EAAD,CAAK5H,QAAQ,OAAOwG,GAAI,GAAIyT,GAAI7d,EAAMyI,QAAQ,KAC5C,kBAAClE,EAAA,EAAD,CAAYuZ,cAAY,EAACnZ,QAAQ,KAAKI,UAAU,MAC7C7G,EAAK8D,EAAE,8BAEV,kBAACwJ,EAAA,EAAD,CAAKpI,MAAO,CAAC2a,UAAW,SAAU9Z,gBAAiB,YACjD,kBAACuH,EAAA,EAAD,CAAKpI,MAAO,CAACM,MAAO,IAAMC,OAAO,MAC/B,4BAAQP,MAAO,CAACM,MAAO,IAAMC,OAAQ,KAAM0V,IAAK5X,KAAKqY,kBAAmBjX,GAAG,wBAKhF,0BAA2BpB,KAAKR,MAAM0Y,YAAclY,KAAK1B,MAAM6B,OAC9D,kBAAC4J,EAAA,EAAD,CAAK5H,QAAQ,OAAOwG,GAAI,GAAIyT,GAAI7d,EAAMyI,QAAQ,KAC5C,kBAAClE,EAAA,EAAD,CAAYuZ,cAAY,EAACnZ,QAAQ,KAAKI,UAAU,MAC7C7G,EAAK8D,EAAE,iCAEV,kBAACuT,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,cACnB,kBAAC2T,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,WACnB,kBAAC2T,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,cAGvB,kBAAC6T,GAAA,EAAD,KAEItW,OAAOyF,QAAQvD,KAAKR,MAAM0Y,WAAWqE,uBAAuBzP,MAAK,SAAC5O,EAAG6O,GAAO,OAAO7O,EAAE,GAAGiP,KAAOJ,EAAE,GAAGI,QAAOnM,KAAI,SAACwb,GAAD,OAC7G,kBAACvI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,yBAAKvS,MAAO,CAACQ,QAAS,OAAQiH,WAAY,WACxC,kBAACW,EAAA,EAAD,CAAKpB,IAAE,EAAC8T,GAAI,GAAG,yBAAKC,IAAG,UAAKtX,GAAL,sBAAyC,EAAK9G,MAAM6C,KAApD,oBAAoEkG,GAAqB,EAAK/I,MAAM6C,KAAMqb,EAAK,GAAGjS,MAAM,IAAxH,WACvB5I,MAAO,CAACM,MAAO,OAAQC,OAAQ,WAC/B,kBAAC6H,EAAA,EAAD,CAAKpB,IAAE,GAAE6T,EAAK,MAGlB,kBAACtI,GAAA,EAAD,KAAYsI,EAAK,GAAGxS,IAApB,IAA0BwS,EAAK,GAAGlc,MAClC,kBAAC4T,GAAA,EAAD,KAAYsI,EAAK,GAAGrP,cASlC,MAIJ,2CAEF,yBAAK/L,GAAG,OAAOO,MAAO,CAACQ,QAAS,e,GApiBf0E,aA0iBVC,iBAhjBC,SAACvI,GAAD,MAAY,CAC1B2F,KAAM,CACJ2F,QAAStL,EAAMyI,QAAQ,EAAG,OA8iBO,CAAEoO,WAAW,GAAnCtO,CAA2CmR,ICtjBpD0E,G,2MACJnd,MAAQ,G,mFAKN8M,QAAQC,IAAIvM,KAAK1B,MAAMse,Q,+BAGf,IACA5Y,EAAYhE,KAAK1B,MAAjB0F,QAER,OACE,kBAACmY,GAAA,EAAD,CAAO9S,UAAWrF,EAAQE,MACvBlE,KAAK1B,MAAMse,KACV,oCACE,kBAAC9Z,EAAA,EAAD,CAAYqG,QAAM,EAACkT,cAAY,EAACnZ,QAAQ,QAAQI,UAAU,MACxD,uBAAGjC,KAAM,+BAAiCrB,KAAK1B,MAAMse,KAAKxb,GAAIO,MAAO,CAACC,MAAO,QAASC,eAAgB,SACpG,kBAAC,IAAD,CAAiBjC,KAAMid,MADzB,kBAKD7c,KAAK1B,MAAMse,KAAK5L,QACf,kBAAClO,EAAA,EAAD,CAAYqG,QAAM,EAACkT,cAAY,EAACnZ,QAAQ,QAAQI,UAAU,MACxD,uBAAGjC,KAAMrB,KAAK1B,MAAMse,KAAK5L,QAASrP,MAAO,CAACC,MAAO,QAASC,eAAgB,SACxE,kBAAC,IAAD,CAAiBjC,KAAMkd,MADzB,OAEG9c,KAAK1B,MAAMse,KAAK5L,UAIrB,KAEDhR,KAAK1B,MAAMse,KAAKG,SACf,kBAACja,EAAA,EAAD,CAAYqG,QAAM,EAACkT,cAAY,EAACnZ,QAAQ,QAAQI,UAAU,MACxD,uBAAGjC,KAAMrB,KAAK1B,MAAMse,KAAKG,SAAUpb,MAAO,CAACC,MAAO,QAASC,eAAgB,SACzE,kBAAC,IAAD,CAAiBjC,KAAMod,MADzB,OAEGhd,KAAK1B,MAAMse,KAAKG,WAIrB,KAED/c,KAAK1B,MAAMse,KAAKlK,OACf,kBAAC5P,EAAA,EAAD,CAAYqG,QAAM,EAACkT,cAAY,EAACnZ,QAAQ,QAAQI,UAAU,MACxD,uBAAGjC,KAAMrB,KAAK1B,MAAMse,KAAKlK,OAAQ/Q,MAAO,CAACC,MAAO,QAASC,eAAgB,SACvE,kBAAC,IAAD,CAAiBjC,KAAMqd,MADzB,OAEGjd,KAAK1B,MAAMse,KAAKlK,SAIrB,KAED1S,KAAK1B,MAAMse,KAAKM,QACf,kBAACpa,EAAA,EAAD,CAAYqG,QAAM,EAACkT,cAAY,EAACnZ,QAAQ,QAAQI,UAAU,MACxD,uBAAGjC,KAAMrB,KAAK1B,MAAMse,KAAKM,QAASvb,MAAO,CAACC,MAAO,QAASC,eAAgB,SACxE,kBAAC,IAAD,CAAiBjC,KAAMud,MADzB,OAEGnd,KAAK1B,MAAMse,KAAKM,UAIrB,MAIJ,U,GAhEgBrW,aAuEXC,iBA7EC,SAACvI,GAAD,MAAY,CAC1B2F,KAAM,CACJ2F,QAAStL,EAAMyI,QAAQ,EAAG,OA2EfF,CAAsB6V,IC/BtBS,G,2MAxCb5d,MAAQ,G,qHAON,OACE,6BACGQ,KAAK1B,MAAMuN,YACV,kBAACsQ,GAAA,EAAD,KACE,kBAACrI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,SACnB,kBAAC2T,GAAA,EAAD,KAAYzX,EAAK8D,EAAE,SACnB,kBAAC2T,GAAA,EAAD,CAAWe,MAAM,SAASxY,EAAK8D,EAAE,mBAGrC,kBAAC6T,GAAA,EAAD,KACGtW,OAAO+C,OAAOb,KAAK1B,MAAMuN,aAAaiB,MAAK,SAAC5O,EAAE6O,GAAK,OAAOA,EAAE2B,KAAOxQ,EAAEwQ,QAAO1N,KAAI,SAAC8M,GAAD,OAC/E,kBAACmG,GAAA,EAAD,CAAU3Q,UAAU,IAAI+Z,OAAK,EAACC,KAAK,WAAW3b,MAAO,CAACE,eAAgB,OAAQD,MAAO,SAAU3C,OAAO,SAASoC,KAAI,0CAAqCyM,EAAW1M,KACjK,kBAAC8S,GAAA,EAAD,KAAYpG,EAAWxN,MACvB,kBAAC4T,GAAA,EAAD,KAAY1W,KAAO+W,KAAKzG,EAAWY,MAAM6O,IAAI,EAAG,OAAOngB,OAAO,aAC9D,kBAAC8W,GAAA,EAAD,CAAWe,MAAM,SAASnH,EAAW+C,uBAQjD,U,GAlCmBhK,a,wCCFvB2W,GAAYC,EAAQ,KAwMXC,G,YA5Lb,aAAc,IAAD,8BACX,+CAVFle,MAAQ,CACNqY,mBAAmB,EACnB8F,kBAAmB,KACnBxd,OAAQ,KACRmV,QAAS,GACTsI,SAAU,GACVC,OAAQ,IAKR,EAAKlI,YAAcC,IAAMC,YAFd,E,gFAKM1J,GACdA,GAAanM,KAAK1B,OAAW6N,EAAUe,YAA6C,GAA/Bf,EAAUe,WAAWtI,QAAgBuH,EAAUe,WAAWoI,SAAYtV,KAAK1B,MAAM4O,YACvIlN,KAAK8d,iB,0CAKP9d,KAAK8d,iB,qCAIL,GAAG9d,KAAK1B,MAAM4O,YAAclN,KAAK1B,MAAM4O,WAAWoI,SAAWxX,OAAOC,KAAKiC,KAAK1B,MAAM4O,WAAWoI,SAAS1Q,OAAS,EAAE,CACjH,IAAI0Q,EAAU,IAELtV,KAAK1B,MAAMgX,QAAUtV,KAAK1B,MAAMgX,QAAUtV,KAAK1B,MAAM4O,WAAX,SAEhDhN,SAAQ,SAASmW,GAAG,IAAD,OAEpBA,EAAE3M,QAAU,GAET2M,EAAErF,UACHqF,EAAE3M,QAAQhJ,KAAV,yCAAiDV,KAAKyS,iBAAiB4D,EAAErF,SAAzE,oBACAqF,EAAE3M,QAAQhJ,KAAV,4DAAoEV,KAAKyS,iBAAiB4D,EAAErF,SAA5F,sBAECqF,EAAE0H,eACH1H,EAAE3M,QAAQhJ,KAAK2V,EAAE0H,eAGf1H,EAAE9L,OAA2B,GAAlB8L,EAAE9L,MAAM3F,QAA6B,IAAdyR,EAAE9L,MAAM,KAC5C8L,EAAE9L,MAAQ,CAAC,WAGb8L,EAAE2H,UAAY3H,EAAE9L,MAAMZ,KAAK,KAExB3J,KAAK1B,MAAM+P,QACTrO,KAAK1B,MAAM+P,MAAM0H,OAAjB,GACDM,EAAEjJ,eAAelN,SAAQ,SAAAmN,GACvB,IAAIC,EAAaD,EAAKE,MAAM,KAAK,GAC7BC,EAASH,EAAKE,MAAM,KAAK,GAE1BD,GAAc,EAAKhP,MAAM+P,MAAM0H,OAAjB,KACfM,EAAEC,UAAY9I,MAIf6I,EAAEjJ,eAAexI,OAAS,EAC3ByR,EAAEC,UAAYD,EAAEjJ,eAAe,GAE/BiJ,EAAEC,UAAY,GAKpBhB,EAAQ5U,KAAK2V,KACZrW,MAEHsV,EAAQxI,MAAK,SAAC5O,EAAG6O,GAAO,OAAO7O,EAAE8L,IAAI9L,EAAEoC,KAAOyM,EAAE/C,IAAI+C,EAAEzM,MAAQ,EAAI,KAElEN,KAAKW,SAAS,CAAC2U,QAASA,EAASsI,SAAUtI,O,sCAI/BjN,EAAYjH,GAC1B,IAAIkH,EAAO,EASX,OAPGD,EAAWE,eAAe,eAEhBrJ,IADXoJ,EAAOD,EAAU,MAAUA,EAAU,MAAUjH,OAE7CkH,EAAO,GAIJjB,GAAqBrH,KAAK1B,MAAM6C,KAAMkH,EAAU,MAAUjH,IAAK,KAAKkH,I,kCAGjEhI,GACV,OAAOA,EAAKnC,cAAcoJ,QAAQ,KAAM,M,uCAGzByJ,GACf,IAAIC,EAAQD,EAAQzD,MAAM,KAC1B,OAAO0D,EAAMA,EAAMrM,OAAO,K,0CAGRtE,GAClB,OAAOA,EAAKoW,UAAU,QAAQnP,QAAQ,KAAM,KAAKA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,WAAWA,QAAQoP,OAAO,kBAAmB,IAAIpP,QAAQ,IAAK,M,sCAGrIiB,GACdxI,KAAK1B,MAAMsY,QAAQlW,KACjB8H,EAAO8N,WAGTtW,KAAK2V,YAAYK,QAAQrV,SAAS,CAACN,MAAM,EAAMmI,OAAQA,M,yCAIvDxI,KAAKW,SAAS,CAACkX,mBAAmB,IAElC7X,KAAK1B,MAAMsY,QAAQqH,W,6BAGdC,GAAG,IAAD,OAGP,GAFAle,KAAKR,MAAMqe,OAASK,EAEW,GAA5Ble,KAAKR,MAAMqe,OAAOjZ,OACnB5E,KAAKR,MAAMoe,SAAW5d,KAAKR,MAAM8V,YAC5B,CACL,IAAI6I,EAASX,GAAUY,GAAGpe,KAAKR,MAAMqe,OAAQ/f,OAAO+C,OAAOb,KAAKR,MAAM8V,SAAU,CAC9EvX,KAAM,CACJ,OACA,YACA,MACA,UACA,QACA,aAEFsgB,WAAY,IACZC,MAAO,GACPC,QAX8E,SAWtErgB,GACN,OAAOsN,KAAKE,IACVxN,EAAE,GAAGA,EAAE,GAAGkM,OAAO,IACjBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,IAAI,IACpBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,IAAI,IACpBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,KAAK,IACrBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,KAAK,IACrBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,IAAI,QAG1BpK,KAAKR,MAAMoe,SAAW,GACtB9f,OAAO+C,OAAOsd,GAAQje,SAAQ,SAACse,GACX,MAAdA,EAAG,KACL,EAAKhf,MAAMoe,SAASld,KAAK8d,EAAG,QAIlCxe,KAAKW,SAASX,KAAKR,S,+BAGX,IAAD,OACP,OACE,kBAACuK,EAAA,EAAD,KACE,kBAAC0U,GAAA,EAAD,KACE,0BAAMC,SAAS,WAAWC,QAAQ,+BAClC,0BAAMD,SAAS,WAAWC,QAAgC,iBAC1D,0BAAMD,SAAS,iBAAiBC,QAAQ,yCAGzC3e,KAAKR,MAAM8V,SAAWxX,OAAOyF,QAAQvD,KAAKR,MAAM8V,SAAS1Q,OAAS,EACjE,oCACE,kBAAC4B,GAAA,EAAD,CACE9B,WAAS,EACT/C,MAAO,CAACoF,aAAc,GACtB6X,YAAaniB,EAAK8D,EAAE,aAAazC,OAAOyF,QAAQvD,KAAKR,MAAM8V,SAAS1Q,OAAOnI,EAAK8D,EAAE,kBAClF2C,QAAQ,WACR2b,KAAK,SACLjZ,SAAU,SAACsY,GAAD,OAAK,EAAKL,OAAOK,EAAEjf,OAAO5B,QACpCyhB,WAAY,CACVC,eACE,kBAACC,GAAA,EAAD,KACE,kBAAC3T,EAAA,EAAD,KACE,kBAAC,KAAD,WAOV,kBAAC5C,GAAA,EAAD,CAAMS,WAAS,GACZpL,OAAO+C,OAAOb,KAAKR,MAAMoe,UAAUhT,MAAM,EAAG,IAAI5J,KAAI,SAACwH,EAAQnF,GAAT,OACnD,kBAAC,GAAD,CAAelC,KAAM,EAAK7C,MAAM6C,KAAMG,QAAS,kBAAI,EAAK6V,gBAAgB3O,IAASA,OAAQA,SAK/F,KAEF,kBAAC,GAAD,CAAarH,KAAMnB,KAAK1B,MAAM6C,KAAMyW,IAAK5X,KAAK2V,YAAatV,KAAML,KAAKR,MAAMqY,kBAAmBpW,WAAYzB,KAAK8X,iBAAiBf,KAAK/W,MAAOwI,OAAQxI,KAAKR,MAAMme,kBAAmBle,QAASO,KAAK1B,MAAMmB,QAASyN,WAAYlN,KAAK1B,MAAM4O,WAAYtB,eAAgB5L,KAAK1B,MAAMsN,eAAgBgL,QAAS5W,KAAK1B,MAAMsY,e,GAhMpS/P,a,uECAhBoY,GAAYlU,aAAW,SAACxM,GAAD,MAAY,CACvC2F,KAAK,aACHG,SAAU,QACViO,OAAQ/T,EAAMyI,QAAQ,GACtBuL,MAAOhU,EAAMyI,QAAQ,GACrBE,OAAQ,GACP3I,EAAMI,YAAYsI,KAAK,MAAQ,CAC5BqL,OAAQ/T,EAAMyI,QAAQ,UAKf,SAASkY,GAAU5gB,GACDA,EAArBO,SAD8B,IACpBC,EAAWR,EAAXQ,OACZkF,EAAUib,KAIVlgB,EAAUC,aAAiB,CAC/BC,OAAQH,EAASA,SAAWI,EAC5BigB,mBAAmB,EACnBd,UAAW,MAQb,OACE,kBAACe,GAAA,EAAD,CAAM9f,GAAIP,GACR,yBAAKuC,QAPW,SAACuE,GACjBqQ,SAASmJ,KAAKC,UAAY,EAC1BpJ,SAASqJ,gBAAgBD,UAAY,GAKVhC,KAAK,eAAejU,UAAWrF,EAAQE,MAChE,kBAACsb,GAAA,EAAD,CAAK5d,MAAM,YAAY6d,KAAK,QAAQlU,aAAW,sBAC3C,kBAAC,KAAD,SCzBd,IASMmU,G,2MACJlgB,MAAQ,CACNqF,gBAAiB,EACjBc,YAAa,UACb2P,QAAS,GACTC,WAAY,CAAC,UAAW,UAAW,WACnCC,YAAa,CAAC,UAAW,UAAW,WACpCC,YAAa,CAAC,UAAW,UAAW,WACpCkK,YAAa,M,kFAGIxT,GACdnM,KAAK1B,OAAS6N,GACfnM,KAAK4f,UAAUzT,K,0CAIjBnM,KAAKR,MAAMqF,gBAAkB,EACzB7E,KAAK1B,MAAM+P,OACfrO,KAAK4f,c,kCAGoB,wDACzB,GAAI5f,KAAK1B,MAAM+P,OACXrO,KAAK1B,MAAM4O,YACXlN,KAAK1B,MAAMsN,gBACX5L,KAAK1B,MAAMyZ,SAAf,CAEA,IAAI8H,EAAW7f,KAAK1B,MAAM+P,MAAM0H,OAAjB,GAEf,GAAG/V,KAAK1B,MAAMyZ,UAAY/X,KAAK1B,MAAMyZ,SAASnT,OAAS,EAAG,CACxD,GAAG5E,KAAK1B,MAAM+P,MAAM0H,OAAjB,GAA8B,CAC/B,IAAI+J,EAAa9f,KAAK1B,MAAM+P,MAAM0H,OAAjB,GACjB,GAAG+J,EAAW,CACZ,IAAIjb,EAAiB7E,KAAK1B,MAAMyZ,SAAS3B,WAAU,SAAClY,GAAK,OAAOA,EAAEkD,IAAM0e,MAClD,GAAnBjb,EACD7E,KAAKuB,aAAasD,IAElB7E,KAAKuB,aAAa,GAClBse,EAAW7f,KAAK1B,MAAMyZ,SAAS,GAAG3W,SAGpCpB,KAAKuB,aAAa,GAClBse,EAAW7f,KAAK1B,MAAMyZ,SAAS,GAAG3W,QAE/B,IAAIpB,KAAK1B,MAAM+P,MAAM0H,OAAjB,GAA+B,CACxC,IAAIxU,EAAe,EAEnB,GAAGvB,KAAK1B,MAAMyhB,aACZ,IAAI,IAAI1c,EAAE,EAAGA,EAAErD,KAAK1B,MAAMyZ,SAASnT,OAAQvB,GAAG,EAC5C,GAAGrD,KAAK1B,MAAMyZ,SAAS1U,GAAG7C,SAAWR,KAAK1B,MAAMyZ,SAAS1U,GAAG7C,SAAWR,KAAK1B,MAAMyhB,YAAY,CAC5Fxe,EAAe8B,EACf,YAIJ9B,EAAe,EAGjB+K,QAAQC,IAAIhL,IAEQ,GAAjBA,IACD+K,QAAQC,IAAIhL,GACZ+K,QAAQC,IAAIvM,KAAK1B,MAAMyZ,UACvB/X,KAAKuB,aAAaA,GAClBvB,KAAK1B,MAAMsY,QAAQlW,KAAK,IAAIV,KAAK1B,MAAM6C,KAAK,YAAYnB,KAAK1B,MAAMyZ,SAASxW,GAAcH,IAC1Fye,EAAW7f,KAAK1B,MAAMyZ,SAASxW,GAAcH,IAI9CpB,KAAK1B,MAAM+P,MAAM0H,OAAjB,IACD/V,KAAK8F,gBAAgB9F,KAAK1B,MAAM+P,MAAM0H,OAAjB,KAErB/V,KAAK1B,MAAMsY,QAAQlW,KACjB,IAAIV,KAAK1B,MAAM6C,KAAK,YAAY0e,EAAS,iB,mCAMnC,IAAD,OACXvT,QAAQC,IAAI,eACRvM,KAAK1B,OACL0B,KAAK1B,MAAMyZ,UACX/X,KAAK1B,MAAM4O,YACXlN,KAAK1B,MAAMsN,gBACX5L,KAAK1B,MAAMyZ,SAAS/X,KAAKR,MAAMqF,iBAEnC4I,MAAM,4EAA4EzN,KAAK1B,MAAM6C,KAAK,IAAInB,KAAK1B,MAAMyZ,SAAS/X,KAAKR,MAAMqF,gBAAgBzD,GAAG,iBACvJsM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACLJ,MAAM,4EAA4E,EAAKnP,MAAM6C,KAAK,IAAI,EAAK7C,MAAMyZ,SAAS,EAAKvY,MAAMqF,gBAAgBzD,GAAG,oBACvJsM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACwK,GACLzK,MAAM,4EAA4E,EAAKnP,MAAM6C,KAAK,IAAI,EAAK7C,MAAMyZ,SAAS,EAAKvY,MAAMqF,gBAAgBzD,GAAG,iBACvJsM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACsS,GACL,GAAGnS,EAAK,CACN,IAAIyH,EAAU,GAEXzH,EAAKvE,SAAWuE,EAAKvE,QAAQA,SAC9BxL,OAAOyF,QAAQsK,EAAKvE,QAAQA,SAASpJ,SAAQ,SAASkB,GACpD,IAAIjB,EAASH,KAAK1B,MAAMyZ,SAAS/X,KAAKR,MAAMqF,gBAAgBzD,GAExDiV,EAAI,IACRA,EAAIvY,OAAO8O,OAAOyJ,EAAGrW,KAAK1B,MAAM4O,WAAX,QAAiClN,KAAK1B,MAAM4O,WAAX,QAAiC/M,EAAO,IAAIiB,EAAG,OAEnGsI,QAAU,GAET2M,EAAErF,UACHqF,EAAE3M,QAAQhJ,KAAV,yCAAiDV,KAAKyS,iBAAiB4D,EAAErF,SAAzE,oBACAqF,EAAE3M,QAAQhJ,KAAV,4DAAoEV,KAAKyS,iBAAiB4D,EAAErF,SAA5F,sBAECqF,EAAE0H,eACH1H,EAAE3M,QAAQhJ,KAAK2V,EAAE0H,eAGL,MAAX1H,EAAE9L,OAAmC,GAAlB8L,EAAE9L,MAAM3F,QAA6B,IAAdyR,EAAE9L,MAAM,KACnD8L,EAAE9L,MAAQ,CAAC,WAGb8L,EAAE/M,QAAUlI,EAAG,GAAH,KACZiV,EAAEjM,MAAQhJ,EAAG,GAAH,MAEViV,EAAEC,UAAYlV,EAAG,GAEjBkU,EAAQ5U,KAAK2V,KACZ,GAGLf,EAAQxI,MAAK,SAAS5O,EAAG6O,GACvB,OAAOsD,OAAOnS,EAAC,SAAemS,OAAOtD,EAAC,YAGxCT,QAAQC,IAAI+I,GAEZhJ,QAAQC,IAAI2L,GACZ5L,QAAQC,IAAI,EAAKjO,MAAMsN,eAAe,EAAKtN,MAAMyZ,SAAS,EAAKvY,MAAMqF,gBAAgBzD,KAErF,IAAI6e,EAAuB,GAC3BniB,OAAOC,KAAKiiB,EAAe1K,SAASpV,SAAQ,SAACsI,GAC3C,IAAI0X,EAAW,EAAK5hB,MAAM4O,WAAX,QAAiC,EAAK5O,MAAMyZ,SAAS,EAAKvY,MAAMqF,gBAAgBzD,GAAG,IAAIoH,GACtGyX,EAAqBvf,KAAK,EAAKpC,MAAM4O,WAAX,QAAiCgT,OAG7D,EAAKvf,SAAS,CACZ2U,QAASA,EACT0K,eAAgBC,EAChBnK,WAAYjI,EAAI,YAChBqK,WAAYA,EACZrM,YAAa,EAAKvN,MAAMsN,eAAe,EAAKtN,MAAMyZ,SAAS,EAAKvY,MAAMqF,gBAAgBzD,IACtF+e,YAAatS,EAAKvE,QAAL,KACb8W,YAAavS,EAAKvE,QAAL,KACb+W,gBAAiBxS,EAAKvE,QAAL,SACjBgX,iBAAkBzS,EAAKvE,QAAL,UAClBiX,eAAgB1S,EAAKvE,QAAL,cAIrBkX,OAAM,SAACtC,GACN5R,QAAQC,IAAI2R,GACZ,EAAKvd,SAAS,CACZ2U,QAAS,GACTQ,WAAY,UAIjB0K,OAAM,SAACtC,GACN5R,QAAQC,IAAI2R,GACZ,EAAKvd,SAAS,CACZ2U,QAAS,GACTQ,WAAY,UAIjB0K,OAAM,SAACtC,GACN5R,QAAQC,IAAI2R,GACZ,EAAKvd,SAAS,CACZ2U,QAAS,GACTQ,WAAY,S,mCAKLzS,GAAG,IAAD,OACVA,GAAKrD,KAAKR,MAAMqF,iBACjB7E,KAAKR,MAAMqF,eAAiBxB,EAC5BrD,KAAKR,MAAM8V,QAAU,GACrBtV,KAAKR,MAAMsW,WAAa,KACxB9V,KAAKR,MAAM0Y,WAAa,KACxBlY,KAAKW,SAASX,KAAKR,OAAO,WACxB,EAAKihB,mB,kCAKCngB,GACV,OAAOA,EAAKnC,cAAcoJ,QAAQ,KAAM,M,uCAGzByJ,GACf,IAAIC,EAAQD,EAAQzD,MAAM,KAC1B,OAAO0D,EAAMA,EAAMrM,OAAO,K,0CAGRtE,GAClB,OAAOA,EAAKoW,UAAU,QAAQnP,QAAQ,KAAM,KAAKA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,WAAWA,QAAQoP,OAAO,kBAAmB,IAAIpP,QAAQ,IAAK,M,sCAGrIlK,GACX2C,KAAKR,MAAMmG,aAAetI,IAC3B2C,KAAK1B,MAAMsY,QAAQlW,KACjB,IAAIV,KAAK1B,MAAM6C,KAAK,YAAYnB,KAAK1B,MAAM+P,MAAM0H,OAAjB,GAA8B,IAAI1Y,EAAM,KAE1E2C,KAAKW,SAAS,CAACgF,YAAatI,O,+BAItB,IAAD,OACC2G,EAAYhE,KAAK1B,MAAjB0F,QAER,OACE,6BACE,kBAAC,GAAD,CACE7C,KAAMnB,KAAK1B,MAAM6C,KACjB1B,QAASO,KAAK1B,MAAMyZ,SACpBxW,aAAcvB,KAAKuB,aAAawV,KAAK/W,MACrC6E,eAAgB7E,KAAKR,MAAMqF,eAC3Bc,YAAa3F,KAAKR,MAAMmG,YACxBG,gBAAiB9F,KAAK8F,gBAAgBiR,KAAK/W,QAG7C,kBAACye,GAAA,EAAD,MACiC,GAA9Bze,KAAKR,MAAMqF,eACV,KAEA,0BAAM6Z,SAAS,WAAWC,QACxB3e,KAAK1B,MAAMyZ,SAAS/X,KAAKR,MAAMqF,gBAAgBvE,KAAK,yBAGzB,GAA9BN,KAAKR,MAAMqF,eACV,KAEA,0BAAM6Z,SAAS,WAAWC,QAAO,qFAC+C3e,KAAK1B,MAAM6C,KAD1D,wBAC8EnB,KAAK1B,MAAMyZ,SAAS/X,KAAKR,MAAMqF,gBAAgBzD,GAD7H,WAKJ,GAA9BpB,KAAKR,MAAMqF,eACV,KAEA,0BAAMvE,KAAK,gBAAgBqe,QAAO,qFAC8C3e,KAAK1B,MAAM6C,KADzD,wBAC6EnB,KAAK1B,MAAMyZ,SAAS/X,KAAKR,MAAMqF,gBAAgBzD,GAD5H,UAKpC,0BAAMsd,SAAS,iBAAiBC,QAAQ,uFAId,WAA1B3e,KAAKR,MAAMmG,aAA4B3F,KAAKR,MAAM8V,QAChD,oCACGtV,KAAKR,MAAM2gB,YACV,kBAAChE,GAAA,EAAD,CAAOxa,MAAO,CAACkI,QAAS,EAAGkJ,OAAQ,IACjC,kBAACjQ,EAAA,EAAD,CAAYI,QAAQ,QAAQtB,MAAM,gBAAgBqT,MAAM,UACrDjV,KAAKR,MAAM2gB,YACXngB,KAAKR,MAAM4gB,YAAc,KAAKpgB,KAAKR,MAAM4gB,YAAY,IAAM,IAE9D,kBAACtd,EAAA,EAAD,CAAYI,QAAQ,QAAQtB,MAAM,gBAAgBqT,MAAM,UACrDjV,KAAKR,MAAMkhB,UAA2C,MAA/B1gB,KAAKR,MAAM8gB,iBACjC,oCAAG,aAEH,oCAAG7jB,EAAK8D,EAAE,YAAc,IAAM9D,EAAK8D,EAAE,cAAe,CAAC+T,KAAM9W,KAAO+W,KAAKvU,KAAKR,MAAM8gB,kBAAkB9L,WAAa,IAAM/X,EAAK8D,EAAE,iBAAmB,IAAM9D,EAAK8D,EAAE,UAAY,IAAM9D,EAAK8D,EAAE,cAAe,CAAC+T,KAAM9W,KAAO+W,KAAKvU,KAAKR,MAAM+gB,gBAAgB/L,WAAa,IAAM/X,EAAK8D,EAAE,kBAKpR,KAEF,kBAAC,GAAD,CAAeY,KAAMnB,KAAK1B,MAAM6C,KAAM4W,SAAU/X,KAAK1B,MAAMyZ,SAAU7K,WAAYlN,KAAK1B,MAAM4O,WAAYtB,eAAgB5L,KAAK1B,MAAMsN,eAAgBtC,QAAStJ,KAAKR,MAAM8V,QAASQ,WAAY9V,KAAKR,MAAMsW,WAAYc,QAAS5W,KAAK1B,MAAMsY,QAASvI,MAAOrO,KAAK1B,MAAM+P,SAG1O,WAA1BrO,KAAKR,MAAMmG,YACT,kBAAC,GAAD,CAASxE,KAAMnB,KAAK1B,MAAM6C,KAAM1B,QAASO,KAAK1B,MAAMyZ,SAAUnM,eAAgB5L,KAAK1B,MAAMsN,eAAgBsB,WAAYlN,KAAK1B,MAAM4O,WAAYoI,QAAStV,KAAKR,MAAM8V,QAASsB,QAAS5W,KAAK1B,MAAMsY,QAASvI,MAAOrO,KAAK1B,MAAM+P,QAE9L,eAA1BrO,KAAKR,MAAMmG,YACT,kBAAC,GAAD,CAAgBkG,YAAa7L,KAAKR,MAAMqM,cAEd,cAA1B7L,KAAKR,MAAMmG,YACT3F,KAAKR,MAAM0Y,WACT,kBAAC,GAAD,CAAY/W,KAAMnB,KAAK1B,MAAM6C,KAAMhB,OAAQH,KAAK1B,MAAMyZ,SAAS/X,KAAKR,MAAMqF,gBAAgBzD,GAAI8W,WAAYlY,KAAKR,MAAM0Y,aAErH,KAEwB,QAA1BlY,KAAKR,MAAMmG,YACT,kBAAC,GAAD,CAAaiX,KAAM5c,KAAK1B,MAAMyZ,SAAS/X,KAAKR,MAAMqF,kBAElD,KAGZ,kBAACqa,GAAD,MAEA,kBAAC1Z,EAAA,EAAD,CAAQmb,MAAI,GACV,kBAACC,GAAA,EAAD,CACEvjB,MAAO2C,KAAKR,MAAMmG,YAClBC,SAAU,SAACC,EAAOxI,GAAW,EAAKyI,gBAAgBzI,IAClDwjB,YAAU,EACVxX,UAAWrF,EAAQ8c,UACnBnf,MAAO,CAAC0C,SAAU,QAASiO,OAAQ,EAAGhN,KAAM,EAAGiN,MAAO,IAEtD,kBAACwO,GAAA,EAAD,CAAwB/c,QAAS,CAACgd,SAAUhd,EAAQid,mBAAoBtf,MAAO,CAACwF,SAAU,IAAK9J,MAAM,UAAU6I,MAAO,0BAAMvE,MAAO,CAAC2I,SAAU,WAAY7N,EAAK8D,EAAE,YAAoBX,KAAM,kBAAC2F,GAAA,EAAD,CAAM5D,MAAO,CAACM,MAAO,OAAQC,OAAQ,SAAS,kBAAC,IAAD,CAAiBtC,KAAMshB,SAChQ,kBAACH,GAAA,EAAD,CAAwB/c,QAAS,CAACgd,SAAUhd,EAAQid,mBAAoBtf,MAAO,CAACwF,SAAU,IAAK9J,MAAM,UAAU6I,MAAO,0BAAMvE,MAAO,CAAC2I,SAAU,WAAY7N,EAAK8D,EAAE,YAAoBX,KAAM,kBAAC2F,GAAA,EAAD,CAAM5D,MAAO,CAACM,MAAO,OAAQC,OAAQ,SAAS,kBAAC,IAAD,CAAiBtC,KAAMuhB,SAChQ,kBAACJ,GAAA,EAAD,CAAwB/c,QAAS,CAACgd,SAAUhd,EAAQid,mBAAoBtf,MAAO,CAACwF,SAAU,IAAK9J,MAAM,cAAc6I,MAAO,0BAAMvE,MAAO,CAAC2I,SAAU,WAAY7N,EAAK8D,EAAE,gBAAwBX,KAAM,kBAAC2F,GAAA,EAAD,CAAM5D,MAAO,CAACM,MAAO,OAAQC,OAAQ,SAAS,kBAAC,IAAD,CAAiBtC,KAAMwhB,SACxQ,kBAACL,GAAA,EAAD,CAAwB/c,QAAS,CAACgd,SAAUhd,EAAQid,mBAAoBtf,MAAO,CAACwF,SAAU,IAAK9J,MAAM,aAAa6I,MAAO,0BAAMvE,MAAO,CAAC2I,SAAU,WAAY7N,EAAK8D,EAAE,eAAuBX,KAAM,kBAAC2F,GAAA,EAAD,CAAM5D,MAAO,CAACM,MAAO,OAAQC,OAAQ,SAAS,kBAAC,IAAD,CAAiBtC,KAAMyhB,UACtQ,kBAACN,GAAA,EAAD,CAAwB/c,QAAS,CAACgd,SAAUhd,EAAQid,mBAAoBtf,MAAO,CAACwF,SAAU,IAAK9J,MAAM,OAAO6I,MAAO,0BAAMvE,MAAO,CAAC2I,SAAU,WAAY7N,EAAK8D,EAAE,SAAiBX,KAAM,kBAAC2F,GAAA,EAAD,CAAM5D,MAAO,CAACM,MAAO,OAAQC,OAAQ,SAAS,kBAAC,IAAD,CAAiBtC,KAAM0hB,gB,GA1T/Oza,aAkUR0a,eAAWnM,aAAUtO,cA3UpB,SAACxI,GAAD,MAAY,CAC1BwiB,UAAW,CACTte,gBAAiBlE,EAAMyT,QAAQlP,QAAQgI,MAEzCoW,kBAAmB,CACjBrf,MAAOtD,EAAMyT,QAAQnR,KAAKiC,QAAU,kBAsUJiE,CAAsB4Y,MCvQ3C8B,G,2MAtFbhiB,MAAQ,CACNqM,YAAa,KACb4V,gBAAiB,CACf,EAAK,MACL,EAAK,SACL,EAAK,QACL,EAAK,YACL,EAAK,S,kFAIU1hB,M,0CAGE,IAAD,OAClB0N,MAAM,kGACLC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACL,EAAKrO,MAAMqM,YAAc/N,OAAOC,KAAK8P,GAAM7M,KAAI,SAAS0gB,GAAK,OAAO7T,EAAK6T,MAEzE,EAAKliB,MAAMqM,YAAY3L,SAAQ,SAAA4N,GACzBA,EAAWX,OACVW,EAAW+C,eAAiB,GAAI/C,EAAWX,KAAO,IAC7CW,EAAW+C,eAAiB,GAAI/C,EAAWX,KAAO,IAClDW,EAAW+C,eAAiB,GAAI/C,EAAWX,KAAO,IAClDW,EAAW+C,eAAiB,GAAI/C,EAAWX,KAAO,IACrDW,EAAWX,KAAO,QAI3B,EAAK3N,MAAMqM,YAAc/N,OAAO+C,OAAO,EAAKrB,MAAMqM,aAAaiB,MAAK,SAAC5O,EAAG6O,GAAJ,OAAW7O,EAAEoC,KAAOyM,EAAEzM,KAAQ,GAAK,KAEvGgM,QAAQC,IAAI,EAAK/M,MAAMqM,aAEvB,EAAKlL,SAAS,EAAKnB,UAEpBghB,MAAMlU,QAAQC,O,+BAIf,OACE,6BACE,4BACG9P,EAAK8D,EAAE,UAEV,uBAAGohB,wBAAyB,CAACC,OAAQnlB,EAAK8D,EAAE,iBAE5C,4BACG9D,EAAK8D,EAAE,aAEV,2BACE,4BACE,uDACuB,uBAAGc,KAAK,kCAAR,eADvB,kEAGA,0DAC6B,uBAAGA,KAAK,mCAAR,gBAD7B,qEAGA,yDAC4B,uBAAGA,KAAK,gCAAR,aAD5B,qDAGA,uDAC0B,uBAAGA,KAAK,sCAAR,mBAD1B,iCAGA,oDACuB,uBAAGA,KAAK,gCAAR,aADvB,iCAKJ,4BACG5E,EAAK8D,EAAE,iBAEV,2BACG9D,EAAK8D,EAAE,sBAEV,4BACG9D,EAAK8D,EAAE,mBAEV,2BACG9D,EAAK8D,EAAE,6B,GAhFEsG,a,8ECapB2E,KAAKqW,YAAc,SAAUC,EAAIC,EAAIC,EAAIC,GACxC,IAAItZ,EAAKqZ,EAAKF,EAAII,EAAKD,EAAKF,EAG5B,OAFApZ,GAAMA,EACNuZ,GAAMA,EACC1W,KAAK2W,KAAMxZ,EAAKuZ,IAIxB1W,KAAK4W,aAAe,SAASC,EAAIC,GAAI,OAAO9W,KAAK+W,MAAMD,EAAG7H,EAAI4H,EAAG5H,EAAG6H,EAAG/H,EAAI8H,EAAG9H,IAG9E/O,KAAKgX,SAAW,SAASH,EAAIC,GAAI,OAA8C,IAAvC9W,KAAK+W,MAAMD,EAAG7H,EAAI4H,EAAG5H,EAAG6H,EAAG/H,EAAI8H,EAAG9H,GAAW/O,KAAKiX,IAE1F,IAAIC,GAAWC,KAAEC,OAAOvH,OAAO,CAC7BwH,OAAQ,WACR,GAAI7iB,KAAK8iB,OAAS9iB,KAAK+iB,KAAM,CAGzB,IAFA,IAAIC,EAAMhjB,KAAK+iB,KAAKE,mBAAmBjjB,KAAKkjB,SAEpC7f,EAAE,EAAGA,EAAEvF,OAAOC,KAAKiC,KAAK+iB,KAAKI,SAASve,OAAQvB,GAAG,EAAE,CACzD,IAAI+f,EAAQtlB,OAAO+C,OAAOb,KAAK+iB,KAAKI,SAAS9f,GAE7C,GAAG+f,EAAMF,SAAWE,GAASpjB,MAAQojB,EAAMN,MAAM,CAC/C,IAAIO,EAAWrjB,KAAK+iB,KAAKO,uBAAuBF,EAAMF,SAClDK,EAAQvjB,KAAK+iB,KAAKO,uBAAuBtjB,KAAKkjB,SAE9CM,EAAWhY,KAAKqW,YAClBwB,EAAS9I,EAAG8I,EAAS5I,EACrB8I,EAAMhJ,EAAGgJ,EAAM9I,GAGbgJ,OAAK,EAEM,GAAZD,IACDC,EAAQjY,KAAK4W,aACX,CAAC7H,EAAGva,KAAKkjB,QAAQ5lB,IAAKmd,EAAGza,KAAKkjB,QAAQQ,KACtC,CAACnJ,EAAG6I,EAAMF,QAAQ5lB,IAAKmd,EAAG2I,EAAMF,QAAQQ,OAIzCF,EAAS,UACEtkB,GAATukB,IACDA,EAAQjY,KAAK4W,aAAamB,EAAOF,IACnC/W,QAAQC,IAAIkX,GACZnX,QAAQC,IAAIiX,GACZR,EAAIvI,GAAKjP,KAAKmY,IAAIF,KAAS,GAAGD,GAAU,GACxCR,EAAIzI,GAAK/O,KAAKoY,IAAIH,KAAS,GAAGD,GAAU,KAKjDxjB,KAAK6jB,QAAQb,GAGd,OAAOhjB,QAITsM,QAAQC,IAAImW,GAASG,Q,IAEfiB,G,2MACJtkB,MAAQ,CACNC,QAAS,KACTyN,WAAa,KACb6W,SAAS,EACTC,UAAW,G,EAGbC,MAAQ,K,EACRC,QAAU,K,EACVC,QAAU,G,EACVC,QAAU,G,EAEVC,WAAa,E,kFAEMtkB,GACdC,KAAK1B,QAAUyB,IAChBC,KAAKR,MAAMC,QAAUM,EAAUN,QAC/BO,KAAKR,MAAM0N,WAAanN,EAAUmN,WAClClN,KAAKW,SAASX,KAAKR,OACnBQ,KAAKskB,WACLtkB,KAAKygB,gB,mCAIiB,IAAD,OAAd8D,EAAc,wDACvB,IAAGvkB,KAAKwkB,WACRxkB,KAAKwkB,UAAW,EAChBxkB,KAAKW,SAAS,CAACojB,SAAS,IACpB/jB,KAAK1B,MAAMmB,SACXO,KAAK1B,MAAM4O,YAAf,CAEGlN,KAAKmkB,UACNnkB,KAAKmkB,QAAQjkB,SAAQ,SAACukB,GACpBA,EAAOC,YAET1kB,KAAKmkB,QAAU,IAGdnkB,KAAKokB,UACNpkB,KAAKokB,QAAQlkB,SAAQ,SAACykB,GACpBA,EAAOD,YAET1kB,KAAKokB,QAAU,IAGjB,IAAIQ,EAAW,GAEftY,QAAQC,IAAIvM,KAAKR,MAAMC,SAEvB3B,OAAOC,KAAKiC,KAAK1B,MAAMmB,SAASS,SAAQ,SAAAC,GACE,MAArC,EAAK7B,MAAMmB,QAAQU,GAAQ0kB,QAAkBN,KAAY,EAAKjmB,MAAMmB,QAAQU,GAAQ4C,MACrF6hB,EAASlkB,MACP,uDAAAxC,EAAA4mB,OAAA,uDACExY,QAAQC,IAAI,EAAKjO,MAAMmB,QAAQU,GAAQiB,IADzC,YAAAlD,EAAA,MAGsBuP,MAAM,4EAA4E,EAAKnP,MAAM6C,KAAK,IAAI,EAAK7C,MAAMmB,QAAQU,GAAQiB,GAAG,iBAAiBsM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,WAH3L,cAGMtE,EAHN,mBAAApL,EAAA,MAIsBuP,MAAM,4EAA4E,EAAKnP,MAAM6C,KAAK,IAAI,EAAK7C,MAAMmB,QAAQU,GAAQiB,GAAG,iBAAiBsM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,WAJ3L,OAQE,GAJI0H,EAJN,OAMM9M,EAAS,KAES,MAAnBc,EAAQA,SAA8C,MAA3BA,EAAQA,QAAQA,QAAgB,CAC5DgD,QAAQC,IAAIjD,EAAQA,QAAQA,SAExByb,EAAO,KAEX,IACEA,EAAOjnB,OAAOyF,QAAQ+F,EAAQA,QAAQA,SAAS,GAAG,GAC9C0b,EAAY1U,SAASxS,OAAOyF,QAAQ+F,EAAQA,QAAQA,SAAS,GAAG,GAAG6D,MAEvErP,OAAOyF,QAAQ+F,EAAQA,QAAQA,SAASpJ,SAAQ,SAACsI,GAC5C8H,SAAS9H,EAAO,GAAG2E,MAAQ6X,IAC5BD,EAAOvc,EAAO,GACdwc,EAAY1U,SAAS9H,EAAO,GAAG2E,UAGnC,MAAM+Q,GACN5R,QAAQC,IAAI2R,GAGH,MAAR6G,IACGE,EAAW,EAAK3mB,MAAM4O,WAAX,QAAiC,EAAK5O,MAAMmB,QAAQU,GAAQiB,GAAG,IAAI2jB,GAClFvc,EAAS,EAAKlK,MAAM4O,WAAX,QAAiC+X,IA7BhD,OAiCe,MAAVzc,GAAmBA,EAAO+B,OAAgC,GAAvB/B,EAAO+B,MAAM3F,SACpC,MAAV4D,IAAgBA,EAAS,CAAC+B,MAAO,KACpC/B,EAAO+B,MAAM7J,KAAK,WAGhBwkB,EAAiC,cAAc,EAAK5mB,MAAM6C,KAAK,aAAakG,GAAqB,EAAK/I,MAAM6C,KAAMqH,EAAO+B,MAAM,KAAO,UAAU,UAEhJ4a,EAAW,GAEXZ,GAA8C,MAApC,EAAKjmB,MAAMmB,QAAQU,GAAQX,MACjC+kB,GAAgD,MAAtC,EAAKjmB,MAAMmB,QAAQU,GAAQK,UAAiB2kB,EAAW,IADjBA,EAAW,GAG/DC,EAAWzC,KAAE/iB,KAAK,CACpBslB,QAASA,EACTC,SAAU,CAACA,EAAUA,GACrBE,YAAa,CAAC,GAAI,GAClBhc,UAAWR,KAAOyc,cAGpBxmB,OAAOymB,cAAgB,EAAKjnB,MAAMsY,QAE9B8M,EAAM,EAAKplB,MAAMmB,QAAQU,GAAQ0kB,OAAO,GACxCvnB,EAAM,EAAKgB,MAAMmB,QAAQU,GAAQ0kB,OAAO,IAEhC,EAEZ,EAAKV,QAAQjkB,SAAQ,SAAAukB,GAChBA,EAAOvB,QAAQQ,KAAOA,GAAOe,EAAOvB,QAAQ5lB,KAAOA,IACpDA,GAAK,SAMJkoB,EADDjB,EACU,IAAS,IAAOzmB,OAAOC,KAAKuX,EAAQA,SAAS1Q,OADtC,KAAS,IAAM9G,OAAOC,KAAKuX,EAAQA,SAAS1Q,OAGjE4gB,GAAUL,EAAS,GAIdvjB,EADD2iB,EACS,2BADO,yBAGhBI,EAAShC,KAAEgC,OAAO,CAACjB,EAAIpmB,GAAMkoB,EAAQ,CAAC5jB,MAAOA,EAAO6jB,UAAW7jB,IAAQ8jB,MAAM,EAAKzB,OACtF,EAAKG,QAAQ1jB,KAAKikB,IAEdF,EAAS,IAAI/B,GAAS,CAACgB,EAAKpmB,GAAM,CAACsC,KAAMwlB,IAAWM,MAAM,EAAKzB,QAC5D0B,UAAU,yNAE6H,EAAKrnB,MAAM6C,KAAK,gBAAgB,EAAK7C,MAAMmB,QAAQU,GAAQiB,GAAG,8PAE3J,EAAK9C,MAAM6C,KAAK,YAAY,EAAK7C,MAAMmB,QAAQU,GAAQiB,GAAG,SAAS,EAAK9C,MAAMmB,QAAQU,GAAQG,KAAK,QAC7I,EAAKhC,MAAMmB,QAAQU,GAAQgS,KAAO,EAAK7T,MAAMmB,QAAQU,GAAQgS,KAAK,KAAO,KACzE,EAAK7T,MAAMmB,QAAQU,GAAQX,MAAQ,EAAKlB,MAAMmB,QAAQU,GAAQX,MAAM,KAAO,KAC3E,EAAKlB,MAAMmB,QAAQU,GAAQK,QAAU,EAAKlC,MAAMmB,QAAQU,GAAQK,QAAU,IAC5E,0CAIL,EAAK2jB,QAAQzjB,KAAK+jB,GA3FpB,mBA6FS,GA7FT,4CAgHNmB,EAAMrK,KAAKvb,MAbX,SAAe4lB,IAAf,oBAAA1nB,EAAA4mB,OAAA,gDAEE,IADIe,EAAQ,GACJxiB,EAAE,EAAGA,EAAEuhB,EAAShgB,OAAQvB,IAC9BwiB,EAAMnlB,KAAKkkB,EAASvhB,MAEdA,EAAE,EALZ,YAKeA,EAAEwiB,EAAMjhB,QALvB,mCAAA1G,EAAA,MAMU2nB,EAAMxiB,IANhB,OAK+BA,IAL/B,sBAQErD,KAAK8lB,iBACL9lB,KAAKwkB,UAAW,EAChBxkB,KAAKW,SAAS,CAACojB,SAAS,IAV1B,mD,uCAsBe/S,GACf,IAAIC,EAAQD,EAAQzD,MAAM,KAC1B,OAAO0D,EAAMA,EAAMrM,OAAO,K,kCAGhBtE,GACV,OAAOA,EAAKnC,cAAcoJ,QAAQ,KAAM,M,0CAIxCvH,KAAK+lB,gB,yCAGY5Z,GACjBnM,KAAK+lB,gB,oCAIL,IAAI/lB,KAAKR,MAAMC,QAAQ,CACrB,IAAIO,KAAK1B,MAAMmB,QAAS,OACxB,IAAIO,KAAK1B,MAAM4O,WAAY,OAE3BlN,KAAKR,MAAMC,QAAUO,KAAK1B,MAAMmB,QAChCO,KAAKR,MAAM0N,WAAalN,KAAK1B,MAAM4O,WAEnClN,KAAKW,SAASX,KAAKR,OAEnBQ,KAAKskB,WACLtkB,KAAKygB,gB,iCAIE,IAAD,OACR,GAAiB,MAAdzgB,KAAKikB,MAAR,CAEA,IAYI+B,EAAUrD,KAAEsD,UAAUC,YACxB,oDACA,CACEC,QAAS,EACTC,QAAS,GACThlB,GAAI,cACJN,OAXW,CACb,aACA,iBAaFd,KAAKikB,MAAQtB,KAAE3hB,IAAI,QAtBF,CACfqlB,oBAAoB,EACpBC,OAAQ,EAAE,iBAAkB,oBAC5BC,KAAM,GACNH,QAAS,IAmBXJ,EAAQN,MAAM1lB,KAAKikB,OAEnBjkB,KAAKqkB,WAAa,EAElBrkB,KAAKwmB,SAAW1nB,OAAO2nB,iBAAiB,UAAU,WAChD,IAAIC,EAASxQ,SAASC,eAAe,UACrC,EAAKkO,WAAa,EACfqC,IACD,EAAKrC,WAAaqC,EAAOC,iBAI7B3mB,KAAKikB,MAAM2C,QAAQ,GACnB5mB,KAAKikB,MAAM4C,MAAM,IAAIlE,KAAEmE,OAAO,EAAE,O,uCAI7B9mB,KAAKmkB,QAAQvf,OAAS,GACvB5E,KAAKikB,MAAM8C,UAAU,IAAIpE,KAAEqE,aAAahnB,KAAKmkB,SAAS8C,e,+BAIhD,IAAD,OACSjnB,KAAK1B,MAAfC,MAEN,OACE,kBAACwL,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAK3I,GAAG,QAAQO,MAAO,CAACO,OAAQ,gBAAgBlC,KAAKqkB,WAAW,MAAOtR,OAAQ,QAASpK,IAAE,GACxF,kBAACue,GAAA,EAAD,CACEvlB,MAAO,CAACuF,OAAQ,IAAK7C,SAAU,WAAYkO,MAAO,GAAIlN,IAAK,IAC3DhI,MAAO2C,KAAKR,MAAMwkB,UAClBpe,SAAU,SAACsY,GAAK,EAAKvd,SAAS,CAACqjB,UAAW9F,EAAEjf,OAAO5B,UAEnD,kBAAC8pB,GAAA,EAAD,CAAU9pB,MAAO,EAAGiE,QAAS,SAAC4c,GAAK,EAAKuC,eAAxC,WAGA,kBAAC0G,GAAA,EAAD,CAAU9pB,MAAO,EAAGiE,QAAS,SAAC4c,GAAK,EAAKuC,YAAW,KAAnD,WAIDzgB,KAAKR,MAAMukB,QACV,yBAAKpiB,MAAO,CACVuF,OAAQ,IAAK7C,SAAU,WAAYiB,KAAM,EAAGiN,MAAO,EAAGlN,IAAI,EAAGiN,OAAQ,EACrE9P,gBAAiB,YAAaL,QAAS,OAAQiH,WAAY,WAE3D,yBAAKR,MAAM,YAGb,W,GAxRO/B,aAgSJ0a,eAAWza,aAAW,KAAM,CAAEsO,WAAW,GAA9BtO,CAAsCgd,KCnMjDsD,G,2MArKb5nB,MAAQ,CACN6I,WAAY,M,kFAGKtI,GACAC,KAAK1B,Q,0CAMtBQ,OAAOuoB,oBAAsBrnB,O,oCAGjB,IAAD,OACO,MAAfA,KAAKwI,SAERxI,KAAKwI,OAAO8e,eAAiB,GAC7BtnB,KAAKwI,OAAO+e,gBAAkB,GAE9BvnB,KAAKwI,OAAOqD,YAAY3L,SAAQ,SAAA4N,GAC3BA,EAAW0Z,YAAY,EAAKhf,OAAO8e,eAAe5mB,KAAKoN,GACvDA,EAAW2Z,aAAa,EAAKjf,OAAO+e,gBAAgB7mB,KAAKoN,MAG9D9N,KAAKW,SAAS,CAAC0H,WAAYrI,KAAKwI,Y,uCAcjBwI,GACf,IAAIC,EAAQD,EAAQzD,MAAM,KAC1B,OAAO0D,EAAMA,EAAMrM,OAAO,K,+BAI1B,OACE,yBAAKgE,MAAM,aAAaxH,GAAG,sBAAsBsmB,SAAS,KAAKpK,KAAK,SAASqK,cAAY,OAAOhmB,MAAO,CACrGimB,WAAY,aAAc3e,UAAW,SAErC,yBAAKL,MAAM,8CAA8C0U,KAAK,YAC5D,yBAAK1U,MAAM,iBACT,yBAAKA,MAAM,gBACT,wBAAIA,MAAM,cAAcxH,GAAG,yBAA3B,UACA,4BAAQyd,KAAK,SAASjW,MAAM,QAAQif,eAAa,QAAQtc,aAAW,SAClE,0BAAMoc,cAAY,QAAlB,UAGJ,yBAAK/e,MAAM,cACR5I,KAAKR,MAAM6I,WACR,6BACE,4BAAKrI,KAAKR,MAAM6I,WAAW/H,MAE1BN,KAAKR,MAAM6I,WAAWkf,gBAAgB3iB,OAAS,EAC9C,6BACE,8DACA,2BAAOgE,MAAM,gCACX,+BACE,4BACE,wBAAIuL,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,mBACA,wBAAIA,MAAM,OAAV,qBAGJ,+BAEInU,KAAKR,MAAM6I,WAAWkf,gBAAgBza,MAAK,SAAC5O,EAAG6O,GAAJ,OAAUsD,OAAOtD,EAAEzM,MAAQ+P,OAAOnS,EAAEoC,SAAOwM,MAAK,SAAC5O,EAAG6O,GAAJ,OAAUsD,OAAOtD,EAAE+a,YAAczX,OAAOnS,EAAE4pB,eAAa9mB,KAAI,SAAC8M,EAAYzK,GAAb,OACpJ,wBAAIuF,MAAOvF,EAAE,GAAI,GAAK,cACpB,wBAAI8Q,MAAM,OAAO9Q,EAAE,GACnB,4BAAKyK,EAAWxN,MAChB,4BAAKwN,EAAWia,MAChB,4BACEja,EAAW2Z,YACT,6BACE,6BAAM3Z,EAAW2Z,YAAc3Z,EAAW2Z,YAAc,IAG1D3Z,EAAW2Z,aAEdpkB,EAAE,GACD,4BAAI,2BACF,6BAAMyK,EAAWga,WAAaha,EAAWga,WAAa,KAGxD,4BAAKha,EAAWga,mBAS9B,KAGD9nB,KAAKR,MAAM6I,WAAWif,eAAe1iB,OAAS,EAC7C,6BACE,6DACA,2BAAOgE,MAAM,gCACX,+BACE,4BACE,wBAAIuL,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,mBACA,wBAAIA,MAAM,OAAV,qBAGJ,+BAEInU,KAAKR,MAAM6I,WAAWif,eAAexa,MAAK,SAAC5O,EAAG6O,GAAJ,OAAUsD,OAAOtD,EAAEzM,MAAQ+P,OAAOnS,EAAEoC,SAAOwM,MAAK,SAAC5O,EAAG6O,GAAJ,OAAUsD,OAAOtD,EAAEib,WAAa3X,OAAOnS,EAAE8pB,cAAYhnB,KAAI,SAAC8M,EAAYzK,GAAb,OACjJ,wBAAIuF,MAAOvF,EAAE,GAAI,GAAK,cACpB,wBAAI8Q,MAAM,OAAO9Q,EAAE,GACnB,4BAAKyK,EAAWxN,MAChB,4BAAKwN,EAAWia,MAChB,4BACEja,EAAW0Z,WACT,6BACE,6BAAM1Z,EAAW0Z,WAAa1Z,EAAW0Z,WAAa,IAGxD1Z,EAAW0Z,YAEdnkB,EAAE,GACD,4BAAI,2BACF,6BAAMyK,EAAWka,UAAYla,EAAWka,UAAY,KAGtD,4BAAKla,EAAWka,kBAS9B,MAIN,MAGJ,yBAAKpf,MAAM,wB,GA7JW/B,aC0WnBohB,G,2MAnWbzoB,MAAQ,CACN0Y,WAAY,M,EAGdC,YAAc,CACZ,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAClE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,W,EAGpEC,SAAWxC,IAAMC,Y,EACjBqS,UAAYtS,IAAMC,Y,EAClByC,eAAiB1C,IAAMC,Y,2EAEXvV,GACV,OAAOA,EAAKnC,cAAcoJ,QAAQ,KAAM,M,0CAIxC,GAAGvH,KAAK1B,MAAM4Z,YAAuC,MAAzBlY,KAAKR,MAAM0Y,WAAmB,CACxD,IAAIrK,EAAO,GACX/P,OAAO8O,OAAOiB,EAAM7N,KAAK1B,MAAM4Z,YAE/B5L,QAAQC,IAAIsB,GAGZ,IAAI2K,EAAQ,GAEZ1a,OAAOC,KAAK8P,EAAI,YAAgB3N,SAAQ,SAAAoH,GACtC,IAAIoR,EAAM,CACRpY,KAAMgH,EACNqR,MAAO9K,EAAI,WAAevG,GAC1B1H,KAAM0H,GAERkR,EAAM9X,KAAKgY,MAGb7K,EAAI,WAAiB2K,EAErB3K,EAAI,WAAef,MAAK,SAAS5O,EAAG6O,GAClC,OAAOA,EAAE4L,MAAQza,EAAEya,SAGrB9K,EAAI,aAAmB,GACvBA,EAAI,aAAmB,GACvBA,EAAI,WAAiB,GAErBA,EAAI,WAAe3N,SAAQ,SAAC4Y,GAC1BjL,EAAI,aAAiBnN,KAAKoY,EAAMxY,MAChCuN,EAAI,aAAiBnN,KAAKoY,EAAMH,OAChC9K,EAAI,WAAenN,KAAKoY,EAAMlZ,SAG7B,sBAAuBiO,IACxBA,EAAI,kBAAwB/P,OAAOyF,QAAQsK,EAAI,mBAE/CA,EAAI,kBAAsBf,MAAK,SAAS5O,EAAG6O,GACzC,OAAOA,EAAE,GAAK7O,EAAE,OAIpBoO,QAAQC,IAAIsB,GAEZ7N,KAAKW,SAAS,CAACuX,WAAYrK,O,6CAK7B7N,KAAKR,MAAM0Y,WAAa,O,2CAMxB,GAA4B,MAAzBlY,KAAKR,MAAM0Y,WAAd,CAGiC,MAA9BlY,KAAKgZ,wBACNhZ,KAAKgZ,sBAAwBC,KAAMC,YAAYC,KACjD,IAAIH,EAAwBhZ,KAAKgZ,sBAGjC,GAAG,uBAAwBhZ,KAAKR,MAAM0Y,YAAgC,MAAlBlY,KAAKkoB,YAEvDloB,KAAKmoB,YAAcnoB,KAAKkoB,UAAUlS,QAAQqD,WAAW,MAElDrZ,KAAKmoB,aAAY,CAAC,IAiDVC,EAAT,SAAoB7nB,GAClB,GAAIA,GACAA,EAAEgZ,MAAMC,IAAZ,CACA,IAAIC,EAAgBlZ,EAAEgZ,MAClBG,EAAUD,EAAcE,OAAO9L,KAAK+L,SAAS,GAAG/L,KAChDgM,EAAOJ,EAAcK,WAAWC,eAAe,GACnDxZ,EAAEgZ,MAAMC,IAAIQ,sBAAwB,OACpCzZ,EAAEgZ,MAAMC,IAAIvQ,UAAY,SACxB4Q,EAAKhM,KAAK3N,SAAQ,SAASiZ,EAAKc,GAC9B,IAAIC,EAAMf,EAAIgB,OAAOjU,MACjBkU,EAAMlE,SAASC,eAAe+D,GACxB,MAAPE,GAAqC,IAAtBA,EAAIC,eACpB9Z,EAAEgZ,MAAMC,IAAIc,UAAUF,EAAIjB,EAAIgB,OAAOI,EAAE,GAAGpB,EAAIqB,MAAMC,EAAE,GAAG,GAAG,IAE9Dla,EAAEgZ,MAAMC,IAAIkB,SAASqB,WAAWrC,EAAQP,EAAIwB,SAAS9G,QAAQ,GAAIsF,EAAIgB,OAAOI,EAAEpB,EAAIqB,MAAMC,EAAE,SA9D1FG,EAAY,CACd,OAAU5a,KAAKR,MAAM0Y,WAAWmQ,iBAAiBrnB,KAAI,SAAC9C,GAAK,OAAOA,EAAE,MACpE,SAAY,CAAC,CACX,KAAQ8B,KAAKR,MAAM0Y,WAAWmQ,iBAAiBrnB,KAAI,SAAC9C,GAAK,OAAOA,EAAE,GAAF,WAChE,MAAQ,EACR,gBAAmB,uBACnB,YAAe,IAEjB,MAAS8B,KAAKR,MAAM0Y,WAAWmQ,iBAAiBrnB,KAAI,SAAC9C,GAAK,OAAOA,EAAE,OAGrE,IAAK,IAAImF,KAAKuX,EAAUE,OAAQ,CAC9B,IAAIZ,EAAMU,EAAUE,OAAOzX,GACvBzD,EAAOgb,EAAUG,MAAM1X,GACvB2X,EAAOlc,OAAOoS,OAAO,UAAU+J,KAAK,KAAMf,GAAKe,KACjD,MACA,oFAAoFrb,EAAK,QAE3Fd,OAAOoS,OAAO,SAASkK,OAAOJ,GAGpB,IAAI/B,KAAMjZ,KAAKmoB,YAAa,CACtC,KAAQ,MACR,KAAQvN,EACRa,UAAW,CAAC,YAAc,GAC1BC,YAAa,EACbjE,OAAQ,EACR,QAAW,CACTkE,OAAQ,CAAExZ,SAAS,GACnByZ,OAAQ,CAAE/R,QAAS,MACnB,OAAU,CACR,MAAS,CAAC,CACRzI,GAAI,KACJ,MAAS,CACP,aAAe,SAOzB6X,KAAMC,YAAYC,IAAMH,EAAsBqC,OAAO,CACnDF,KAAM,WACJnC,EAAsBsC,UAAUH,KAAKI,KAAKvb,KAAMwb,WAChD4M,EAAWpoB,SA6BnB,GAJAA,KAAKoZ,WAAapZ,KAAKoY,SAASpC,QAAQqD,WAAW,MAEnD/M,QAAQC,IAAIvM,KAAKoZ,YAEdpZ,KAAKoZ,WAAW,CAAC,IAiCTE,EAAT,SAAmB/Y,GACjB,GAAIA,GACAA,EAAEgZ,MAAMC,IAAZ,CACA,IAAIC,EAAgBlZ,EAAEgZ,MAClBG,EAAUD,EAAcE,OAAO9L,KAAK+L,SAAS,GAAG/L,KAChDgM,EAAOJ,EAAcK,WAAWC,eAAe,GACnDxZ,EAAEgZ,MAAMC,IAAIQ,sBAAwB,OACpCzZ,EAAEgZ,MAAMC,IAAIvQ,UAAY,SACxB4Q,EAAKhM,KAAK3N,SAAQ,SAASiZ,EAAKc,GAC9B,IAAIC,EAAMf,EAAIgB,OAAOjU,MACjBkU,EAAMlE,SAASC,eAAe+D,GACxB,MAAPE,GAAqC,IAAtBA,EAAIC,eACpB9Z,EAAEgZ,MAAMC,IAAIc,UAAUF,EAAIjB,EAAIgB,OAAOI,EAAE,GAAGpB,EAAIqB,MAAMC,EAAE,GAAG,GAAG,IAE9Dla,EAAEgZ,MAAMC,IAAIkB,SAAShB,EAAQP,EAAIwB,QAAQ9G,QAAQ,GAAIsF,EAAIgB,OAAOI,EAAEpB,EAAIqB,MAAMC,EAAE,SA9ClFnO,QAAQC,IAAI,KACRqO,EAAY,CACdC,qBAAqB,EACrB,OAAU7a,KAAKR,MAAM0Y,WAAX,aACV,SAAY,CAAC,CACX,KAAQlY,KAAKR,MAAM0Y,WAAX,aACR,MAAQ,EACR,gBAAmB,uBACnB,YAAe,IAEjB,MAASlY,KAAKR,MAAM0Y,WAAX,YAGX,IAAK,IAAI7U,KAAKuX,EAAUE,OAAQ,CAC9B,IAAIZ,EAAMU,EAAUE,OAAOzX,IACvB2X,EAAOlc,OAAOoS,OAAO,UAAU+J,KAAK,KAAMf,GAAKe,KACjD,MACuB,6BAA6Bjb,KAAKsoB,YAAYpO,GAAK,SAEvEgB,OAAS,WACZlb,KAAKmb,QAEPrc,OAAOoS,OAAO,SAASkK,OAAOJ,GAGhC/B,KAAMC,YAAYC,IAAMF,KAAMC,YAAYC,IAAIkC,OAAO,CACnDF,KAAM,WACJnC,EAAsBsC,UAAUH,KAAKI,KAAKvb,KAAMwb,WAChDlC,EAAUtZ,SAsBF,IAAIiZ,KAAMjZ,KAAKoZ,WAAY,CACrC,KAAQ,MACR,KAAQwB,EACRa,UAAW,CAAC,YAAc,GAC1BC,YAAa,EACbjE,OAAQ,EACR,QAAW,CACTkE,OAAQ,CAAExZ,SAAS,GACnByZ,OAAQ,CAAE/R,QAAS,MACnB,OAAU,CACR,MAAS,CAAC,CACRzI,GAAI,KACJ,MAAS,CACP,aAAe,SAS3B,GAAG,sBAAuBpB,KAAKR,MAAM0Y,aAEnClY,KAAKic,iBAAmBjc,KAAKsY,eAAetC,QAAQqD,WAAW,MAE5DrZ,KAAKic,kBAAiB,CAAC,IA6BfH,EAAT,SAAoBvb,GAClB,GAAIA,GACAA,EAAEgZ,MAAMC,IAAZ,CACA,IAAIC,EAAgBlZ,EAAEgZ,MAClBG,EAAUD,EAAcE,OAAO9L,KAAK+L,SAAS,GAAG/L,KAChDgM,EAAOJ,EAAcK,WAAWC,eAAe,GACnDxZ,EAAEgZ,MAAMC,IAAIQ,sBAAwB,OACpCzZ,EAAEgZ,MAAMC,IAAIvQ,UAAY,SACxB4Q,EAAKhM,KAAK3N,SAAQ,SAASiZ,EAAKc,GAC9B,IAAIC,EAAMf,EAAIgB,OAAOjU,MACjBkU,EAAMlE,SAASC,eAAe+D,GACxB,MAAPE,GAAqC,IAAtBA,EAAIC,eACpB9Z,EAAEgZ,MAAMC,IAAIc,UAAUF,EAAIjB,EAAIgB,OAAOI,EAAE,GAAGpB,EAAIqB,MAAMC,EAAE,GAAG,GAAG,IAE5Dla,EAAEgZ,MAAMC,IAAIkB,SAASqB,WAAWrC,EAAQP,EAAIwB,SAAS9G,QAAQ,GAAIsF,EAAIgB,OAAOI,EAAEpB,EAAIqB,MAAMC,EAAE,SA1C5FG,EAAY,CACd,OAAU5a,KAAKR,MAAM0Y,WAAWgE,kBAAkBlb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,MACrE,SAAY,CAAC,CACX,KAAQ8B,KAAKR,MAAM0Y,WAAWgE,kBAAkBlb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,MACnE,MAAQ,EACR,gBAAmB,uBACnB,YAAe,IAEjB,MAAS8B,KAAKR,MAAM0Y,WAAWgE,kBAAkBlb,KAAI,SAAC9C,GAAK,OAAOA,EAAE,OAGtE,IAAK,IAAImF,KAAKuX,EAAUE,OAAQ,CAC9B,IAAIZ,EAAMU,EAAUE,OAAOzX,GACvBzD,EAAOgb,EAAUG,MAAM1X,GACvB2X,EAAOlc,OAAOoS,OAAO,UAAU+J,KAAK,KAAMf,GAAKe,KACjD,MACA,mFAAmFrb,EAAK,QAE1Fd,OAAOoS,OAAO,SAASkK,OAAOJ,GAGhC/B,KAAMC,YAAYC,IAAMH,EAAsBqC,OAAO,CACnDF,KAAM,WACJnC,EAAsBsC,UAAUH,KAAKI,KAAKvb,KAAMwb,WAChDM,EAAW9b,SAsBH,IAAIiZ,KAAMjZ,KAAKic,iBAAkB,CAC3C,KAAQ,MACR,KAAQrB,EACRa,UAAW,CAAC,YAAc,GAC1BC,YAAa,EACbjE,OAAQ,EACR,QAAW,CACTkE,OAAQ,CAAExZ,SAAS,GACnByZ,OAAQ,CAAE/R,QAAS,MACnB,OAAU,CACR,MAAS,CAAC,CACRzI,GAAI,KACJ,MAAS,CACP,aAAe,a,+BAW7B,OACE,yBAAKwH,MAAM,6BAA6BjH,MAAO,CAC7Ca,gBAAiB,UAAWC,aAAc,OAAQgV,OAAQ,EAAG1Q,aAAc,MAAOgM,OAAQ,OAC1FlJ,QAAS,OAAQL,UAAW,SAAUP,UAAW,OAAQ2e,WAAY,uBAEpE5nB,KAAKR,MAAM0Y,WACV,6BACG,sBAAuBlY,KAAKR,MAAM0Y,WACjC,yBAAKtP,MAAM,iBACT,yBAAKA,MAAM,OACT,oDACA,yBAAKjH,MAAO,CAACM,MAAO,OAAQqa,UAAW,SAAU9Z,gBAAiB,YAChE,yBAAKb,MAAO,CAACM,MAAO,IAAKC,OAAO,MAC9B,4BAAQP,MAAO,CAACM,MAAO,IAAKC,OAAQ,KAAM0V,IAAK5X,KAAKsY,eAAgBlX,GAAG,sBAM/E,KAGF,yBAAKwH,MAAM,iBACT,yBAAKA,MAAM,OACT,kDACA,yBAAKjH,MAAO,CAACM,MAAO,OAAQqa,UAAW,SAAU9Z,gBAAiB,YAChE,yBAAKb,MAAO,CAACM,MAAO,IAAKC,OAAO,MAC9B,4BAAQP,MAAO,CAACM,MAAO,IAAKC,OAAQ,KAAM0V,IAAK5X,KAAKoY,SAAUhX,GAAG,iBAO3E,2CAEF,yBAAKA,GAAG,OAAOO,MAAO,CAACQ,QAAS,e,GA9VP0E,aCuClB0hB,ICxCQ1hB,Y,kNDArBrH,MAAQ,CACNgpB,QAAQ,G,kFAGSrc,M,0CAIjBnM,KAAKyoB,SAAW7S,IAAMC,c,kCAItB7V,KAAKW,SAAS,CAAC6nB,QAAQ,M,6CAIvB1pB,OAAOoS,OAAOlR,KAAKyoB,SAASzS,SAAS0O,W,+BAG7B,IAAD,OACP,OACE,yBAAK/iB,MAAO,CAACQ,QAAS,iBACpB,yBAAKb,QAAS,kBAAI,EAAKqD,aACvBhD,MAAO,CAACQ,QAAS,eAAgBumB,OAAQ,UAAWpe,SAAU,UAAW/H,cAAe,WACtF,kBAAC,IAAD,CAAiB3C,KAAM+oB,OAGzB,kBAACxiB,GAAA,EAAD,CAAQ9F,KAAML,KAAKR,MAAMgpB,OAAQpiB,QAAS,WAAK,EAAKzF,SAAS,CAAC6nB,QAAQ,MACpE,kBAACniB,GAAA,EAAD,aAGA,kBAACC,GAAA,EAAD,KACGtG,KAAK1B,MAAMqgB,QAAU3e,KAAK1B,MAAMqgB,QAAU,U,GAjC9B9X,c,4DE0CnB+hB,G,2MACJppB,MAAQ,CACNqM,YAAa,GACbgd,gBAAiB,MACjBC,WAAY,GACZld,eAAgB,M,kFAGC7L,M,0CAGE,IAAD,OAClB0N,MAAM,4EAA4EzN,KAAK1B,MAAM6C,KAAK,yBACjGuM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACLvB,QAAQC,IAAIsB,GAEZ/P,OAAOyF,QAAQsK,GAAM3N,SAAQ,SAAAM,GAC3BA,EAAQ,GAAGuoB,OAAO7oB,SAAQ,SAAC2F,GACzBA,EAAMrF,QAAUA,EAAQ,SAI5B,EAAKhB,MAAMoM,eAAiBiC,EAE5B,IAAIib,EAAa,GAEjBhrB,OAAOyF,QAAQsK,GAAM3N,SAAQ,SAAAM,GACvBsoB,EAAWvgB,eAAe/H,EAAQ,GAAGJ,UACvC0oB,EAAWtoB,EAAQ,GAAGJ,QAAU,IAElC0oB,EAAWtoB,EAAQ,GAAGJ,QAAQM,KAAKF,EAAQ,OAG7C,EAAKhB,MAAMspB,WAAaA,EAExB,EAAKnoB,SAAS,EAAKnB,OAEhB,EAAKlB,MAAM+P,OAAS,EAAK/P,MAAM+P,MAAM0H,QAAU,EAAKzX,MAAM+P,MAAM0H,OAAOvV,UACxE,EAAKhB,MAAMqpB,gBAAkB,EAAKvqB,MAAM+P,MAAM0H,OAAOvV,QAAQrC,eAG/D,EAAK6qB,kBAAkB,EAAKxpB,MAAMqpB,oBAEnCrI,MAAMlU,QAAQC,O,oCAGH2R,GACZle,KAAKR,MAAMqpB,gBAAkB3K,EAAEjf,OAAO5B,MACtC2C,KAAKgpB,kBAAkB9K,EAAEjf,OAAO5B,S,wCAGhBA,GAChBA,EAAQA,EAAMc,cAEd,IAAI8qB,EAAsB,GAEvB5rB,EAAM6rB,WAAW,WAClBprB,OAAOyF,QAAQvD,KAAKR,MAAMoM,gBAAgB1L,SAAQ,SAACM,GAC9CA,EAAQ,GAAGJ,OAAOjC,eAAiBd,EAAMkQ,MAAM,WAAW,KAC3D0b,EAAsBA,EAAoBE,OAAO3oB,EAAQ,GAAGuoB,YAGxDjrB,OAAOC,KAAKiC,KAAKR,MAAMoM,gBAAgB7K,SAAS1D,EAAM+rB,eAC9DH,EAAsBjpB,KAAKR,MAAMoM,eAAevO,EAAM+rB,eAAeL,OAErEjrB,OAAOyF,QAAQvD,KAAKR,MAAMoM,gBAAgB1L,SAAQ,SAACM,GACjDyoB,EAAsBA,EAAoBE,OAAO3oB,EAAQ,GAAGuoB,WAIhEE,EAAsBA,EAAoBnc,MAAK,SAAC5O,EAAG6O,GAAJ,OAAW7O,EAAEmrB,QAAUtc,EAAEsc,QAAW,GAAK,KAExFrpB,KAAKR,MAAMqM,YAAcod,EAEzBjpB,KAAKW,SAASX,KAAKR,OAEnBQ,KAAK1B,MAAMsY,QAAQlW,KAAK,IAAIV,KAAK1B,MAAM6C,KAAK,oBAAoBnB,KAAKR,MAAMqpB,gBAAgB1qB,iB,+BAGnF,IAAD,OACC6F,EAAYhE,KAAK1B,MAAjB0F,QAER,OACE,kBAAC+F,EAAA,EAAD,KACE,kBAACmV,GAAD,MACA,kBAACnV,EAAA,EAAD,KACE,wBAAIpI,MAAO,CAACC,MAAO,UAChBnF,EAAK8D,EAAE,oBADV,IAC+B,kBAAC,GAAD,CAAYoe,QAAQ,oHAEnD,kBAACuI,GAAA,EAAD,CAAQ7d,UAAWrF,EAAQslB,OAAQ5kB,WAAS,EAACrH,MAAO2C,KAAKR,MAAMqpB,gBAAiBjjB,SAAU,SAACsY,GAAD,OAAK,EAAKqL,cAAcrL,KAChH,kBAACiJ,GAAA,EAAD,CAAU9pB,MAAM,OAAOZ,EAAK8D,EAAE,QAC7BzC,OAAOC,KAAKiC,KAAKR,MAAMspB,YAAY9nB,KAAI,SAACZ,GAAD,MACtC,CAAC,kBAACopB,GAAA,EAAD,KAAgB/sB,EAAK8D,EAAE,UAAUH,EAAOjC,gBACzC,kBAACgpB,GAAA,EAAD,CAAU9pB,MAAO,UAAU+C,EAAOjC,eAAgB1B,EAAK8D,EAAE,OAAzD,KAAmE9D,EAAK8D,EAAE,UAAUH,EAAOjC,eAA3F,KACA,EAAKqB,MAAMspB,WAAW1oB,GAAQY,KAAI,SAACR,GAAD,OAChC,kBAAC2mB,GAAA,EAAD,CAAU9pB,MAAOmD,EAAQrC,eAAgBqC,EAAQ,KAAK,EAAKhB,MAAMoM,eAAepL,GAASuoB,OAAOnkB,OAAO,aAI9E,MAA9B5E,KAAKR,MAAMqpB,gBACV,uBAAGxnB,KAAK,mCAAmCuH,MAAM,SAASjH,MAAO,CAACa,gBAAiB,QAASiP,UAAW,OAAQtP,QAAS,OAAQiH,WAAY,SAAU7E,UAAW,IAC/J,yBAAKmY,IAAI,kBAAkB/a,MAAO,CAACO,OAAQ,GAAID,MAAO,GAAIQ,aAAc,KACxE,yBAAKd,MAAO,CAACkI,QAAS,EAAGjI,MAAO,UAAhC,4GAGF,MAGJ,kBAACmI,EAAA,EAAD,KAE8B,MAA1B/J,KAAKR,MAAMqM,YACT,kBAACpD,GAAA,EAAD,CAAMS,WAAS,EAACugB,QAAQ,aAAaziB,QAAS,EAAG/E,MAAM,QACpDjC,KAAKR,MAAMqM,YAAY/K,QAAO,SAAAP,GAAI,OAAgB,MAATA,EAAEmpB,OAAc1oB,KAAI,SAAC8M,GAAD,aAC5D,kBAACrF,GAAA,EAAD,CAAMC,MAAI,EAACpF,UAAWqmB,KAAMnW,GAAI,EAAGC,GAAI,EAAGyD,GAAI,EAAGvO,GAAI,GACrDihB,UAAU,OAAOvoB,KAAMyM,EAAW4b,IAAKzqB,OAAO,SAC9C0C,MAAO,CAACQ,QAAS,OAAQyH,eAAgB,WACvC,kBAACb,GAAA,EAAD,CAAMrE,WAAS,EAAC2E,UAAWrF,EAAQE,KAAMvC,MAAO,CAACM,MAAO,SACtD,kBAAC+G,GAAA,EAAD,KACE,kBAAC6gB,GAAA,EAAD,CAAY1gB,QAAM,EAACnF,QAAS,CAAC2a,QAAS3a,EAAQ8lB,YAC5CjY,OAAQ,kBAACkY,GAAA,EAAD,CAAQrN,IAAG,4FAAuF5O,EAAWtN,QAAQrC,cAA1G,UACnBkV,MAAO,kBAACvQ,EAAA,EAAD,CAAYqG,QAAM,EAACjG,QAAQ,KAAKI,UAAU,MAC9CwK,EAAWA,YAEdkc,UACElc,EAAWmc,sBACTnc,EAAWxN,KAEX,OAGN,kBAAC4pB,GAAA,EAAD,CACE7gB,UAAWrF,EAAQmmB,MACnBC,MAAQtc,EAAWuc,SAAU,UAACvc,EAAWuc,OAAOpsB,MAAK,SAAAmc,GAAG,MAAiB,UAAbA,EAAG,SAAuBtM,EAAWuc,OAAOvc,EAAWuc,OAAOzlB,OAAO,UAApG,eAAyG8kB,MAAa,GACnJrW,MAAOvF,EAAWuF,OACjBvF,EAAWwc,OACV,kBAACX,GAAA,EAAD,CAAMC,UAAU,OAAOvoB,KAAK,KAC1B,kBAACkpB,EAAA,EAAD,CACElhB,UAAWrF,EAAQwmB,WACnBtkB,MAAO,WAAW4H,EAAWwc,OAC7B1oB,MAAM,UACN6oB,WAAS,EACTnpB,QAAS,SAACuE,QAId,MAGJ,kBAAC6kB,GAAA,EAAD,KACG5c,EAAW6c,SACV,kBAAC7oB,EAAA,EAAD,CAAU8oB,OAAK,EAAC3T,gBAAc,EAAC7N,WAAW,cACxC,kBAACpH,EAAA,EAAD,CAAcL,MAAO,CAACwF,SAAU,KAAK,kBAAC,IAAD,CAAiBvH,KAAMyU,OAC5D,kBAACzR,EAAA,EAAD,CAAcC,QAAQ,YAGxB,kBAACf,EAAA,EAAD,CAAU8oB,OAAK,EAAC3T,gBAAc,EAAC7N,WAAW,cACxC,kBAACpH,EAAA,EAAD,CAAcL,MAAO,CAACwF,SAAU,KAAK,kBAAC,IAAD,CAAiBvH,KAAMirB,OAC5D,kBAACjoB,EAAA,EAAD,CAAcC,SAAUiL,EAAWgd,qBAAuBhd,EAAWgd,qBAAqB,MAAQ,IAAMhd,EAAWid,wBAIvH,kBAACjpB,EAAA,EAAD,CAAU8oB,OAAK,EAAC3T,gBAAc,EAAC7N,WAAW,cACxC,kBAACpH,EAAA,EAAD,CAAcL,MAAO,CAACwF,SAAU,KAAK,kBAAC,IAAD,CAAiBvH,KAAMorB,OAC5D,kBAACpoB,EAAA,EAAD,CAAcC,QAASpG,EAAK8D,EAAE,WAAW/C,KAA4B,IAArBsQ,EAAWub,SAAgBjsB,OAAO,OAAOe,eAAe,IAAI1B,EAAK8D,EAAE,cAAe,CAAC+T,KAAM9W,KAAO+W,KAAKzG,EAAWub,SAAS7U,WAAW,IAAIhX,KAA4B,IAArBsQ,EAAWub,SAAgBjsB,OAAO,SAAS,OAAOI,KAA4B,IAArBsQ,EAAWub,SAAgBjsB,OAAO,QAG5R,kBAAC0E,EAAA,EAAD,CAAU8oB,OAAK,EAAC3T,gBAAc,EAAC7N,WAAW,cACxC,kBAACpH,EAAA,EAAD,CAAcL,MAAO,CAACwF,SAAU,KAAK,kBAAC,IAAD,CAAiBvH,KAAMqrB,OAC5D,kBAACroB,EAAA,EAAD,CAAcC,QAASpG,EAAK8D,EAAE,WAAW/C,KAAoD,IAA7CsQ,EAAWod,iCAAwC9tB,OAAO,OAAOe,eAAe,IAAI1B,EAAK8D,EAAE,cAAe,CAAC+T,KAAM9W,KAAO+W,KAAKzG,EAAWod,iCAAiC1W,WAAW,IAAIhX,KAAoD,IAA7CsQ,EAAWod,iCAAwC9tB,OAAO,SAAS,OAAOI,KAAoD,IAA7CsQ,EAAWod,iCAAwC9tB,OAAO,gBA4DxY,W,GArOgByJ,aA6OfC,iBA3QC,SAACxI,GAAD,MAAY,CAC1B4F,KAAM,CACJkN,SAAU,KAEZ+Y,MAAO,CACLjoB,OAAQ,KAEVipB,QAAS,CACPjpB,OAAQ,GACRO,aAAc,GAEhB2oB,cAAe,CACb3oB,aAAc,GAEhB4oB,YAAa,CACX5oB,aAAc,EACdD,gBAAiB,SAEnBgoB,WAAY,CACVzX,OAAQ,GAEVuW,OAAQ,CACNhf,SAAU,SACVvD,aAAc,QAEhB+iB,WAAY,CACV3kB,SAAU,aAiPC2B,CAAsB8hB,I,oBCjP/B0C,G,2MACJ9rB,MAAQ,CACN+rB,YAAa,GACbC,QAAS,GACTxK,SAAU,KACVnV,YAAa,GACbkY,SAAS,G,kFAGQhkB,M,0CAGE,IAAD,OAClB0N,MAAM,8EAA8EzN,KAAK1B,MAAM6C,KAAK,qBACnGuM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACLvB,QAAQC,IAAIsB,GAEZ,EAAKlN,SAAS,CACZ6qB,QAAS3d,EAAK2d,QACdD,YAAa1d,EAAK4d,SAClBzK,SAAUljB,OAAOC,KAAK8P,EAAK4d,UAAU,KAGpC,EAAKntB,MAAM+P,OAAS,EAAK/P,MAAM+P,MAAM0H,QAAU,EAAKzX,MAAM+P,MAAM0H,OAAOvV,SACrE,EAAKhB,MAAM+rB,aAAwF,MAAzE,EAAK/rB,MAAM+rB,YAAY,EAAKjtB,MAAM+P,MAAM0H,OAAOvV,QAAQ4oB,iBAClF,EAAK5pB,MAAMwhB,SAAW,EAAK1iB,MAAM+P,MAAM0H,OAAOvV,QAAQ4oB,eAI1D,EAAKG,cAAc,CAACtqB,OAAQ,CAAC5B,MAAO,EAAKmC,MAAMwhB,iB,gCAQzC0K,EAAgBC,EAAQC,GAAU,IAAD,OACzC,GAA0B,MAAvB5rB,KAAKR,MAAMwhB,UAAoBhhB,KAAKR,MAAMwhB,UAAY0K,EAAzD,CAEa,GAAVC,IACD3rB,KAAKR,MAAMqM,YAAY6f,GAAkB,GACzC1rB,KAAKR,MAAMukB,SAAU,EACrB/jB,KAAKW,SAASX,KAAKR,QAGrB,IAAIolB,EAAW,GAEf5kB,KAAKR,MAAM+rB,YAAYvrB,KAAKR,MAAMwhB,UAAU9gB,SAAQ,SAAC2rB,GACnDjH,EAASlkB,KAAK+M,MAAM,qDAAqDke,EAAO,SAASC,EAAQ,cAAcC,EAAU,mBACxHne,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACLvB,QAAQC,IAAIsB,GAEZA,EAAKwR,KAAOxR,EAAKwR,KAAKve,QAAO,SAACgN,GAC5B,QAAsB,SAAnBA,EAAWge,SAAmB,EAAKtsB,MAAMgsB,QAAQzqB,SAAS+M,EAAWie,YAM1Ezf,QAAQC,IAAIsB,EAAKwR,MAEjBxR,EAAKwR,KAAKnf,SAAQ,SAAA4N,GAChB,IAAIke,EAAO,EAERle,EAAWme,cACZne,EAAWme,aAAa/rB,SAAQ,SAAAgsB,GACL,cAAtBA,EAAYC,SACbH,GAAQ,MAKdle,EAAWse,YAAcJ,EAEzB,IAAI1B,EAASxc,EAAWwF,YAAYjF,MAAM,qDAE7B,MAAVic,IACDA,EAASA,EAAO,GAAG/c,MAAM,KAAK,GAAG8e,QAGnCve,EAAWwc,OAASA,KAGtBzc,EAAKwR,KAAKnf,SAAQ,SAAC4N,GACjB,EAAKtO,MAAMqM,YAAY6f,GAAgBhrB,KAAKoN,SAG/C0S,OAAM,SAAC8L,GACNhgB,QAAQC,IAAI+f,UAIhBC,QAAQC,IAAI5H,GAAUlX,MAAK,WACzB,EAAK/M,SAAS,EAAKnB,QAEnBmsB,GAAQ,IAEI,IACV,EAAKc,UAAUf,EAAgBC,EAAQC,GAEvC,EAAKjrB,SAAS,CAACojB,SAAS,U,oCAKhB7F,GACZle,KAAKR,MAAMwhB,SAAW9C,EAAEjf,OAAO5B,MAC/B2C,KAAKW,SAAS,CAACqgB,SAAU9C,EAAEjf,OAAO5B,QAClC2C,KAAK1B,MAAMsY,QAAQlW,KAAK,IAAIV,KAAK1B,MAAM6C,KAAK,eAAenB,KAAKR,MAAMwhB,SAAS7iB,eAI/E6B,KAAKysB,UAAUvO,EAAEjf,OAAO5B,MAFX,EACC,M,+BAIP,IAAD,OACE2G,EAAYhE,KAAK1B,MAAjB0F,QAER,OACE,kBAAC+F,EAAA,EAAD,KACE,kBAACmV,GAAD,MAEA,kBAACnV,EAAA,EAAD,CAAKsS,cAAY,GACf,6BACE,wBAAI1a,MAAO,CAACC,MAAO,UAAnB,kCACiC,kBAAC,GAAD,CAAY+c,QAAQ,2FAGvD,kBAACuI,GAAA,EAAD,CAAQ7d,UAAWrF,EAAQslB,OAAQ5kB,WAAS,EAACrH,MAAO2C,KAAKR,MAAMwhB,SAAUpb,SAAU,SAACsY,GAAD,OAAK,EAAKqL,cAAcrL,KACxGpgB,OAAOC,KAAKiC,KAAKR,MAAM+rB,aAAavqB,KAAI,SAACR,GAAD,OACvC,kBAAC2mB,GAAA,EAAD,CAAU9pB,MAAOmD,GAAUksB,GAAclsB,GAASmsB,aAIxD,kBAAC5iB,EAAA,EAAD,KACE,kBAACtB,GAAA,EAAD,CAAMS,WAAS,EAACugB,QAAQ,aAAaziB,QAAS,EAAG/E,MAAM,QAEJ,MAA/CjC,KAAKR,MAAMqM,YAAY7L,KAAKR,MAAMwhB,UAChChhB,KAAKR,MAAMqM,YAAY7L,KAAKR,MAAMwhB,UAAUhgB,KAAI,SAAC8M,GAAD,OAC9C,kBAACrF,GAAA,EAAD,CAAMC,MAAI,EAACpF,UAAWqmB,KAAMnW,GAAI,EAAGC,GAAI,EAAGyD,GAAI,EAAGvO,GAAI,GACrDihB,UAAU,OAAOvoB,KAAM,sCAAsCyM,EAAW1M,GAAInC,OAAO,SACnF0C,MAAO,CAACQ,QAAS,OAAQyH,eAAgB,WACvC,kBAACb,GAAA,EAAD,CAAMrE,WAAS,EAAC2E,UAAWrF,EAAQE,KAAMvC,MAAO,CAACM,MAAO,SACtD,kBAAC+G,GAAA,EAAD,KACE,kBAAC6gB,GAAA,EAAD,CACEhY,OAAQ,kBAACkY,GAAA,EAAD,CAAQrN,IAAK5O,EAAW8e,QAAQ/a,SACxCwB,MAAOvF,EAAW8e,QAAQC,cAE5B,kBAAC3C,GAAA,EAAD,CACE7gB,UAAWrF,EAAQmmB,MACnBC,MAAOtc,EAAW+L,KAAKiT,cACvBzZ,MAAOvF,EAAWuF,OACjBvF,EAAWwc,OACV,kBAACX,GAAA,EAAD,CAAMC,UAAU,OAAOvoB,KAAK,KAC1B,kBAACkpB,EAAA,EAAD,CACElhB,UAAWrF,EAAQwmB,WACnBtkB,MAAO,WAAW4H,EAAWwc,OAC7B1oB,MAAM,YACN6oB,WAAS,EACTnpB,QAAS,SAACuE,QAId,MAGJ,kBAAC6kB,GAAA,EAAD,KACE,kBAAC5nB,EAAA,EAAD,CAAYqG,QAAM,EAACkT,cAAY,EAACnZ,QAAQ,KAAKI,UAAU,MACpDwK,EAAWuF,OAEd,kBAACvQ,EAAA,EAAD,CAAYI,QAAQ,QAAQtB,MAAM,gBAAgB0B,UAAU,KACzDwK,EAAWxN,MAEd,kBAACwC,EAAA,EAAD,CAAYI,QAAQ,QAAQtB,MAAM,iBAAlC,qBACqBkM,EAAWse,YADhC,OAGA,kBAACriB,EAAA,EAAD,CAAK5H,QAAQ,OAAOiH,WAAW,UAC7B,kBAACW,EAAA,EAAD,CAAK9H,MAAM,OAAOwa,GAAI,GACpB,kBAACsQ,GAAA,EAAD,CAAgB7pB,QAAQ,cACxBc,QAAS,CACPE,KAAMF,EAAQmnB,QACd6B,gBAAiBlf,EAAWmf,QAAQ,IAAM,IAAQ,EAAMjpB,EAAQqnB,YAAcrnB,EAAQonB,eAExF/tB,MAAOmO,KAAKqE,IAAI/B,EAAWmf,QAAQ,IAAM,GAAK,IAAO,QAEvD,kBAACljB,EAAA,EAAD,CAAK5C,SAAU,IACb,kBAACrE,EAAA,EAAD,CAAYI,QAAQ,QAAQtB,MAAM,iBAAlC,UAAsD,KAAKkM,EAAWmf,QAAQ,KAAOpZ,QAAQ,cAS3G,OAIP7T,KAAKR,MAAMukB,QACV,yBAAKnb,MAAM,WAEX,U,GA7Me/B,aAoNVC,iBAhPC,SAACxI,GAAD,MAAY,CAC1B4F,KAAM,CACJkN,SAAU,KAEZ+Y,MAAO,CACLjoB,OAAQ,KAEVipB,QAAS,CACPjpB,OAAQ,GACRO,aAAc,GAEhB2oB,cAAe,CACb3oB,aAAc,EACdD,gBAAiB,QAEnB6oB,YAAa,CACX5oB,aAAc,EACdD,gBAAiB,SAEnBgoB,WAAY,CACVzX,OAAQ,GAEVuW,OAAQ,CACNhf,SAAU,SACVvD,aAAc,WAwNHD,CAAsBwkB,ICtN/B4B,G,2MACJ1tB,MAAQ,CACN2tB,MAAO,KACPC,cAAe,GACfC,iBAAkB,MAClBC,eAAgB,M,kFAGCnhB,M,0CAIE,IAAD,OAClBsB,MAAM,4EAA4EzN,KAAK1B,MAAM6C,KAAK,qBACjGuM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACLvB,QAAQC,IAAIsB,GAEZ,IAAIyf,EAAiB,EAErBxvB,OAAOC,KAAK8P,GAAM3N,SAAQ,SAAAsP,GACxB8d,GAAkBzf,EAAK2B,GAAU5K,UAGnC,EAAKjE,SAAS,CACZwsB,MAAOtf,EACPyf,eAAgBA,IAGf,EAAKhvB,MAAM+P,OAAS,EAAK/P,MAAM+P,MAAM0H,QAAU,EAAKzX,MAAM+P,MAAM0H,OAAOwX,MACrE,EAAK/tB,MAAM2tB,OAA2D,MAAlD,EAAK3tB,MAAM2tB,MAAM,EAAK7uB,MAAM+P,MAAM0H,OAAOwX,QAC9D,EAAK/tB,MAAM6tB,iBAAmB,EAAK/uB,MAAM+P,MAAM0H,OAAOwX,MAI1D,EAAKC,eAAe,CAACvuB,OAAQ,CAAC5B,MAAO,EAAKmC,MAAM6tB,uBAEjD7M,MAAMlU,QAAQC,O,qCAGF2R,GACble,KAAKR,MAAM6tB,iBAAmBnP,EAAEjf,OAAO5B,MACvC2C,KAAKytB,YAAYvP,EAAEjf,OAAO5B,S,kCAGhBA,GAAO,IAAD,OACZqwB,EAAgB,GAER,OAATrwB,EACDS,OAAOC,KAAKiC,KAAKR,MAAM2tB,OAAOjtB,SAAQ,SAAAsP,GACpC,EAAKhQ,MAAM2tB,MAAM3d,GAAUtP,SAAQ,SAACytB,GAClCD,EAAchtB,KAAKitB,SAIvBD,EAAgB1tB,KAAKR,MAAM2tB,MAAM9vB,GAGnCqwB,EAAgBA,EAAc5gB,MAAK,SAAC5O,EAAG6O,GAAJ,OAAW7O,EAAE0vB,WAAa7gB,EAAE6gB,WAAc,GAAK,KAElF5tB,KAAKR,MAAM4tB,cAAgBM,EAE3B1tB,KAAKW,SAASX,KAAKR,OAEnBQ,KAAK1B,MAAMsY,QAAQlW,KAAK,IAAIV,KAAK1B,MAAM6C,KAAK,UAAUnB,KAAKR,MAAM6tB,oB,+BAGzD,IAAD,OACCrpB,EAAYhE,KAAK1B,MAAjB0F,QAER,OACE,kBAAC+F,EAAA,EAAD,KACE,kBAACmV,GAAD,MACA,kBAACnV,EAAA,EAAD,KACE,wBAAIpI,MAAO,CAACC,MAAO,UAChB,wBADH,IAC4B,kBAAC,GAAD,CAAY+c,QAAQ,kLAE/C3e,KAAKR,MAAM2tB,MACV,kBAACjG,GAAA,EAAD,CAAQ7d,UAAWrF,EAAQslB,OAAQ5kB,WAAS,EAACkB,SAAU,SAACsY,GAAD,OAAK,EAAKsP,eAAetP,IAAI7gB,MAAO2C,KAAKR,MAAM6tB,kBACpG,kBAAClG,GAAA,EAAD,CAAU9pB,MAAM,OAAOZ,EAAK8D,EAAE,OAAS,KAAKP,KAAKR,MAAM8tB,eAAe,KACrExvB,OAAOC,KAAKiC,KAAKR,MAAM2tB,OAAOnsB,KAAI,SAACwO,GAAD,OACjC,kBAAC2X,GAAA,EAAD,CAAU9pB,MAAOmS,GAAW/S,EAAKmB,iBAAiB4R,GAAY,KAAK,EAAKhQ,MAAM2tB,MAAM3d,GAAU5K,OAAO,SAIzG,MAGJ,kBAACmF,EAAA,EAAD,KACE,kBAACtB,GAAA,EAAD,CAAMS,WAAS,EAACugB,QAAQ,aAAaziB,QAAS,EAAG/E,MAAM,QAEvB,MAA5BjC,KAAKR,MAAM4tB,cACTptB,KAAKR,MAAM4tB,cAAcxiB,MAAM,EAAE,IAAI5J,KAAI,SAAC2sB,GAAD,OACvC,kBAACllB,GAAA,EAAD,CAAMC,MAAI,EAACpF,UAAWqmB,KAAMnW,GAAI,EAAGC,GAAI,EAAGyD,GAAI,EAAGvO,GAAI,GACrDihB,UAAU,OAAOvoB,KAAMssB,EAAKjE,IAAKzqB,OAAO,SACxC0C,MAAO,CAACQ,QAAS,OAAQyH,eAAgB,WACvC,kBAACb,GAAA,EAAD,CAAMM,UAAWrF,EAAQE,KAAMvC,MAAO,CAACM,MAAO,SAC5C,kBAAC+G,GAAA,EAAD,KACE,kBAACkhB,GAAA,EAAD,CACE7gB,UAAWrF,EAAQmmB,MACnBC,MAAOuD,EAAKE,eAAiB,GAC7Bxa,MAAOsa,EAAKta,OACV,kBAACtJ,EAAA,EAAD,CAAKpI,MAAO,CAAC0C,SAAU,WAAYpC,MAAO,OAAQC,OAAQ,SACxD,kBAACqoB,EAAA,EAAD,CACElhB,UAAWrF,EAAQwmB,WACnBtkB,MAAOynB,EAAKC,WAAa,aAIjC,kBAAClD,GAAA,EAAD,KACE,kBAAC5nB,EAAA,EAAD,CAAYqG,QAAM,EAACkT,cAAY,EAACnZ,QAAQ,KAAKI,UAAU,MACpDqqB,EAAKta,OAER,kBAACvQ,EAAA,EAAD,CAAYI,QAAQ,QAAQtB,MAAM,iBAC/B+rB,EAAKG,kBAER,kBAAChrB,EAAA,EAAD,CAAYI,QAAQ,QAAQtB,MAAM,iBAAlC,WACW+rB,EAAKI,qBAQ1B,Y,GA7HIlnB,aAsILC,iBApKC,SAACxI,GAAD,MAAY,CAC1B4F,KAAM,CACJkN,SAAU,KAEZ+Y,MAAO,CACLjoB,OAAQ,KAEVipB,QAAS,CACPjpB,OAAQ,GACRO,aAAc,GAEhB2oB,cAAe,CACb3oB,aAAc,GAEhB4oB,YAAa,CACX5oB,aAAc,EACdD,gBAAiB,SAEnBgoB,WAAY,CACVzX,OAAQ,EACR1O,SAAU,WACVkO,MAAO,EACPD,OAAQ,GAEVgX,OAAQ,CACNhf,SAAU,SACVvD,aAAc,WA0IHD,CAAsBomB,I,UCpK/B1P,GAAYC,EAAQ,KAsBpBuQ,G,2MACJxuB,MAAQ,CACNqY,mBAAmB,EACnB8F,kBAAmB,KACnBxd,OAAQ,KACRmV,QAAS,GACTsI,SAAU,GACVC,OAAQ,GACRxO,GAAI,KACJ4e,YAAa,CAAC,KAAM,MACpBC,eAAgB,CAAC,KAAM,O,kFAGN/hB,GACbnM,KAAKR,MAAM6P,IACbrP,KAAKmuB,Y,0CAKPnuB,KAAKmuB,Y,2BAGF5T,EAAG6T,EAAMC,GACR9T,GAAKA,EAAI6T,GAAQC,EAArB,IACI9tB,EAAI,GAAK,EAAI,SAAWiL,KAAK8iB,IAAI/T,IAEjCgU,EADG,SAAW/iB,KAAKoF,KAAM2J,EAAIA,EAAI,GACtBha,GAAK,SAAWA,GAAkBA,GAAK,SAAWA,GAAqB,SAAJA,EAAX,WAAjC,WAEtC,OADIga,EAAI,IAAIgU,EAAO,EAAIA,GAChBA,I,qCAGMlM,EAAIC,EAAIkM,EAAMC,EAAIC,GAC/B,IAAIC,EAAWtM,EAAGhT,GAAKiT,EAAGjT,GACtBuf,EAAY,SAAAvM,EAAGqM,MAAS,GAAZ,SAAgBpM,EAAGoM,MAAS,GAExCG,EAAQrjB,KAAK2W,KAAaqM,EAAOA,EAD1B,EACkCI,GAC7C,OAAO5uB,KAAK8uB,KAAKH,EAAWE,EAAOJ,EAAIC,K,4CAGnBrM,EAAIC,EAAIkM,EAAMC,EAAIC,GACtC,IAAIK,EAAS/uB,KAAKkuB,eAAe7L,EAAIC,EAAIkM,EAAMC,EAAIC,GAC/CM,EAAShvB,KAAKkuB,eAAe5L,EAAID,EAAImM,EAAMC,EAAIC,GAE/CO,EAAQF,EAAOC,EAUnB,OARY,GAATC,IACDA,EAAQ,GAGV3iB,QAAQC,IAAIwiB,GACZziB,QAAQC,IAAIyiB,GACZ1iB,QAAQC,IAAI0iB,GAEL,CAACF,EAAOE,EAAOD,EAAOC,K,mCAGlBC,EAAW1mB,GAAQ,IAAD,OAC7B,GAAIA,EAAJ,CAEA,IAAIgE,EAAkB,GAClBC,EAAgB,GAEY,MAA7BzM,KAAK1B,MAAMsN,gBAAmD,MAAzB5L,KAAK1B,MAAM4O,aACjD1E,EAAO2E,KAAO,GACd3E,EAAO/J,QAAU,GAEd+J,EAAO4E,gBACR5E,EAAO4E,eAAelN,SAAQ,SAAAmN,GAC5B,IAAIC,EAAaD,EAAKE,MAAM,KAAK,GAC7BC,EAASH,EAAKE,MAAM,KAAK,GAE7BE,MAAM,4EAA4E,EAAKnP,MAAM6C,KAAK,IAAImM,EAAW,iBAChHI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACFA,EAAKvE,QAAQA,QAAQkE,KACtBhF,EAAO2E,KAAKG,GAAc,CAACH,KAAMU,EAAKvE,QAAQA,QAAQkE,GAAQL,KAAM/C,MAAOyD,EAAKvE,QAAQA,QAAQkE,GAAQpD,OACxG,EAAKzJ,SAAS,EAAKnB,UAEpB,GAEA1B,OAAOC,KAAK,EAAKO,MAAMsN,gBAAgB7K,SAASuM,IACjDxP,OAAO+C,OAAO,EAAKvC,MAAMsN,eAAe0B,IAAapN,SAAQ,SAAA4N,GAC3D,GAAGA,EAAWxE,SAAWxL,OAAOC,KAAK+P,EAAWC,SAAShN,SAASyM,GAAQ,CACxE,IAAIQ,EAAuBF,EAAWC,QAAQP,GAE1CS,EAAkB,GAGtB,GAFAnQ,OAAO8O,OAAOqB,EAAiBH,GAE5BA,EAAWxE,QAAQ0E,GAAsB,CAC1CC,EAAe,QAAcH,EAAWxE,QAAQ0E,GAAsBb,KACtEc,EAAe,OAAaX,EAE5B,IAAIY,EAAY,EAAK5P,MAAMmB,QAAQxB,MAAK,SAAAkQ,GAAO,OAAIA,EAAQ/M,IAAMkM,KAQjE,GANGY,EAAUnL,KACXkL,EAAe,MAAY,OAE3BA,EAAe,MAAYC,EAAU1O,OAGnCsO,EAAWxN,KAAKS,SAAS,iBAAiB,CAC5C,IAAIqN,EAAQ5B,EAAgBvO,MAAK,SAAAkQ,GAAO,OACtCA,EAAQ7N,MAAQ2N,EAAgB3N,MAChC6N,EAAQ/M,IAAM6M,EAAgB7M,IACb,MAAhB+M,EAAQd,MAAgBc,EAAQd,MAAQY,EAAgBZ,QAGvDe,EAGgB,MAAfA,EAAM5O,OAA6C,MAA5ByO,EAAe,QACvCG,EAAM5O,MAAQyO,EAAe,OAH/BzB,EAAgB9L,KAAKuN,GAQtBH,EAAWrP,SACZqP,EAAWrP,QAAQyB,SAAQ,SAAAmO,GACzB,GAAGA,EAAMC,aAAa/F,eAAeyF,GAAsB,CACzD,IAAIO,EAAa,GACjBA,EAAWC,eAAiBV,EAAWxN,KACvCiO,EAAWE,eAAiBX,EAAWY,KACvCH,EAAWD,aAAeD,EAAMC,aAChCC,EAAWI,aAAeb,EAAW1M,GAClC8M,EAAUnL,OACXwL,EAAWxL,MAAO,GAEpBwL,EAAWK,mBAAqB,GAChC9Q,OAAOC,KAAKsQ,EAAMC,cAAcpO,SAAQ,SAAAyO,GACtC,IAAIE,EAAoB/Q,OAAOyF,QAAQuK,EAAWC,SAAS9P,MAAK,SAAAoF,GAAC,OAAIA,EAAE,IAAMsL,KAC7E,GAAGE,EAAkB,CACnB,IAAIC,EAA4B,EAAKxQ,MAAM4O,WAAX,QAAiCI,EAAW,IAAIuB,EAAkB,IAClGN,EAAWK,mBAAmBD,GAAgB,EAAKrQ,MAAM4O,WAAX,QAAiC4B,GAC5ED,EAAkB,IAAMb,GACzBO,EAAWQ,SAAWR,EAAWK,mBAAmBD,GACpDJ,EAAWS,WAAaX,EAAMC,aAAaK,IAE3CJ,EAAWU,QAAUZ,EAAMC,aAAaK,OAI3CN,EAAMa,QAAUlB,IACjBO,EAAWY,KAAM,GAEqC,GAArDrR,OAAOC,KAAKwQ,EAAWK,oBAAoBhK,QAAe2J,EAAWQ,WACjD,GAAvBR,EAAWU,UAA2C,GAA1BV,EAAWS,YACrCvC,EAAc/L,KAAK6N,gBAazC/F,EAAOgE,gBAAkBA,EACzBhE,EAAOiE,cAAgBA,EAEvBzM,KAAKR,MAAMyuB,YAAYiB,GAAa1mB,EAEpCxI,KAAKmvB,iB,oCAGO,IAAD,OACRnvB,KAAKR,MAAMyuB,YAAY,IAAMjuB,KAAKR,MAAMyuB,YAAY,IACrDjuB,KAAKR,MAAMyuB,YAAY,GAAG5e,IAAMrP,KAAKR,MAAMyuB,YAAY,GAAG5e,IAC1DrP,KAAKR,MAAMyuB,YAAY/tB,SAAQ,SAACsI,EAAQ0mB,GACtC,IAAIE,EAAY,EACA,GAAbF,IAAiBE,EAAY,GAEhC5mB,EAAO6mB,QAAU,EAEuB,MAArC,EAAK7vB,MAAMyuB,YAAYmB,IACxB5mB,EAAOiE,cAAcvM,SAAQ,SAACmO,GACzBA,EAAMU,SAASgB,MAAQ,EAAKvQ,MAAMyuB,YAAYmB,GAAWrf,MACvD1B,EAAMc,MACP3G,EAAO6mB,SAAW,SAO5BrvB,KAAKR,MAAM0uB,eAAiBluB,KAAKsvB,sBAC/BtvB,KAAKR,MAAMyuB,YAAY,GACvBjuB,KAAKR,MAAMyuB,YAAY,GACvBjuB,KAAKR,MAAM6P,GAAGmf,KACdxuB,KAAKR,MAAM6P,GAAGof,GACdzuB,KAAKR,MAAM6P,GAAGqf,QAGhB1uB,KAAKR,MAAM0uB,eAAiB,CAAC,KAAM,MAGrCluB,KAAKW,SAAS,CACZstB,YAAajuB,KAAKR,MAAMyuB,YACxBC,eAAgBluB,KAAKR,MAAM0uB,mB,sCAIf7lB,EAAYjH,GAC1B,IAAIkH,EAAO,EASX,OAPGD,EAAWE,eAAe,eAEhBrJ,IADXoJ,EAAOD,EAAU,MAAUA,EAAU,MAAUjH,OAE7CkH,EAAO,GAIJjB,GAAqBrH,KAAK1B,MAAM6C,KAAMkH,EAAU,MAAUjH,IAAK,KAAKkH,I,gCAGlE,IAAD,OACLtI,KAAK1B,MAAM4O,YAAclN,KAAK1B,MAAM4O,WAAWoI,SAAWxX,OAAOC,KAAKiC,KAAK1B,MAAM4O,WAAWoI,SAAS1Q,OAAS,GAC/G6I,MAAM,4EAA4EzN,KAAK1B,MAAM6C,KAAK,gBACjGuM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACL,EAAKlN,SAAS,CAAC0O,GAAIxB,OAEpB2S,MAAMlU,QAAQC,O,sCAIHlE,EAAYjH,GAC1B,IAAIkH,EAAO,EASX,OAPGD,EAAWE,eAAe,eAEhBrJ,IADXoJ,EAAOD,EAAU,MAAUA,EAAU,MAAUjH,OAE7CkH,EAAO,GAIJjB,GAAqBrH,KAAK1B,MAAM6C,KAAMkH,EAAU,MAAUjH,IAAK,KAAKkH,I,kCAGjEhI,GACV,OAAOA,EAAKnC,cAAcoJ,QAAQ,KAAM,M,uCAGzByJ,GACf,IAAIC,EAAQD,EAAQzD,MAAM,KAC1B,OAAO0D,EAAMA,EAAMrM,OAAO,K,0CAGRtE,GAClB,OAAOA,EAAKoW,UAAU,QAAQnP,QAAQ,KAAM,KAAKA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,WAAWA,QAAQoP,OAAO,kBAAmB,IAAIpP,QAAQ,IAAK,M,6BAG9I2W,GAAG,IAAD,OAGP,GAFAle,KAAKR,MAAMqe,OAASK,EAEW,GAA5Ble,KAAKR,MAAMqe,OAAOjZ,OACnB5E,KAAKR,MAAMoe,SAAW5d,KAAKR,MAAM8V,YAC5B,CACL,IAAI6I,EAASX,GAAUY,GAAGpe,KAAKR,MAAMqe,OAAQ/f,OAAO+C,OAAOb,KAAKR,MAAM8V,SAAU,CAC9EvX,KAAM,CACJ,OACA,YACA,MACA,UACA,QACA,aAEFsgB,WAAY,IACZC,MAAO,GACPC,QAX8E,SAWtErgB,GACN,OAAOsN,KAAKE,IACVxN,EAAE,GAAGA,EAAE,GAAGkM,OAAO,IACjBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,IAAI,IACpBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,IAAI,IACpBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,KAAK,IACrBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,KAAK,IACrBlM,EAAE,GAAGA,EAAE,GAAGkM,MAAM,IAAI,QAG1BpK,KAAKR,MAAMoe,SAAW,GACtB9f,OAAO+C,OAAOsd,GAAQje,SAAQ,SAACse,GACX,MAAdA,EAAG,KACL,EAAKhf,MAAMoe,SAASld,KAAK8d,EAAG,QAIlCxe,KAAKW,SAASX,KAAKR,S,+BAGX,IAAD,OACCjB,EAAUyB,KAAK1B,MAAfC,MACAyF,EAAYhE,KAAK1B,MAAjB0F,QAER,OACE,kBAAC+F,EAAA,EAAD,KACG/J,KAAK1B,MAAM4O,YAAclN,KAAKR,MAAM6P,GACnC,oCACE,kBAAC5G,GAAA,EAAD,CAAMS,WAAS,EAACugB,QAAQ,gBACrBzpB,KAAKR,MAAMyuB,YAAYjtB,KAAI,SAACwH,EAAQnF,GAAT,OAC1B,kBAACoF,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGuO,GAAI,EAAGzD,GAAI,EAAGD,GAAI,EAAG+b,GAAI,EAAGlmB,UAAWrF,EAAQwrB,iBAC/D,kBAACC,GAAA,EAAD,CACEpyB,MAAOmL,EACP5C,SAAU,SAACC,EAAO6pB,GAChB,EAAKC,aAAatsB,EAAGqsB,IAEvBhrB,WAAS,EACTkrB,QAAS,EAAKtxB,MAAM4O,WAAWoI,QAC/Bua,eAAgB,SAACC,GAAD,OAAYA,EAAO9lB,IAAK8lB,EAAO9lB,IAAI,IAAI8lB,EAAOxvB,KAAOwvB,EAAOxvB,MAC5EyvB,aAAc,SAACD,GAAD,OACZ,yBAAKnuB,MAAO,CAAC,kBAAqB,OAAQ,qBAAwB,OAAQQ,QAAS,SACjF,yBAAKR,MAAO,CACVS,eAAgB,QAChBH,MAAO,GACPC,OAAQ,GACRQ,YAAa,EACbC,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C,EAAK9G,MAAM6C,KAAxD,oBAAwE,EAAKsJ,gBAAgBqlB,EAAQ,GAArG,YAEhBA,EAAO9lB,IAAK8lB,EAAO9lB,IAAI,IAAI8lB,EAAOxvB,KAAOwvB,EAAOxvB,KAChDwvB,EAAOhmB,aAAe,KAAKgmB,EAAOhmB,aAAa,IAAM,OAE1DkmB,YAAa,SAACja,GAAD,OAAY,kBAACvP,GAAA,EAAD,iBAAeuP,EAAf,CAAuB7P,MAAO,WAAW7C,EAAE,GAAIH,QAAQ,iBAEjFsF,EACC,kBAAC2T,GAAA,EAAD,CAAOxa,MAAO,CAAC4C,UAAW,IACxB,kBAACwF,EAAA,EAAD,CAAKsM,EAAG,EAAGlN,QAAM,GACf,kBAACY,EAAA,EAAD,CAAK5H,QAAQ,OAAOR,MAAO,CAACuR,aAAc,UAAW/J,QAAM,GACxDX,EAAOwB,IACN,kBAAClH,EAAA,EAAD,CAAYmS,MAAM,QAAQ5L,UAAWrF,EAAQ8N,UAAW3I,QAAM,EAACvH,MAAM,YAAYsB,QAAQ,MAAMsF,EAAOwB,IAAtG,QAEA,KAEF,kBAAClH,EAAA,EAAD,CAAYmS,MAAM,OAAO5L,UAAWrF,EAAQ8N,UAAW3I,QAAM,EAACjG,QAAQ,MAAMsF,EAAOlI,OAErF,kBAACwC,EAAA,EAAD,CAAYmS,MAAM,SAAS9L,QAAM,EAACjG,QAAQ,KAAKtB,MAAM,iBAClD4G,EAAO2B,WAAa,MAGzB,kBAACJ,EAAA,EAAD,CAAKpI,MAAO,CACVM,MAAO,OACPK,mBAAoB,SAAUF,eAAgB,QAC9CI,gBAAiBjE,EAAMwT,QAAQoa,OAAO8D,mBACtCttB,gBAAgB,OAAD,OAASyC,GAAT,sBAA6C,EAAK9G,MAAM6C,KAAxD,oBAAwE,EAAKsJ,gBAAgBjC,EAAQ,GAArG,UACda,UAAWrF,EAAQksB,eAEtB,kBAACnmB,EAAA,EAAD,CAAKsM,EAAG,GACN,kBAACvT,EAAA,EAAD,CAAYmS,MAAM,SAAS9L,QAAM,EAACjG,QAAQ,QAAQtB,MAAM,iBAAxD,YAGA,kBAACkB,EAAA,EAAD,CAAYmS,MAAM,SAAS9L,QAAM,EAACjG,QAAQ,MACvCsF,EAAO6mB,SAEV,kBAACvsB,EAAA,EAAD,CAAYmS,MAAM,SAAS9L,QAAM,EAACjG,QAAQ,QAAQtB,MAAM,iBACrD4G,EAAO6G,GACN,uDACkB,6BADlB,iBAGI7G,EAAOkmB,MAAQ,EAAI,YACnBlmB,EAAOkmB,MAAQ,IAAK,WACpBlmB,EAAOkmB,MAAQ,EAAI,MACnB,MAIJ,sDAKJ,kBAAC5rB,EAAA,EAAD,CAAYmS,MAAM,SAAS9L,QAAM,EAACjG,QAAQ,MACvC,EAAK1D,MAAM0uB,eAAe7qB,IACO,IAA/B,EAAK7D,MAAM0uB,eAAe7qB,IAAUwQ,QAAQ,GAAK,IAElD,OAMR,WAOV,U,GApYehN,aA2YVC,iBA/ZG,SAACvI,GAAD,MAAY,CAC5BixB,gBAAgB,aACd3lB,QAAS,GACRtL,EAAMI,YAAYsI,KAAK,MAAQ,CAC9B4C,QAAS,IAGbiI,UAAU,eACPvT,EAAMI,YAAYsI,KAAK,MAAQ,CAC9BqD,SAAU,SAGd4lB,aAAa,aACXhuB,OAAQ,KACP3D,EAAMI,YAAYsI,KAAK,MAAQ,CAC9B/E,OAAQ,SAgZuB,CAACkT,WAAW,GAAlCtO,CAAyCknB,ICvYlD/O,GAAYlU,aAAW,SAACxM,GAAD,MAAY,CACvC2F,KAAM,CACJ/B,QAAS,QAEXguB,OAAO,eACJ5xB,EAAMI,YAAYC,GAAG,MAAQ,CAC5BqD,MARc,IASd+C,WAAY,IAGhBorB,OAAO,eACJ7xB,EAAMI,YAAYC,GAAG,MAAQ,CAC5BqD,MAAM,eAAD,OAdS,IAcT,OACLqC,WAfc,MAkBlB+rB,WAAW,aACT3tB,YAAanE,EAAMyI,QAAQ,IAC1BzI,EAAMI,YAAYC,GAAG,MAAQ,CAC5BuD,QAAS,SAIbmuB,QAAS/xB,EAAMgyB,OAAOD,QACtBE,YAAa,CACXvuB,MA3BgB,IA4BhBiF,OAAQ,KAEVyX,QAAS,CACP1Z,SAAU,EACV4E,QAAStL,EAAMyI,QAAQ,GACvBoK,SAAU,QAEZqf,YAAa,CACX,UAAW,CACT7uB,MAAO,UACPC,eAAgB,SAGpBG,aAAc,CACZmF,SAAU,QA2PCupB,OAvPf,SAAgBpyB,GAAQ,IACdQ,EAAWR,EAAXQ,OACFkF,EAAUib,KACV1gB,EAAQC,cAHO,EAIeoX,IAAM+a,UAAS,GAJ9B,mBAIdC,EAJc,KAIFC,EAJE,OAMEjb,IAAM+a,SAASryB,EAAM6C,MANvB,mBAMfA,EANe,aAOcyU,IAAM+a,SAAS,KAP7B,mBAOfzjB,EAPe,KAOH4jB,EAPG,OAQsBlb,IAAM+a,SAAS,IARrC,mBAQf/kB,EARe,KAQCmlB,EARD,OASgBnb,IAAM+a,SAAS,MAT/B,mBASfhR,EATe,KASFqR,EATE,OAWQpb,IAAM+a,SAAS,IAXvB,mBAWflxB,EAXe,KAWNwxB,EAXM,KAarBC,qBAAU,WACRzjB,MAAM,4EAA4EtM,EAAK,oBACtFuM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACL/P,OAAOC,KAAK8P,GAAM3N,SAAQ,SAAAC,GACxB8wB,GAAW,SAAAxxB,GAAO,4BAAQA,GAAR,CAAiB,CACjC2B,GAAIjB,EACJG,KAAMuN,EAAK1N,GAAQG,KACnBF,OAAQyN,EAAK1N,GAAQC,OACrBZ,MAAOqO,EAAK1N,GAAQX,MACpB2S,KAAMtE,EAAK1N,GAAQgS,KACnB3R,QAASqN,EAAK1N,GAAQK,QACtBuC,KAAM8K,EAAK1N,GAAQ4C,KACnBiO,QAASnD,EAAK1N,GAAQ6Q,QACtB0B,OAAQ7E,EAAK1N,GAAQuS,OACrBwK,QAASrP,EAAK1N,GAAQ+c,QACtBH,SAAUlP,EAAK1N,GAAQ4c,SACvB8H,OAAQhX,EAAK1N,GAAQ0kB,mBAI1BrE,MAAMlU,QAAQC,KAEfkB,MAAM,4EAA4EtM,EAAK,oBACtFuM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACLijB,EAAcjjB,MAEf2S,MAAMlU,QAAQC,KAEfkB,MAAM,4EAA4EtM,EAAK,wBACtFuM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACG,GACLkjB,EAAkBljB,MAEnB2S,MAAMlU,QAAQC,KAGfkB,MAAM,0CAA0CC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAACG,GACzEA,GAAQA,EAAKrN,SACdwwB,EAAenjB,EAAKrN,YAErBggB,MAAMlU,QAAQC,SAChB,IAEH,IAAM4kB,GAAqB,WACzBN,GAAeD,IAGXQ,GAAc,WAClBP,GAAc,IAGVQ,GAAc,WAClBnb,SAASmJ,KAAKC,UAAY,EAC1BpJ,SAASqJ,gBAAgBD,UAAY,GAGjC6Q,GACJ,yBAAKxuB,MAAO,CAACO,OAAQ,SACnB,yBAAKmH,UAAWrF,EAAQssB,QAAS3uB,MAAO,CAACQ,QAAS,OAAQ0H,QAAS,IACjE,kBAACE,EAAA,EAAD,CAAKpI,MAAO,CAAC6H,UAAW,WACtB,kBAAC1G,EAAA,EAAD,CAAYI,QAAQ,KAAKiG,QAAM,EAACxH,MAAO,CAACQ,QAAS,SAC/C,yBAAKua,IAAI,eAAe/a,MAAO,CAACO,OAAQ,OAAQQ,YAAa,SAD/D,mBAMJ,kBAACO,EAAA,EAAD,MACA,kBAAC0D,EAAA,EAAD,KACE,kBAAC7E,EAAA,EAAD,CAAUR,QAAS,WAAK+vB,KAAeD,MAAiB/nB,UAAWrF,EAAQysB,YAAa1uB,QAAM,EAACuB,UAAWguB,IAASC,gBAAgB,eAAerwB,GAAI,IAAIC,EAAK,aAC7J,kBAACa,EAAA,EAAD,CAAcqH,UAAWrF,EAAQhC,cAAc,kBAAC,IAAD,CAAiBpC,KAAMwhB,OACtE,kBAACxe,EAAA,EAAD,CAAcC,QAASpG,EAAK8D,EAAE,cAGhC,kBAACuB,EAAA,EAAD,CAAUR,QAAS,WAAK+vB,KAAeD,MAAiB/nB,UAAWrF,EAAQysB,YAAa1uB,QAAM,EAACuB,UAAWguB,IAASC,gBAAgB,eAAerwB,GAAI,IAAIC,EAAK,aAC7J,kBAACa,EAAA,EAAD,CAAcqH,UAAWrF,EAAQhC,cAAc,kBAAC,IAAD,CAAiBpC,KAAMuhB,OACtE,kBAACve,EAAA,EAAD,CAAcC,QAASpG,EAAK8D,EAAE,cAGhC,kBAACuB,EAAA,EAAD,CAAUR,QAAS,WAAK+vB,KAAeD,MAAiB/nB,UAAWrF,EAAQysB,YAAa1uB,QAAM,EAACuB,UAAWguB,IAASC,gBAAgB,eAAerwB,GAAI,IAAIC,EAAK,gBAC7J,kBAACa,EAAA,EAAD,CAAcqH,UAAWrF,EAAQhC,cAAc,kBAAC,IAAD,CAAiBpC,KAAM4xB,OACtE,kBAAC5uB,EAAA,EAAD,CAAcC,QAASpG,EAAK8D,EAAE,gBAC9B,kBAACgqB,EAAA,EAAD,CAAMrkB,MAAM,QAAQuZ,KAAK,QAAQ7d,MAAM,eAGzC,kBAACE,EAAA,EAAD,CAAUR,QAAS,WAAK+vB,KAAeD,MAAiB/nB,UAAWrF,EAAQysB,YAAa1uB,QAAM,EAACuB,UAAWguB,IAASC,gBAAgB,eAAerwB,GAAI,IAAIC,EAAK,SAC7J,kBAACa,EAAA,EAAD,CAAcqH,UAAWrF,EAAQhC,cAAc,kBAAC,IAAD,CAAiBpC,KAAM6xB,OACtE,kBAAC7uB,EAAA,EAAD,CAAcC,QAASpG,EAAK8D,EAAE,UAGhC,kBAACuB,EAAA,EAAD,CAAUR,QAAS,WAAK+vB,KAAeD,MAAiB/nB,UAAWrF,EAAQysB,YAAa1uB,QAAM,EAACuB,UAAWguB,IAASC,gBAAgB,eAAerwB,GAAI,IAAIC,EAAK,qBAC7J,kBAACa,EAAA,EAAD,CAAcqH,UAAWrF,EAAQhC,cAAc,kBAAC,IAAD,CAAiBpC,KAAMorB,OACtE,kBAACpoB,EAAA,EAAD,CAAcC,QAASpG,EAAK8D,EAAE,uBAGhC,kBAACuB,EAAA,EAAD,CAAUR,QAAS,WAAK+vB,KAAeD,MAAiB/nB,UAAWrF,EAAQysB,YAAa1uB,QAAM,EAACuB,UAAWguB,IAASC,gBAAgB,eAAerwB,GAAI,IAAIC,EAAK,WAC7J,kBAACa,EAAA,EAAD,CAAcqH,UAAWrF,EAAQhC,cAAc,kBAAC,IAAD,CAAiBpC,KAAMqd,OACtE,kBAACra,EAAA,EAAD,CAAcC,QAAS,eAGzB,kBAACf,EAAA,EAAD,CAAUR,QAAS,WAAK+vB,KAAeD,MAAiB/nB,UAAWrF,EAAQysB,YAAa1uB,QAAM,EAACuB,UAAWguB,IAASC,gBAAgB,eAAerwB,GAAI,IAAIC,EAAK,gBAC7J,kBAACa,EAAA,EAAD,CAAcqH,UAAWrF,EAAQhC,cAAc,kBAAC,IAAD,CAAiBpC,KAAM8xB,OACtE,kBAAC9uB,EAAA,EAAD,CAAcC,QAAS,gBAGzB,kBAACf,EAAA,EAAD,CAAUR,QAAS,WAAK+vB,KAAeD,MAAiB/nB,UAAWrF,EAAQysB,YAAa1uB,QAAM,EAACuB,UAAWguB,IAASC,gBAAgB,eAAerwB,GAAI,IAAIC,EAAK,WAC7J,kBAACa,EAAA,EAAD,CAAcqH,UAAWrF,EAAQhC,cAAc,kBAAC,IAAD,CAAiBpC,KAAM0hB,OACtE,kBAAC1e,EAAA,EAAD,CAAcC,QAASpG,EAAK8D,EAAE,aAIlC,kBAACwJ,EAAA,EAAD,CAAKpI,MAAO,CAAC0C,SAAU,WAAYiO,OAAQ,EAAGzI,QAAS,EAAG1H,QAAS,OAAQ6Q,SAAU,SACnF,yBAAKrR,MAAO,CAACsD,SAAU,EAAG8N,OAAQ,IAAlC,2CACuC,uBAAGpR,MAAO,CAACC,MAAO,SAAUP,KAAK,kCAAjC,eADvC,KAC0H,8BAE1H,yBAAKM,MAAO,CAACsD,SAAU,EAAG8N,OAAQ,IAChC,uBAAG1R,KAAK,8BAA8BpC,OAAO,UAC3C,yBAAK0C,MAAO,CAAC8V,OAAQ,EAAGvV,OAAQ,IAAKwa,IAAI,0CAA0CjF,OAAO,IAAIka,IAAI,mCAGtG,yBAAKhwB,MAAO,CAACsD,SAAU,EAAG8N,OAAQ,IAChC,uBAAG1R,KAAK,8BACN,yBAAKqb,IAAI,4BAA4B/a,MAAO,CAACO,OAAQ,GAAIO,aAAc,SAO3EyG,QAAuBhK,IAAXJ,EAAuB,kBAAMA,IAASoX,SAASmJ,WAAOngB,EAExE,OACE,yBAAKmK,UAAWrF,EAAQE,MACtB,kBAAC0tB,EAAA,EAAD,MACA,kBAACpsB,EAAA,EAAD,CAAQqsB,MAAI,GACV,kBAAC5tB,EAAA,EAAD,CAAQ7C,GAAG,SAASiD,SAAS,QAAQgF,UAAWrF,EAAQosB,OAAQhsB,UAAW,GACzE,kBAACI,EAAA,EAAD,KACE,kBAAC6G,EAAA,EAAD,CACEzJ,MAAM,UACN2J,aAAW,cACXumB,KAAK,QACLxwB,QAAS6vB,GACT9nB,UAAWrF,EAAQqsB,YAEnB,kBAAC,IAAD,OAEF,yBAAK3T,IAAI,eAAe/a,MAAO,CAACO,OAAQ,OAAQQ,YAAa,SAC7D,kBAACI,EAAA,EAAD,CAAYI,QAAQ,KAAKiG,QAAM,GAA/B,oBAMN,yBAAKE,UAAWrF,EAAQmsB,QAEtB,kBAAC3qB,EAAA,EAAD,CAAQqsB,MAAI,EAACE,eAAe,OAC1B,kBAACC,EAAA,EAAD,CACE9oB,UAAWA,GACXhG,QAAQ,YACR+uB,OAA4B,QAApB1zB,EAAMc,UAAsB,QAAU,OAC9CgB,KAAMuwB,EACNsB,OAAQf,GACR/qB,QAAS+qB,GACTntB,QAAS,CACPuN,MAAOvN,EAAQwsB,aAEjB2B,WAAY,CACV9gB,aAAa,IAGd8e,KAGL,kBAAC3qB,EAAA,EAAD,CAAQ4sB,QAAM,EAACL,eAAe,OAC5B,kBAACM,EAAA,EAAD,CACEruB,QAAS,CACPuN,MAAOvN,EAAQwsB,aAEjBttB,QAAQ,YACR7C,MAAI,GAEH8vB,MAIP,0BAAM9mB,UAAWrF,EAAQ2a,SACvB,kBAACnZ,EAAA,EAAD,CAAQqsB,MAAI,GACV,yBAAKxoB,UAAWrF,EAAQssB,WAE1B,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOgC,KAAK,wCAAwCC,OAAK,EAACC,OACxD,SAAC5b,GAAD,OACE,oCACE,kBAAC,GAAD,CAAUzV,KAAMyV,EAAQvI,MAAM0H,OAAd,KAA8BgC,SAAUtY,EAASyN,WAAYA,EAAYtB,eAAgBA,EAAgBmU,YAAaJ,EAAatR,MAAOuI,QAGhK,kBAAC,IAAD,CAAO0b,KAAK,6BAA6BC,OAAK,EAACC,OAC7C,SAAC5b,GAAD,OACE,oCACE,kBAAC,GAAD,CAASzV,KAAMyV,EAAQvI,MAAM0H,OAAd,KAA8BtW,QAASA,EAASmM,eAAgBA,EAAgBsB,WAAYA,EAAYmB,MAAOuI,EAAQvI,MAAOuI,QAASA,EAAQA,cAGpK,kBAAC,IAAD,CAAO0b,KAAK,gCAAgCC,OAAK,EAACC,OAChD,SAAC5b,GAAD,OACE,oCACE,kBAAC,GAAD,CAAYzV,KAAMA,EAAM1B,QAASA,EAASmM,eAAgBA,EAAgBsB,WAAYA,EAAYmB,MAAOuI,EAAQvI,MAAOuI,QAASA,EAAQA,cAG/I,kBAAC,IAAD,CAAO0b,KAAK,cAAcC,OAAK,EAACC,OAAQ,SAAC5b,GAAD,OAAa,kBAAC,GAAD,CAAMzV,KAAMA,EAAM+L,WAAYA,EAAYzN,QAASA,OACxG,kBAAC,IAAD,CAAO6yB,KAAK,8BAA8BC,OAAK,EAACC,OAAQ,SAAC5b,GAAD,OAAa,kBAAC,GAAD,CAAYzV,KAAMA,EAAMkN,MAAOuI,EAAQvI,MAAOuI,QAASA,EAAQA,aACpI,kBAAC,IAAD,CAAO0b,KAAK,mCAAmCC,OAAK,EAACC,OAAQ,SAAC5b,GAAD,OAAa,kBAAC,GAAD,CAAiBzV,KAAMA,EAAMkN,MAAOuI,EAAQvI,MAAOuI,QAASA,EAAQA,aAC9I,kBAAC,IAAD,CAAO0b,KAAK,sBAAsBC,OAAK,EAACC,OAAQ,SAAC5b,GAAD,OAAa,kBAAC,GAAD,CAAOzV,KAAMA,EAAMkN,MAAOuI,EAAQvI,MAAOuI,QAASA,EAAQA,aACvH,kBAAC,IAAD,CAAO0b,KAAK,gBAAgBC,OAAK,EAACC,OAAQ,SAAC5b,GAAD,OAAa,kBAAC,GAAD,SACvD,kBAAC,IAAD,CAAU1V,GAAI,IAAI5C,EAAM6C,KAAK,eAG/B,kBAAC,IAAD,CAAOmxB,KAAK,IAAIE,OAAQ,YAAiB,IAAfC,EAAc,EAAdA,SACxB,GAAG3zB,EAAO,CACR,GAAI,OAAQA,GACN,WAAYA,EAAO4zB,GAAI,CACzB,IAAIC,EAAU7zB,EAAO4zB,GAAGE,SAAS,GAC7BD,GACFA,EAAQE,KAAK,WAAYJ,EAASK,UAGxC,MAAO,U,oBCxTbv0B,GAAQw0B,aAAe,CAC3BhhB,QAAS,CACP8M,KAAM,OACNhc,QAAS,CACPgI,KAAM,WAERmH,UAAW,CACTnH,KAAM,WAERgI,WAAY,CACVC,QAAS,UACTvB,MAAO,cAKPyhB,GAAU,CACd,UACA,UACA,aACA,MACA,kBACA,QACA,aACA,SAoEaC,G,2MAhEbzzB,MAAQ,CACNC,QAAS,GACTyN,WAAY,KACZtB,eAAgB,KAChB+T,YAAa,M,mKAWJ,IAAD,OACR,OACE,kBAACuT,GAAA,EAAD,CAAe30B,MAAOA,IACpB,6BACE,kBAACqzB,EAAA,EAAD,MAEA,kBAACnT,GAAA,EAAD,KACE,0BAAMC,SAAS,WAAWC,QAAQ,qBAClC,0BAAMD,SAAS,WAAWC,QAAgC,iBAC1D,0BAAMD,SAAS,iBAAiBC,QAAQ,iEACxC,0BAAMre,KAAK,eAAeqe,QAAQ,aAGpC,kBAAC,IAAD,CAAQwU,SAAU/tB,IAChB,kBAAC,IAAD,CAAOktB,KAAK,WAAWE,OAAQ,SAACl0B,GAAD,OAC7B,kBAAC,GAAD,CACE6C,KAAM7C,EAAM+P,MAAM0H,QAChBzX,EAAM+P,MAAM0H,OAAO5U,OAClB6xB,GAAQjyB,SAASzC,EAAM+P,MAAM0H,OAAO5U,OACV,WAA3B7C,EAAM+P,MAAM0H,OAAO5U,KAAoB7C,EAAM+P,MAAM0H,OAAO5U,KAAO,OACnE1B,QAAS,EAAKD,MAAMC,QACpByN,WAAY,EAAK1N,MAAM0N,WACvBtB,eAAgB,EAAKpM,MAAMoM,eAC3B+T,YAAa,EAAKngB,MAAMmgB,YACxBtR,MAAO/P,c,GAxCLuI,aCxBEusB,QACW,cAA7Bt0B,OAAO2zB,SAASY,UAEe,UAA7Bv0B,OAAO2zB,SAASY,UAEhBv0B,OAAO2zB,SAASY,SAAShlB,MACvB,2DCZNilB,IAASd,OAAO,kBAAC,GAAD,MAAStc,SAASC,eAAe,SD6H3C,kBAAmBod,WACrBA,UAAUC,cAAcC,MAAM/lB,MAAK,SAAAgmB,GACjCA,EAAaC,iB,mBEpInB13B,EAAOC,QAAU,CAAC,OAAS,4BAA4B,cAAgB,mCAAmC,UAAY,+BAA+B,SAAW,8BAA8B,MAAQ,2BAA2B,aAAa,gCAAgC,OAAS,4BAA4B,UAAY,iC,mBCA/TD,EAAOC,QAAU,CAAC,MAAQ,wBAAwB,aAAa,6BAA6B,MAAQ,wBAAwB,SAAW,2BAA2B,eAAiB,iCAAiC,cAAgB,gCAAgC,cAAgB,gCAAgC,cAAgB,kC,mBCApUD,EAAOC,QAAU,CAAC,SAAW,gCAAgC,eAAiB,sCAAsC,UAAY,iCAAiC,cAAgB,qCAAqC,SAAW,kC,mBCAjOD,EAAOC,QAAU,CAAC,MAAQ,8BAA8B,OAAS,+BAA+B,KAAO,6BAA6B,cAAc,oCAAoC,aAAa,mCAAmC,MAAQ,8BAA8B,SAAW,iCAAiC,eAAiB,uCAAuC,cAAgB,sCAAsC,cAAgB,sCAAsC,cAAgB,wC,mBCA5eD,EAAOC,QAAU,CAAC,YAAc,mC","file":"static/js/main.7121fd6e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"tournamentContainer\":\"nextTournaments_tournamentContainer__3fUK9\",\"tournamentContainerHighlight\":\"nextTournaments_tournamentContainerHighlight__1YtTu\",\"border-pulsate\":\"nextTournaments_border-pulsate__Edk5e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapCharIcon\":\"map_mapCharIcon__1_Xh9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapCharIcon\":\"topbar_mapCharIcon__a1ob8\",\"menu-dropdown-background\":\"topbar_menu-dropdown-background__2DBxb\",\"menu-dropdown\":\"topbar_menu-dropdown__1KsVd\"};","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport moment from 'moment-timezone';\n\nimport pt_br from './translations/pt_br.json';\nimport es from './translations/es.json';\nimport en from './translations/en.json';\nimport jp from './translations/jp.json';\n\nimport localeToLanguageJson from './localeToLanguage.json'\n\nimport numeral from 'numeral';\n\nconst resources = {\n  'pt': {translation: pt_br},\n  'es': {translation: es},\n  'en': {translation: en},\n  'ja': {translation: jp}\n};\n\nconst options = {\n  order: ['querystring', 'navigator'],\n  lookupQuerystring: 'lng'\n}\n\ni18n.use(LanguageDetector).init({\n  resources,\n  fallbackLng: ['en'],\n  debug: true,\n  detection: options,\n  interpolation: {\n    escapeValue: false,\n    format: function(value, format, lng) {\n      if(value instanceof Date) return moment(value).format(format);\n      return value;\n    }\n  },\n});\n\ni18n.on('languageChanged', function(lng) {\n  numeral.locale(lng);\n  moment.locale(lng);\n});\n\ni18n.localeToLanguage = function(locale){\n  let ret = Object.keys(localeToLanguageJson).find((a)=>{return a.toLowerCase() == locale.toLowerCase()});\n  if(ret){\n    return localeToLanguageJson[ret].nativeName;\n  }\n  return locale;\n}\n\nexport default i18n;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Slide from '@material-ui/core/Slide';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\n\nexport default function HideOnScroll(props) {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const { children, window } = props;\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({ target: window ? window() : undefined });\n\n  return (\n    <Slide appear={false || matches} direction=\"down\" in={!trigger || matches}>\n      {children}\n    </Slide>\n  );\n}\n\nHideOnScroll.propTypes = {\n  children: PropTypes.element.isRequired,\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window: PropTypes.func,\n};","import React, { Component } from 'react'\nimport styles from './leagueselector.module.css'\nimport { Link } from 'react-router-dom'\nimport i18n from '../locales/i18n';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCaretRight } from '@fortawesome/free-solid-svg-icons';\nimport { Box, Button, Dialog, DialogContent, DialogTitle, List, Modal, Collapse,\nListItem, ListItemIcon, ListItemText, TextField, Typography, Icon, AppBar,\nToolbar, withStyles, Hidden, Tabs, Tab, Divider } from '@material-ui/core';\nimport { StarBorder, ExpandLess, ExpandMore, Public, Wifi } from '@material-ui/icons'\nimport HideOnScroll from './HideOnScroll';\n\nconst useStyles = (props) => ({\n  leagueSelectorTopbar: {\n    marginBottom: props.spacing(1),\n    [props.breakpoints.down(\"sm\")]: {\n      top: 48,\n      zIndex: 1\n    }\n  },\n  topTabs: {\n    minWidth: 130\n  }\n})\n\nclass LeagueSelector extends Component {\n  state = {\n    leagues: [],\n    league_tree: {\n      leagues: [],\n      subleagues: {},\n      icon: null\n    },\n    modalOpened: false,\n    searchText: \"\"\n  }\n\n  componentDidUpdate(nextProps) {\n    if(nextProps !== this.props) {\n      this.buildLeagueTree();\n    }\n  }\n\n  componentDidMount() {\n    this.state.leagues = this.props.leagues;\n    this.buildLeagueTree();\n  }\n\n  buildLeagueTree() {\n    this.state.league_tree = {\n      leagues: [],\n      subleagues: {}\n    };\n\n    if(this.props.leagues){\n      this.props.leagues.forEach(league=>{\n        if(league.region){\n          if(!this.state.league_tree[\"subleagues\"][league.region]){\n            this.state.league_tree[\"subleagues\"][league.region] = {\n              leagues: [],\n              subleagues: {},\n              open: false,\n              name: i18n.t(\"region-\"+league.region.toLowerCase())\n            };\n          }\n\n          // se no tem pas,  liga de regio\n          if(!league.country){\n            this.state.league_tree[\"subleagues\"][league.region][\"leagues\"].push(league);\n          } else {\n            if(!this.state.league_tree[\"subleagues\"][league.region][\"subleagues\"][league.country]){\n              this.state.league_tree[\"subleagues\"][league.region][\"subleagues\"][league.country] = {\n                leagues: [],\n                subleagues: {},\n                open: false,\n                icon: `https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/country_flag/${league.country.toLowerCase()}.png`,\n                show_count: true\n              };\n            }\n\n            this.state.league_tree[\"subleagues\"][league.region][\"subleagues\"][league.country][\"leagues\"].push(league);\n          }\n        }\n      })\n\n      this.setState(this.state);\n    }\n  }\n\n  filterLeagues(text){\n    this.state.searchText = text;\n    this.setState({searchText: text});\n  }\n\n  openModal(){\n    this.setState({modalOpened: true});\n  }\n\n  closeModal(){\n    this.setState({modalOpened: false});\n  }\n\n  renderSearch(){\n    return(\n      Object.values(this.props.leagues).filter((a)=>{\n        return(\n          a.name.toLowerCase().includes(this.state.searchText.toLowerCase()) ||\n          (a.state != null && a.state.toLowerCase().includes(this.state.searchText.toLowerCase())) ||\n          (a.country != null && a.country.toLowerCase().includes(this.state.searchText.toLowerCase()))\n        )\n      }).map((contact)=>(\n        <Link\n          to={`${this.props.game}/leagues/${contact.id}`}\n          href={`${this.props.game}/leagues/${contact.id}`}\n          onClick={()=>{this.props.selectLeague(this.props.leagues.indexOf(contact)); this.closeModal()}}\n          key={\"league_\"+contact.name}\n          style={{color: \"white\", textDecoration: \"none\"}}\n        >\n          <ListItem button onClick={()=>{}}>\n            <ListItemIcon>\n              <div style={{\n                width: \"32px\", height: \"32px\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                backgroundPosition: \"center\", verticalAlign: \"inherit\", backgroundColor: \"white\", borderRadius: \"6px\", marginRight: \"10px\",\n                backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/${this.props.game}/league_icon/${contact.id}.png)`,\n                display: \"flex\", flexShrink: 0\n              }}></div>\n            </ListItemIcon>\n            <ListItemText primary={contact.name} />\n            <Typography>{contact.state}</Typography>\n            {contact.wifi?\n              <Wifi />\n              :\n              null}\n          </ListItem>\n          <Divider variant=\"inset\" />\n        </Link>\n      ))\n    )\n  }\n\n  renderTree(head, recursion=0){\n    //console.log(head)\n    if(head.leagues == null || head.subleagues == null){\n      return;\n    }\n    return(\n      <>\n        {head.leagues.map((contact, i)=>(\n          <Link\n            to={`/${this.props.game}/leagues/${contact.id}`}\n            href={`/${this.props.game}/leagues/${contact.id}`}\n            onClick={()=>{this.props.selectLeague(this.props.leagues.indexOf(contact)); this.closeModal()}}\n            key={\"league_\"+contact.name}\n            style={{color: \"white\", textDecoration: \"none\"}}\n          >\n            <ListItem button onClick={()=>{}}>\n              <ListItemIcon>\n                <div style={{\n                  width: \"32px\", height: \"32px\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                  backgroundPosition: \"center\", verticalAlign: \"inherit\", backgroundColor: \"white\", borderRadius: \"6px\", marginRight: \"10px\",\n                  backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/games/${this.props.game}/league_icon/${contact.id}.png)`,\n                  display: \"flex\", flexShrink: 0\n                }}></div>\n              </ListItemIcon>\n              <ListItemText primary={contact.name} />\n              <Typography>{contact.state}</Typography>\n              {contact.wifi?\n                <Wifi />\n                :\n                null}\n            </ListItem>\n            <Divider variant=\"inset\" component=\"li\" />\n          </Link>\n        ))}\n        {Object.entries(head.subleagues).map((league, i) => (\n          <>\n            <ListItem button onClick={()=>{head.subleagues[league[0]].open = !head.subleagues[league[0]].open; this.setState(this.state);}}>\n              <ListItemIcon>\n                {league[1].icon?\n                  <div style={{\n                    width: \"32px\", height: \"32px\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                    backgroundPosition: \"center\", verticalAlign: \"inherit\", backgroundColor: \"white\", borderRadius: \"6px\", marginRight: \"10px\",\n                    backgroundImage: `url(${league[1].icon})`,\n                    display: \"flex\", flexShrink: 0\n                  }}></div>\n                  :\n                  <Public />\n                }\n              </ListItemIcon>\n              <ListItemText primary={league[1].name ? league[1].name : league[0]} />\n              {head.subleagues[league[0]].open ? <ExpandLess /> : <ExpandMore />}\n            </ListItem>\n            <Divider variant=\"inset\" component=\"li\" />\n            <Collapse style={{paddingLeft: \"32px\"}} in={head.subleagues[league[0]].open} timeout=\"auto\" unmountOnExit>\n              {this.renderTree(league[1], recursion+1)}\n            </Collapse>\n          </>\n        ))}\n      </>\n    )\n  }\n\n  render(){\n    const { classes } = this.props;\n\n    return(\n      <HideOnScroll {...this.props}>\n        <AppBar classes={{root: classes.leagueSelectorTopbar}} elevation={0} style={{\n          position: \"sticky\", marginLeft: -8, marginTop: -8, width: \"calc(100% + 16px)\"\n        }}>\n          <Toolbar>\n            <Button fullWidth onClick={()=>{this.openModal()}}>\n              {this.props.leagues && this.props.leagues.length > 0 && this.props.selectedLeague != -1 ?\n                <div style={{display: \"flex\", lineHeight: \"32px\", justifySelf: \"left\", width: \"100%\"}}>\n                  <div style={{\n                    width: \"32px\", height: \"32px\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                    backgroundPosition: \"center\", verticalAlign: \"inherit\", backgroundColor: \"white\", borderRadius: \"6px\", marginRight: \"10px\",\n                    backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/games/${this.props.game}/league_icon/${this.props.leagues[this.props.selectedLeague].id}.png)`,\n                    display: \"flex\", flexShrink: 0\n                  }}></div>\n                  <div style={{\n                    flexShrink: 1, flexGrow: 1, textOverflow: \"ellipsis\", overflow: \"hidden\"\n                  }}>{this.props.leagues[this.props.selectedLeague].name}</div>\n                  {this.props.leagues[this.props.selectedLeague].state ?\n                    <div style={{\n                      width: \"32px\", height: \"32px\", display: \"inline-block\",\n                      backgroundPosition: \"center\", verticalAlign: \"inherit\",\n                      display: \"flex\", flexShrink: 0\n                    }}>{this.props.leagues[this.props.selectedLeague].state}</div>\n                    :\n                    null\n                  }\n                  {\n                    this.props.leagues[this.props.selectedLeague].wifi ? \n                      <div style={{\n                        width: \"24px\", height: \"24px\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                        backgroundPosition: \"center\", verticalAlign: \"inherit\", borderRadius: \"100%\",\n                        backgroundColor: \"white\", marginTop: \"2px\", marginRight: \"4px\",\n                        display: \"flex\", flexShrink: 0\n                      }}>\n                        <div style={{\n                          width: \"16px\", height: \"16px\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                          backgroundPosition: \"center\", verticalAlign: \"inherit\",\n                          backgroundImage: `url(${process.env.PUBLIC_URL}/icons/wifi.svg)`,\n                          position: \"relative\", top: \"4px\", left: \"4px\"\n                        }}></div>\n                      </div>\n                    :\n                      null\n                  }\n                  <div style={{\n                    width: \"24px\", height: \"24px\", display: \"inline-block\",\n                    display: \"flex\", flexShrink: 0, alignSelf: \"center\"\n                  }}>\n                    <Icon><ExpandMore /></Icon>\n                  </div>\n                </div>\n                :\n                \"Loading...\"\n              }\n            </Button>\n          </Toolbar>\n\n          <Hidden xsDown>\n            <Tabs\n              value={this.props.selectedTab}\n              onChange={(event, value)=>this.props.handleTabChange(value)}\n              centered\n            >\n              <Tab classes={{root: classes.topTabs}} value=\"ranking\" label={i18n.t(\"Ranking\")} />\n              <Tab classes={{root: classes.topTabs}} value=\"players\" label={i18n.t(\"players\")} />\n              <Tab classes={{root: classes.topTabs}} value=\"tournaments\" label={i18n.t(\"Tournaments\")} />\n              <Tab classes={{root: classes.topTabs}} value=\"statistics\" label={i18n.t(\"Statistics\")} />\n              <Tab classes={{root: classes.topTabs}} value=\"info\" label={i18n.t(\"Info\")} />\n            </Tabs>\n          </Hidden>\n\n          <Dialog open={this.state.modalOpened} onClose={()=>{this.setState({modalOpened: false})}}>\n            <DialogTitle>{i18n.t(\"select-league\")}</DialogTitle>\n            <DialogContent dividers>\n              <TextField autoComplete={false} fullWidth label=\"Search\" onChange={(event)=>{this.filterLeagues(event.target.value)}} />\n              <List>\n                {this.state.searchText <= 0 ?\n                  this.renderTree(this.state.league_tree)\n                  :\n                  this.renderSearch()\n                }\n              </List>\n            </DialogContent>\n          </Dialog>\n        </AppBar>\n      </HideOnScroll>\n    )\n  }\n};\n\nexport default withStyles(useStyles)(LeagueSelector)","const CHARACTER_TO_CODENAME = {\n    \"ssbu\":{\n        \"Mario\": \"mario\",\n        \"Donkey Kong\": \"donkey\",\n        \"Link\": \"link\",\n        \"Samus\": \"samus\",\n        \"Dark Samus\": \"samusd\",\n        \"Yoshi\": \"yoshi\",\n        \"Kirby\": \"kirby\",\n        \"Fox\": \"fox\",\n        \"Pikachu\": \"pikachu\",\n        \"Luigi\": \"luigi\",\n        \"Ness\": \"ness\",\n        \"Captain Falcon\": \"captain\",\n        \"Jigglypuff\": \"purin\",\n        \"Peach\": \"peach\",\n        \"Daisy\": \"daisy\",\n        \"Bowser\": \"koopa\",\n        \"Ice Climbers\": \"ice_climber\",\n        \"Sheik\": \"sheik\",\n        \"Zelda\": \"zelda\",\n        \"Dr Mario\": \"mariod\",\n        \"Pichu\": \"pichu\",\n        \"Falco\": \"falco\",\n        \"Marth\": \"marth\",\n        \"Lucina\": \"lucina\",\n        \"Young Link\": \"younglink\",\n        \"Ganondorf\": \"ganon\",\n        \"Mewtwo\": \"mewtwo\",\n        \"Roy\": \"roy\",\n        \"Chrom\": \"chrom\",\n        \"Mr Game And Watch\": \"gamewatch\",\n        \"Meta Knight\": \"metaknight\",\n        \"Pit\": \"pit\",\n        \"Dark Pit\": \"pitb\",\n        \"Zero Suit Samus\": \"szerosuit\",\n        \"Wario\": \"wario\",\n        \"Snake\": \"snake\",\n        \"Ike\": \"ike\",\n        \"Pokemon Trainer\": \"ptrainer\",\n        \"Diddy Kong\": \"diddy\",\n        \"Lucas\": \"lucas\",\n        \"Sonic\": \"sonic\",\n        \"King Dedede\": \"dedede\",\n        \"Olimar\": \"pikmin\",\n        \"Lucario\": \"lucario\",\n        \"Rob\": \"robot\",\n        \"Toon Link\": \"toonlink\",\n        \"Wolf\": \"wolf\",\n        \"Villager\": \"murabito\",\n        \"Mega Man\": \"rockman\",\n        \"Wii Fit Trainer\": \"wiifit\",\n        \"Rosalina And Luma\": \"rosetta\",\n        \"Little Mac\": \"littlemac\",\n        \"Greninja\": \"gekkouga\",\n        \"Mii Brawler\": \"miifighter\",\n        \"Mii Swordfighter\": \"miiswordsman\",\n        \"Mii Gunner\": \"miigunner\",\n        \"Palutena\": \"palutena\",\n        \"Pac Man\": \"pacman\",\n        \"Robin\": \"reflet\",\n        \"Shulk\": \"shulk\",\n        \"Bowser Jr\": \"koopajr\",\n        \"Duck Hunt\": \"duckhunt\",\n        \"Ryu\": \"ryu\",\n        \"Ken\": \"ken\",\n        \"Cloud\": \"cloud\",\n        \"Corrin\": \"kamui\",\n        \"Bayonetta\": \"bayonetta\",\n        \"Inkling\": \"inkling\",\n        \"Ridley\": \"ridley\",\n        \"Simon\": \"simon\",\n        \"Richter\": \"richter\",\n        \"King K Rool\": \"krool\",\n        \"Isabelle\": \"shizue\",\n        \"Incineroar\": \"gaogaen\",\n        \"Piranha Plant\": \"packun\",\n        \"Joker\": \"jack\",\n        \"Hero\": \"brave\",\n        \"Banjo-Kazooie\": \"buddy\",\n        \"Terry\": \"dolly\",\n        \"Byleth\": \"master\",\n        \"Min Min\": \"tantan\",\n        \"Steve\": \"pickel\",\n        \"Sephiroth\": \"edge\",\n        \"Random\": \"random\"\n    }\n}\n\nexport function GetCharacterCodename(game, char){\n    if(CHARACTER_TO_CODENAME[game]){\n        if(CHARACTER_TO_CODENAME[game][char]){\n            return CHARACTER_TO_CODENAME[game][char];\n        }\n    }\n    if(char == null){char = \"\"};\n    return char.replace(/ /g, \"_\").replace(/\\./g, \"\").toLowerCase();\n}\n\nconst CHARACTER_EYE_HEIGHT_PERCENTAGE = {\n    \"ssbu\": {\n        \"Mario\": {0: 50},\n        \"Donkey Kong\": {0: 34}, \n        \"Link\": {0: 52},\n        \"Samus\": {0: 52},\n        \"Dark Samus\": {0: 40},\n        \"Yoshi\": {0: 20},\n        \"Kirby\": {0: 22},\n        \"Fox\": {0: 52},\n        \"Pikachu\": {0: 45},\n        \"Luigi\": {0: 45},\n        \"Ness\": {0: 52},\n        \"Captain Falcon\": {0: 52},\n        \"Jigglypuff\": {0: 50},\n        \"Peach\": {0: 45},\n        \"Daisy\": {0: 50},\n        \"Bowser\": {0: 26},\n        \"Ice Climbers\": {0: 45},\n        \"Sheik\": {0: 45},\n        \"Zelda\": {0: 45},\n        \"Dr Mario\": {0: 42},\n        \"Pichu\": {0: 52},\n        \"Falco\": {0: 50},\n        \"Marth\": {0: 50},\n        \"Lucina\": {0: 46},\n        \"Young Link\": {0: 52},\n        \"Ganondorf\": {0: 45},\n        \"Mewtwo\": {0: 58},\n        \"Roy\": {0: 48},\n        \"Chrom\": {0: 50},\n        \"Mr Game And Watch\": {0: 25},\n        \"Meta Knight\": {0: 56},\n        \"Pit\": {0: 56},\n        \"Dark Pit\": {0: 50},\n        \"Zero Suit Samus\": {0: 46},\n        \"Wario\": {0: 22},\n        \"Snake\": {0: 42},\n        \"Ike\": {0: 44},\n        \"Pokemon Trainer\": {0: 56},\n        \"Diddy Kong\": {0: 30},\n        \"Lucas\": {0: 54},\n        \"Sonic\": {0: 60},\n        \"King Dedede\": {0: 44},\n        \"Olimar\": {0: 32},\n        \"Lucario\": {0: 58},\n        \"Rob\": {0: 50},\n        \"Toon Link\": {0: 60},\n        \"Wolf\": {0: 62},\n        \"Villager\": {0: 54},\n        \"Mega Man\": {0: 64},\n        \"Wii Fit Trainer\": {0: 42},\n        \"Rosalina And Luma\": {0: 50},\n        \"Little Mac\": {0: 48},\n        \"Greninja\": {0: 58},\n        \"Mii Brawler\": {0: 45},\n        \"Mii Swordfighter\": {0: 56},\n        \"Mii Gunner\": {0: 52},\n        \"Palutena\": {0: 48},\n        \"Pac Man\": {0: 14},\n        \"Robin\": {0: 44},\n        \"Shulk\": {0: 44},\n        \"Bowser Jr\": {0: 18},\n        \"Duck Hunt\": {0: 28},\n        \"Ryu\": {0: 38},\n        \"Ken\": {0: 46},\n        \"Cloud\": {0: 42},\n        \"Corrin\": {0: 44},\n        \"Bayonetta\": {0: 44},\n        \"Inkling\": {0: 60},\n        \"Ridley\": {0: 26},\n        \"Simon\": {0: 40},\n        \"Richter\": {0: 34},\n        \"King K Rool\": {0: 20},\n        \"Isabelle\": {0: 42},\n        \"Incineroar\": {0: 48},\n        \"Piranha Plant\": {0: 30},\n        \"Joker\": {0: 50},\n        \"Hero\": {0: 46, 1: 65, 2: 56, 3: 50, 4: 46, 5: 65, 6: 56, 7: 50},\n        \"Banjo-Kazooie\": {0: 56},\n        \"Terry\": {0: 52},\n        \"Byleth\": {0: 52},\n        \"Min Min\": {0: 74},\n        \"Steve\": {0: 42},\n        \"Sephiroth\": {0: 56},\n        \"Random\": {0: 50}\n    },\n    \"sfv\": {\n        \"ALL\": {0: 30},\n        \"Ryu\": {0: 30},\n        \"Akuma\": {0: 30}\n    },\n    \"ssbm\": {\n        \"ALL\": {0: 30},\n        \"Jigglypuff\": {0: 80},\n        \"Captain Falcon\": {0: 16},\n        \"Peach\": {0: 50},\n        \"Ganondorf\": {0: 20},\n        \"Mewtwo\": {0: 48},\n        \"Yoshi\": {0: 10},\n        \"Sheik\": {0: 40}\n    }\n\n}\n\nexport function GetCharacterEyeHeight(game, char, skins={}){\n    if(CHARACTER_EYE_HEIGHT_PERCENTAGE[game]){\n        if(CHARACTER_EYE_HEIGHT_PERCENTAGE[game][char]){\n            if(CHARACTER_EYE_HEIGHT_PERCENTAGE[game][char][skins[char]]){\n                return CHARACTER_EYE_HEIGHT_PERCENTAGE[char][skins[char]];\n            }\n        }\n        if(CHARACTER_EYE_HEIGHT_PERCENTAGE[game][char]){\n            return CHARACTER_EYE_HEIGHT_PERCENTAGE[game][char][0];\n        }\n        if(CHARACTER_EYE_HEIGHT_PERCENTAGE[game][\"ALL\"]){\n            return CHARACTER_EYE_HEIGHT_PERCENTAGE[game][\"ALL\"][0];\n        }\n    }\n    else return 50;\n}\n\nexport const CHARACTERS_GG_TO_BRAACKET = {\n\t\"Mario\": \"Mario\",\n\t\"Donkey Kong\": \"Donkey Kong\",\n\t\"Link\": \"Link\",\n\t\"Samus\": \"Samus\",\n\t\"Dark Samus\": \"Dark Samus\",\n\t\"Yoshi\": \"Yoshi\",\n\t\"Kirby\": \"Kirby\",\n\t\"Fox\": \"Fox\",\n\t\"Pikachu\": \"Pikachu\",\n\t\"Luigi\": \"Luigi\",\n\t\"Ness\": \"Ness\",\n\t\"Captain Falcon\": \"Captain Falcon\",\n\t\"Jigglypuff\": \"Jigglypuff\",\n\t\"Peach\": \"Peach\",\n\t\"Daisy\": \"Daisy\",\n\t\"Bowser\": \"Bowser\",\n\t\"Ice Climbers\": \"Ice Climbers\",\n\t\"Sheik\": \"Sheik\",\n\t\"Zelda\": \"Zelda\",\n\t\"Dr. Mario\": \"Dr Mario\",\n\t\"Pichu\": \"Pichu\",\n\t\"Falco\": \"Falco\",\n\t\"Marth\": \"Marth\",\n\t\"Lucina\": \"Lucina\",\n\t\"Young Link\": \"Young Link\",\n\t\"Ganondorf\": \"Ganondorf\",\n\t\"Mewtwo\": \"Mewtwo\",\n\t\"Roy\": \"Roy\",\n\t\"Chrom\": \"Chrom\",\n\t\"Mr. Game & Watch\": \"Mr Game And Watch\",\n\t\"Meta Knight\": \"Meta Knight\",\n\t\"Pit\": \"Pit\",\n\t\"Dark Pit\": \"Dark Pit\",\n\t\"Zero Suit Samus\": \"Zero Suit Samus\",\n\t\"Wario\": \"Wario\",\n\t\"Snake\": \"Snake\",\n\t\"Ike\": \"Ike\",\n\t\"Pokemon Trainer\": \"Pokemon Trainer\",\n\t\"Diddy Kong\": \"Diddy Kong\",\n\t\"Lucas\": \"Lucas\",\n\t\"Sonic\": \"Sonic\",\n\t\"King Dedede\": \"King Dedede\",\n\t\"Olimar\": \"Olimar\",\n\t\"Lucario\": \"Lucario\",\n\t\"R.O.B.\": \"Rob\",\n\t\"Toon Link\": \"Toon Link\",\n\t\"Wolf\": \"Wolf\",\n\t\"Villager\": \"Villager\",\n\t\"Mega Man\": \"Mega Man\",\n\t\"Wii Fit Trainer\": \"Wii Fit Trainer\",\n\t\"Rosalina\": \"Rosalina And Luma\",\n\t\"Little Mac\": \"Little Mac\",\n\t\"Greninja\": \"Greninja\",\n\t\"Mii Brawler\": \"Mii Brawler\",\n\t\"Mii Swordfighter\": \"Mii Swordfighter\",\n\t\"Mii Gunner\": \"Mii Gunner\",\n\t\"Palutena\": \"Palutena\",\n\t\"Pac-Man\": \"Pac Man\",\n\t\"Robin\": \"Robin\",\n\t\"Shulk\": \"Shulk\",\n\t\"Bowser Jr.\": \"Bowser Jr\",\n\t\"Duck Hunt\": \"Duck Hunt\",\n\t\"Ryu\": \"Ryu\",\n\t\"Ken\": \"Ken\",\n\t\"Cloud\": \"Cloud\",\n\t\"Corrin\": \"Corrin\",\n\t\"Bayonetta\": \"Bayonetta\",\n\t\"Inkling\": \"Inkling\",\n\t\"Ridley\": \"Ridley\",\n\t\"Simon Belmont\": \"Simon\",\n\t\"Richter\": \"Richter\",\n\t\"King K. Rool\": \"King K Rool\",\n\t\"Isabelle\": \"Isabelle\",\n\t\"Incineroar\": \"Incineroar\",\n\t\"Piranha Plant\": \"Piranha Plant\",\n\t\"Joker\": \"Joker\",\n\t\"Hero\": \"Hero\",\n\t\"Banjo-Kazooie\": \"Banjo-Kazooie\",\n\t\"Terry\": \"Terry\",\n\t\"Byleth\": \"Byleth\",\n\t\"Min Min\": \"Min Min\",\n    \"Steve\": \"Steve\",\n    \"Sephiroth\": \"Sephiroth\"\n}","import React, { Component } from 'react'\nimport styles from './playerElement.module.css'\nimport {GetCharacterCodename, GetCharacterEyeHeight} from \"../globals\";\nimport LazyLoad from 'react-lazyload';\nimport i18n from '../locales/i18n';\nimport { Box, Paper, Typography, withStyles, Avatar, Grid, Card, CardActionArea } from '@material-ui/core';\n\nclass PlayerElement extends Component {\n    getCharCodename(playerData, id){\n        let skin = 0;\n    \n        if(playerData.hasOwnProperty(\"skins\")){\n            skin = playerData[\"skins\"][playerData[\"mains\"][id]];\n            if(skin == undefined){\n                skin = 0;\n            }\n        }\n        \n        return GetCharacterCodename(this.props.game, playerData[\"mains\"][id])+\"_0\"+skin;\n    }\n\n    render(){\n        const player = this.props.player;\n    \n        return(\n            <Grid item xs={12} class={styles.containerOuter}>\n                {player ?\n                    <Card style={{overflow: \"hidden\"}}>\n                        <CardActionArea style={{overflow: \"hidden\", textAlign: \"center\"}} onClick={this.props.onClick}>\n                            <Grid container noWrap overflow=\"hidden\" alignItems=\"center\" className={styles.container}>\n                                {player.ranking ?\n                                    <div class={styles.playerRanking}>{player.ranking}</div>\n                                    :\n                                    null\n                                }\n                                <Grid item style={{alignSelf: \"stretch\", maxHeight: \"100%\", width: \"64px\"}}>\n                                    {player.avatars && player.avatars.length > 0 ?\n                                        <div class=\"player-avatar\" style={{\n                                            backgroundImage: \"url(\"+player.avatars.join(\"), url(\")+\")\",\n                                            width: \"64px\", height: \"100%\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                                            backgroundPosition: \"center\", backgroundColor: \"gray\",\n                                        }}>\n                                        </div>\n                                        :\n                                        null\n                                    }\n                                </Grid>\n                                <Grid item>\n                                    <div class=\"flags-container\">\n                                        <div class=\"state-flag-container\" style={{\n                                        width: \"40px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", padding: \"6px\"\n                                        }}>\n                                        {player.country_code && player.country_code != \"null\" ?\n                                            <div class=\"flag\" style={{\n                                            backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/country_flag/${player.country_code.toLowerCase()}.png)`\n                                            }}><span>{player.country_code}</span></div>\n                                        :\n                                            null\n                                        }\n                                        </div>\n\n                                        <div class=\"state-flag-container\" style={{\n                                        width: \"40px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", padding: \"6px\"\n                                        }}>\n                                        {player.state && player.state != \"null\" ?\n                                            <div class=\"flag\" style={{\n                                            backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/state_flag/${player.country_code}/${player.state}.png)`\n                                            }}><span>{player.state}</span></div>\n                                        :\n                                            null\n                                        }\n                                        </div>\n                                    </div>\n                                </Grid>\n                                <Grid item xs justifyContent=\"center\" style={{overflow: \"hidden\"}}>\n                                    <Box display=\"flex\" justifyContent=\"center\" noWrap>\n                                        {player.org ?\n                                            <Typography noWrap variant=\"h6\" color=\"secondary\" className={styles.userNick}>{player.org}&nbsp;</Typography>\n                                            :\n                                            null\n                                        }\n                                        <Typography noWrap variant=\"h6\" color=\"textPrimary\" className={styles.userNick}>{player.name}</Typography>\n                                    </Box>\n                                    <Typography noWrap variant=\"body2\" color=\"textSecondary\" className={styles.userName} style={{lineHeight: \"normal\"}}>\n                                        {player.full_name}\n                                    </Typography>\n                                </Grid>\n                                {player.score ?\n                                    <Grid item style={{height: \"100%\", display: \"flex\"}}>\n                                        <div class=\"player-score\" style={{width: \"110px\", padding: \"5px\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", flexShrink: 0}}>\n                                            <div style={{backgroundColor: \"black\", flexGrow: 1, display: \"flex\"}}>\n                                            <div style={{\n                                                backgroundColor: \"black\", color: \"white\", fontSize: \"1rem\", lineHeight: \"1rem\", flexGrow: 1, alignSelf: \"center\", width: \"100%\"\n                                            }}>{player.score} pts.</div>\n                                            </div>\n                                        </div>\n                                    </Grid>\n                                    :\n                                    null\n                                }\n                                <Grid item style={{alignSelf: \"stretch\", maxHeight: \"100%\"}}>\n                                    {player.mains.length > 0 ?\n                                        <div class=\"player-main\" style={{\n                                            backgroundImage: \n                                                this.props.big ?\n                                                    `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_1_${this.getCharCodename(player, 0)}.png)`\n                                                :\n                                                    `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_0_${this.getCharCodename(player, 0)}.png)`\n                                            ,\n                                            width: \"128px\", height: \"100%\", backgroundPositionX: \"center\", backgroundSize: \"cover\", backgroundColor: \"#ababab\", overflow: \"hidden\",\n                                            backgroundPositionY: (GetCharacterEyeHeight(this.props.game, player.mains[0], player.skins)+\"%\" || \"center\")\n                                        }}>\n                                            <div style={{overflow: \"hidden\", display: \"flex\", height: \"100%\", alignItems: \"flex-end\", justifyContent: \"flex-end\"}}>\n                                            {player.mains.slice(1).map((main, i)=>(\n                                                <div class=\"player-main-mini\" style={{\n                                                backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${this.getCharCodename(player, i+1)}.png)`,\n                                                width: \"24px\", height: \"24px\", backgroundPosition: \"center\", backgroundSize: \"cover\",\n                                                flexGrow: 0, display: \"flex\", flexShrink: 1\n                                                }}></div>\n                                            ))}\n                                            </div>\n                                        </div>\n                                        :\n                                        <div style={{\n                                            backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_0_random.png)`,\n                                            width: \"128px\", backgroundPosition: \"center\", backgroundSize: \"cover\", backgroundColor: \"#ababab\"\n                                        }}></div>\n                                    }\n                                </Grid>\n                            </Grid>\n                        </CardActionArea>\n                    </Card>\n                    :\n                    null\n                }\n            </Grid>\n        )\n    }\n}\n\nexport default PlayerElement;","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport styles from './playermodal.module.css';\nimport { GetCharacterCodename, CHARACTERS_GG_TO_BRAACKET } from \"../globals\";\nimport moment from \"../../node_modules/moment-timezone/moment-timezone\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faWifi, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nimport i18n from '../locales/i18n';\nimport { browserHistory } from 'react-router';\nimport { withRouter } from 'react-router-dom'\nimport numeral from 'numeral';\nimport { Dialog, DialogTitle, DialogContent, IconButton, withStyles,\n  Box, Typography, Grid, makeStyles, useTheme, TableFooter, Icon } from '@material-ui/core';\nimport { CloseIcon } from '@material-ui/icons/Close';\nimport { ArrowBack } from '@material-ui/icons/ArrowBack'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\n\nconst useStyles1 = makeStyles((theme) => ({\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n}));\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles1();\n  const theme = useTheme();\n  const { count, page, rowsPerPage, onChangePage } = props;\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label=\"first page\"\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"next page\"\n      >\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"last page\"\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  );\n}\n\nconst useStyles = (theme) => ({\n  dialogRoot: {\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      maxWidth: \"100% !important\",\n      width: \"100%\"\n    }\n  },\n});\n\nclass PlayerModal extends Component {\n  state = {\n    playerData: null,\n    alltournaments: {},\n    tournaments: {},\n    achievements: {},\n    open: false,\n    player: null,\n    setsRowsPerPage: 5,\n    setsPage: 0,\n    tournamentsRowsPerPage: 5,\n    tournamentsPage: 0\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(this.state.open && !prevState.open){\n      this.fetchPlayer();\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  fetchPlayer(){\n    console.log(\"fetchplayer\");\n    \n    if(this.state.player == null) return;\n\n    this.player = this.state.player;\n\n    let tournamentsWent = [];\n    let achievements = [];\n    let matchesPlayed = [];\n\n    let myIds = []\n\n    if(this.player.character_usage){\n      let usage_percent = {};\n      Object.assign(usage_percent, this.player.character_usage);\n      this.player.character_usage_percent = usage_percent;\n\n      this.player.character_usage_percent = Object.entries(this.player.character_usage_percent).sort((a,b)=>{return b[1]-a[1]});\n\n      let sum = 0;\n\n      this.player.character_usage_percent.forEach((character)=>{\n        sum += character[1];\n      })\n\n      this.player.character_usage_percent.forEach((character)=>{\n        character[1] = character[1]/sum;\n      })\n    }\n\n    if(this.props.alltournaments != null && this.props.allplayers != null){\n      this.player.rank = {}\n      this.player.matches = []\n\n      if(this.player.braacket_links){\n        this.player.braacket_links.forEach(link => {\n          let linkLeague = link.split(\":\")[0];\n          let linkId = link.split(\":\")[1];\n\n          fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/'+linkLeague+'/ranking.json')\n          .then(res => res.json())\n          .then((data) => {\n            if(data.ranking.ranking[linkId]){\n              this.player.rank[linkLeague] = {rank: data.ranking.ranking[linkId].rank, score: data.ranking.ranking[linkId].score};\n              this.setState({playerData: this.player})\n            }\n          }, this);\n  \n          if(Object.keys(this.props.alltournaments).includes(linkLeague)){\n            Object.values(this.props.alltournaments[linkLeague]).forEach(tournament => {\n              if(tournament.ranking && Object.keys(tournament.linkage).includes(linkId)){\n                let playerIdInTournament = tournament.linkage[linkId];\n\n                let tournamentEntry = {};\n                Object.assign(tournamentEntry, tournament);\n\n                if(tournament.ranking[playerIdInTournament]){\n                  tournamentEntry[\"ranking\"] = tournament.ranking[playerIdInTournament].rank;\n                  tournamentEntry[\"league\"] = linkLeague;\n\n                  let leagueObj = this.props.leagues.find(element => element.id == linkLeague);\n    \n                  if(leagueObj.wifi){\n                    tournamentEntry[\"state\"] = \"wifi\"\n                  } else {\n                    tournamentEntry[\"state\"] = leagueObj.state;\n                  }\n  \n                  if(!tournament.name.includes(\"[MATCHMAKING]\")){\n                    let found = tournamentsWent.find(element =>\n                      element.name == tournamentEntry.name ||\n                      element.id == tournamentEntry.id ||\n                      (element.link != null && element.link == tournamentEntry.link)\n                    );\n      \n                    if(!found){\n                      tournamentsWent.push(tournamentEntry);\n                    } else {\n                      if(found.state == \"BR\" && tournamentEntry[\"state\"] != \"BR\"){\n                        found.state = tournamentEntry[\"state\"];\n                      }\n                    }\n                  }\n  \n                  if(tournament.matches){\n                    tournament.matches.forEach(match => {\n                      if(match.participants.hasOwnProperty(playerIdInTournament)){\n                        let matchEntry = {}\n                        matchEntry.tournamentName = tournament.name;\n                        matchEntry.tournamentTime = tournament.time;\n                        matchEntry.participants = match.participants;\n                        matchEntry.tournamentId = tournament.id;\n                        if(leagueObj.wifi){\n                          matchEntry.wifi = true;\n                        }\n                        matchEntry.participantsLeague = {};\n                        Object.keys(match.participants).forEach(tournamentId => {\n                          let participantPlayer = Object.entries(tournament.linkage).find(i => i[1] == tournamentId);\n                          if(participantPlayer){\n                            let participantPlayerGlobalId = this.props.allplayers[\"mapping\"][linkLeague+\":\"+participantPlayer[0]];\n                            matchEntry.participantsLeague[tournamentId] = this.props.allplayers[\"players\"][participantPlayerGlobalId];\n                            if(participantPlayer[1] != playerIdInTournament){\n                              matchEntry.opponent = matchEntry.participantsLeague[tournamentId];\n                              matchEntry.scoreOther = match.participants[tournamentId];\n                            } else {\n                              matchEntry.scoreMe = match.participants[tournamentId];\n                            }\n                          }\n                        })\n                        if(match.winner == playerIdInTournament){\n                          matchEntry.won = true;\n                        }\n                        if(Object.keys(matchEntry.participantsLeague).length == 2 && matchEntry.opponent &&\n                        matchEntry.scoreMe != -1 && matchEntry.scoreOther != -1){\n                          matchesPlayed.push(matchEntry);\n                        }\n                      }\n                    });\n                  }\n                }\n              }\n            })\n          }\n        });\n      }\n    }\n\n    console.log(\"Tournaments: \"+tournamentsWent.length);\n    console.log(\"Matches: \"+matchesPlayed.length)\n\n    matchesPlayed = matchesPlayed.sort((a, b) => {return b.tournamentTime - a.tournamentTime;})\n\n    // Stats\n    let stats = []\n    \n    if(this.player.ts){\n      stats.push({text: \"Global PowerRankings Power\", value: Math.round(this.player.ts * 160000000).toLocaleString(i18n.language)})\n    }\n    stats.push({text: \"Tournaments played\", value: tournamentsWent.length})\n    stats.push({text: \"Sets played\", value: matchesPlayed.length})\n\n    let wins = 0;\n    matchesPlayed.forEach((match) => {if(match.won) wins += 1;})\n    let winRate = wins/matchesPlayed.length*100;\n    if(!winRate) winRate = 0;\n    stats.push({\n      text: \"Win rate\",\n      value: winRate.toLocaleString(i18n.language, {minimumFractionDigits: 2,maximumFractionDigits: 2})+\"%\"\n    })\n\n    wins = 0;\n    matchesPlayed.slice(0, 50).forEach((match) => {if(match.won) wins += 1;})\n    winRate = wins/Math.min(matchesPlayed.length, 50)*100;\n    if(!winRate) winRate = 0;\n    stats.push({\n      text: \"Win rate (Last 50 sets)\",\n      value: winRate.toLocaleString(i18n.language, {minimumFractionDigits: 2,maximumFractionDigits: 2})+\"%\"\n    })\n\n    let rivals = {};\n    matchesPlayed.slice(0, 50).forEach((match)=>{\n      if(!rivals.hasOwnProperty(match.opponent.apid)){\n        rivals[match.opponent.apid] = {\n          apid: match.opponent.apid,\n          matches: 1,\n          wins: match.won ? 1 : 0\n        }\n      } else {\n        rivals[match.opponent.apid].matches += 1;\n        rivals[match.opponent.apid].wins += match.won ? 1 : 0;\n      }\n    })\n    rivals = Object.values(rivals).sort((a, b) => a.matches - b.matches);\n\n    console.log(rivals)\n    \n    let rival = null;\n\n    for(let i=0; i<rivals.length; i++){\n      console.log(rivals[i].wins/rivals[i].matches)\n      if(rivals[i].matches >= 3 &&\n        rivals[i].wins/rivals[i].matches <= .60) {\n        rival = this.props.allplayers[\"players\"][rivals[i].apid]\n        break;\n      }\n    }\n\n    if(rival){\n      stats.push({text: \"Rival\", value: (rival.org ? rival.org+\" \" : \"\") + rival.name})\n    }\n\n    // Achievements\n\n    //No of tournaments went\n    if(tournamentsWent.length >= 75){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-pro\"),\n        \"description\": i18n.t(\"achievement-pro-desc\"),\n        \"icon\": \"competitor5.svg\"\n      });\n    }\n    else if(tournamentsWent.length >= 50){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-veteran\"),\n        \"description\": i18n.t(\"achievement-veteran-desc\"),\n        \"icon\": \"competitor4.svg\"\n      });\n    }\n    else if(tournamentsWent.length >= 35){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-tryhard\"),\n        \"description\": i18n.t(\"achievement-tryhard-desc\"),\n        \"icon\": \"competitor3.svg\"\n      });\n    }\n    else if(tournamentsWent.length >= 20){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-competitor\"),\n        \"description\": i18n.t(\"achievement-competitor-desc\"),\n        \"icon\": \"competitor2.svg\"\n      });\n    }\n    else if(tournamentsWent.length >= 10){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-challenger\"),\n        \"description\": i18n.t(\"achievement-challenger-desc\"),\n        \"icon\": \"competitor1.svg\"\n      });\n    }\n    else if(tournamentsWent.length >= 1){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-beginner\"),\n        \"description\": i18n.t(\"achievement-beginner-desc\"),\n        \"icon\": \"competitor0.svg\"\n      });\n    }\n\n    // Tournaments won\n    let tournamentsWon = 0;\n    let bestPlacing = Infinity;\n\n    tournamentsWent.some(tournament=>{\n      if(Number.parseInt(tournament.ranking) == 1){\n        tournamentsWon += 1;\n      }\n      if(Number.parseInt(tournament.ranking) < bestPlacing){\n        bestPlacing = Number.parseInt(tournament.ranking);\n      }\n    })\n\n    if(tournamentsWon > 0){\n      if(tournamentsWon < 5){\n        achievements.push({\n          \"name\": i18n.t(\"achievement-winner\"),\n          \"description\": i18n.t(\"achievement-winner-desc\"),\n          \"icon\": \"champion1.svg\"\n        });\n      } else if(tournamentsWon < 10){\n        achievements.push({\n          \"name\": i18n.t(\"achievement-champion\"),\n          \"description\": i18n.t(\"achievement-champion-desc\"),\n          \"icon\": \"champion2.svg\"\n        });\n      } else {\n        achievements.push({\n          \"name\": i18n.t(\"achievement-elite\"),\n          \"description\": i18n.t(\"achievement-elite-desc\"),\n          \"icon\": \"champion3.svg\"\n        });\n      }\n    } else {\n      if(bestPlacing == 2){\n        achievements.push({\n          \"name\": i18n.t(\"achievement-nexttime\"),\n          \"description\": i18n.t(\"achievement-nexttime-desc\"),\n          \"icon\": \"2nd.svg\"\n        });\n      } else if(bestPlacing == 3){\n        achievements.push({\n          \"name\": i18n.t(\"achievement-almostthere\"),\n          \"description\": i18n.t(\"achievement-almostthere-desc\"),\n          \"icon\": \"3rd.svg\"\n        });\n      } else if(bestPlacing < 8){\n        achievements.push({\n          \"name\": i18n.t(\"achievement-goodrun\"),\n          \"description\": i18n.t(\"achievement-goodrun-desc\"),\n          \"icon\": \"top8.svg\"\n        });\n      }\n    }\n\n    // Traveler\n    let offlineNonBrStates = [];\n\n    tournamentsWent.some(tournament=>{\n      if(tournament.state != \"wifi\" && tournament.state != \"BR\"){\n        if(!offlineNonBrStates.includes(tournament.state)){\n          offlineNonBrStates.push(tournament.state);\n        }\n      }\n    })\n\n    console.log(offlineNonBrStates)\n\n    if(offlineNonBrStates.length > 1){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-traveler\"),\n        \"description\": i18n.t(\"achievement-traveler-desc\"),\n        \"icon\": \"traveler.svg\"\n      });\n    }\n\n    // Wifiwarrior\n    let wifiTournamentsWent = 0;\n\n    tournamentsWent.some(tournament=>{\n      let league = this.props.leagues.find(element => element.id == tournament.league);\n      if(league.wifi){\n        wifiTournamentsWent += 1;\n      }\n    })\n\n    if(wifiTournamentsWent >= 50){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-lanwarrior\"),\n        \"description\": i18n.t(\"achievement-lanwarrior-desc\"),\n        \"icon\": \"wifiwarrior3.svg\"\n      });\n    } else if(wifiTournamentsWent >= 25){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-elitesmash\"),\n        \"description\": i18n.t(\"achievement-elitesmash-desc\"),\n        \"icon\": \"wifiwarrior2.svg\"\n      });\n    } else if(wifiTournamentsWent >= 15){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-wifiwarrior\"),\n        \"description\": i18n.t(\"achievement-wifiwarrior-desc\"),\n        \"icon\": \"wifiwarrior1.svg\"\n      });\n    } else if(wifiTournamentsWent >= 1){\n      achievements.push({\n        \"name\": i18n.t(\"achievement-quickplayer\"),\n        \"description\": i18n.t(\"achievement-quickplayer-desc\"),\n        \"icon\": \"wifiwarrior0.svg\"\n      });\n    }\n\n    // Character specialist\n    if(this.player.bestPlayerCharacter && this.props.leagues){\n      let leagues_best = []\n      let character = []\n      Object.entries(this.player.bestPlayerCharacter).forEach(entry=>{\n        let league = this.props.leagues.find(element => element.id == entry[0]);\n        if(league){\n          leagues_best.push(league.name)\n          character = entry\n        }\n      })\n      if(leagues_best.length > 0){\n        achievements.push({\n          \"name\": i18n.t(\"achievement-specialist\"),\n          \"description\": i18n.t(\"achievement-specialist-desc\")+\" \"+character[1][0]+\" (\"+leagues_best.join(\", \")+\")\",\n          \"icon\": \"bestplayercharacter.svg\",\n          \"icon_middle\": GetCharacterCodename(this.props.game, character[1][1])+\"_00\"\n        });\n      }\n    }\n\n    console.log(achievements);\n\n    this.state.exp = 0;\n    \n    tournamentsWent.forEach(tournament => {\n      this.state.exp += tournament.player_number + 5 * (1 - tournament.ranking/tournament.player_number);\n    });\n\n    matchesPlayed.forEach(match => {\n      this.state.exp += 8 * (1 + (match.won ? 0.4 : 0));\n    })\n\n    let level = Math.cbrt(this.state.exp * 5);\n    console.log(level);\n\n    //stats.push({text: \"Player Level\", value: level.toLocaleString(i18n.language)})\n\n    this.state.playerData = this.player;\n    this.state.tournaments = tournamentsWent.sort((a, b) => b.time - a.time);\n    this.state.matches = matchesPlayed;\n    this.state.stats = stats;\n    this.state.achievements = achievements;\n\n    console.log(this.state.level)\n\n    this.setState(this.state);\n  }\n\n  getTwitterHandle(twitter){\n    let parts = twitter.split('/');\n    return parts[parts.length-1];\n  }\n\n  open(){\n    window.jQuery(\"#playerModal\").modal(\"toggle\");\n  }\n\n  closeModal(){\n    window.jQuery(\"#playerModal\").modal(\"toggle\");\n  }\n\n  getCharCodename(playerData, id){\n    let skin = 0;\n\n    if(playerData.hasOwnProperty(\"skins\")){\n      skin = playerData[\"skins\"][playerData[\"mains\"][id]];\n      if(skin == undefined){\n        skin = 0;\n      }\n    }\n    \n    return GetCharacterCodename(this.props.game, playerData[\"mains\"][id])+\"_0\"+skin;\n  }\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"\");\n  }\n\n  render (){\n    const { theme } = this.props;\n    const { classes } = this.props;\n\n    return(\n      <Dialog\n        fullWidth={true}\n        maxWidth={\"md\"}\n        keepMounted={true}\n        open={this.state.open}\n        scroll=\"body\"\n        classes={{paper: classes.dialogRoot}}\n        onClose={()=>{this.setState({open: false}); this.props.closeModal()}}\n      >\n        <DialogTitle style={{padding: 8, textAlign: \"right\"}}>\n          <IconButton style={{width: \"50px\"}} onClick={()=>{this.setState({open: false}); this.props.closeModal()}}>\n            \n          </IconButton>\n        </DialogTitle>\n        <DialogContent style={{padding: 0}}>\n          {this.state.playerData ?\n              <Box>\n                <Box style={{\n                  minHeight: \"128px\", display: \"flex\", alignItems: \"center\", position: \"relative\",overflow: \"hidden\",\n                  paddingTop: 10, paddingBottom: 10\n                }}>\n                  <div style={{backgroundImage: `url(${process.env.PUBLIC_URL}/images/bg_diagonal.webp)`, overflow: \"hidden\",\n                  position: \"absolute\", width: \"100%\", height: \"100%\", backgroundSize: \"6px 6px\", opacity: \".6\"}}></div>\n\n                  {\n                    this.state.playerData.avatars && this.state.playerData.avatars.length > 0 ?\n                      <div style={{zIndex: 1}}>\n                        <div className={styles.avatar} style={{backgroundImage: \"url(\"+this.state.playerData.avatars.join(\"), url(\")+\")\"}}>\n                        </div>\n                      </div>\n                  :\n                    null\n                  }\n\n                  <div style={{zIndex: 1, flexGrow: 1, marginLeft: \"10px\"}}>\n                    <h3 className={styles.playerTag} style={{color: \"white\"}}>\n                      <b style={{color: theme.palette.secondary.main}}>{this.state.playerData.org} </b>\n\n                      {this.state.playerData.name}\n\n                      {this.state.playerData.country_code && this.state.playerData.country_code != \"null\" ?\n                        <div className={styles.stateFlag + \" state-flag\"} style={{\n                          backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/country_flag/${this.state.playerData.country_code.toLowerCase()}.png)`,\n                          width: \"32px\", height: \"32px\", display: \"inline-block\", backgroundSize: \"contain\", backgroundRepeat: \"no-repeat\",\n                          backgroundPosition: \"center\", paddingTop: \"22px\", marginLeft: \"10px\", textAlign: \"center\", verticalAlign: \"bottom\"\n                        }}></div>\n                      :\n                        null\n                      }\n\n                      {this.state.playerData.state && this.state.playerData.state != \"null\" ?\n                        <div className={styles.stateFlag + \" state-flag\"} style={{\n                          backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/state_flag/${this.state.playerData.country_code}/${this.state.playerData.state}.png)`,\n                          width: \"32px\", height: \"32px\", display: \"inline-block\", backgroundSize: \"contain\", backgroundRepeat: \"no-repeat\",\n                          backgroundPosition: \"center\", paddingTop: \"22px\", marginLeft: \"10px\", textAlign: \"center\", verticalAlign: \"bottom\"\n                        }}></div>\n                      :\n                        null\n                      }\n                    </h3>\n\n                    {this.state.playerData.full_name?\n                      <div className={styles.fullName}>{this.state.playerData.full_name}</div>\n                    :\n                      null\n                    }\n\n                    {this.state.playerData.city ? \n                      <div className={styles.tttag} style={{color: \"white\", fontSize: \".8rem\"}}>\n                        <div className={styles.ttlogo} style={{\n                          backgroundImage: \"url(/icons/location.svg)\", width: 16, height: 16, bottom: 0, right: 0,\n                          display: \"inline-block\", verticalAlign: \"bottom\", marginRight: \"6px\", backgroundSize: \"cover\"\n                        }}>\n                        </div>\n                        {this.state.playerData.city}{\" - \"}{this.state.playerData.country}\n                      </div>\n                      :\n                      null}\n                    \n                    {this.state.playerData.smashgg_slug ? \n                      <div className={styles.tttag} style={{color: \"white\", fontSize: \".8rem\"}}>\n                        <div className={styles.ttlogo} style={{\n                          backgroundImage: \"url(/icons/smashgg.svg)\", width: 16, height: 16, bottom: 0, right: 0,\n                          display: \"inline-block\", verticalAlign: \"bottom\", marginRight: \"6px\", backgroundSize: \"cover\",\n                          borderRadius: \"100%\"\n                        }}>\n                        </div>\n                        <a href={\"http://smash.gg/\"+this.state.playerData.smashgg_slug} target=\"_blank\">\n                          {this.state.playerData.smashgg_slug}\n                        </a>\n                      </div>\n                      :\n                      null}\n\n                    {this.state.playerData.twitter ? \n                      <div className={styles.tttag} style={{color: \"white\", fontSize: \".8rem\"}}>\n                        <div className={styles.ttlogo} style={{\n                          backgroundImage: \"url(/icons/twitter.svg)\", width: 16, height: 16, bottom: 0, right: 0,\n                          display: \"inline-block\", verticalAlign: \"bottom\", marginRight: \"6px\", backgroundSize: \"cover\"\n                        }}>\n                        </div>\n                        <a href={\"http://twitter.com/\"+this.getTwitterHandle(this.state.playerData.twitter)} target=\"_blank\">\n                          {this.getTwitterHandle(this.state.playerData.twitter)}\n                        </a>\n                      </div>\n                      :\n                      null}\n\n                    {this.state.playerData.twitch ? \n                      <div className={styles.tttag} style={{color: \"white\", fontSize: \".8rem\"}}>\n                        <div className={styles.ttlogo} style={{\n                          backgroundImage: \"url(/icons/twitch.svg)\", width: 16, height: 16, bottom: 0, right: 0,\n                          display: \"inline-block\", verticalAlign: \"bottom\", marginRight: \"6px\", backgroundSize: \"cover\"\n                        }}>\n                        </div>\n                        <a href={\"http://twitch.tv/\"+this.state.playerData.twitch} target=\"_blank\">\n                          {this.state.playerData.twitch}\n                        </a>\n                      </div>\n                      :\n                      null}\n\n                    {this.state.playerData.discord ? \n                      <div className={styles.tttag} style={{color: \"white\", fontSize: \".8rem\"}}>\n                        <div className={styles.ttlogo} style={{\n                          backgroundImage: \"url(/icons/discord.svg)\", width: 16, height: 16, bottom: 0, right: 0,\n                          display: \"inline-block\", verticalAlign: \"bottom\", marginRight: \"6px\", backgroundSize: \"cover\"\n                        }}>\n                        </div>\n                        {this.state.playerData.discord}\n                      </div>\n                      :\n                      null}\n                  </div>\n\n                  <div className={styles.characterMain} style={{\n                    marginRight: \"12px\", marginTop: \"-10px\", marginBottom: \"-10px\",\n                    backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_1_${this.getCharCodename(this.state.playerData, 0)}.png)`,\n                    right: 0, flexGrow: 0, flexShrink: 0, height: \"auto\", alignSelf: \"normal\",\n                    backgroundColor: theme.palette.background.default\n                  }}>\n                  </div>\n                  <div style={{\n                    position: \"absolute\", right: \"14px\", zIndex: 9, bottom: \"2px\",\n                    filter: \"drop-shadow(black 2px 2px 0px)\", display: \"flex\"\n                  }}>\n                    {this.state.playerData.mains.slice(1).map((main, i)=>(\n                        <div class=\"\" style={{\n                          backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${this.getCharCodename(this.state.playerData, i+1)}.png)`,\n                          width: \"24px\", height: \"24px\", backgroundPosition: \"center\", backgroundSize: \"cover\",\n                          flexGrow: 0, display: \"flex\", flexShrink: 1\n                        }}></div>\n                      ))}\n                  </div>\n                </Box>\n\n                {this.state.achievements && this.state.achievements.length > 0 ?\n                  <Box>\n                    <Typography style={{padding: 12}} variant=\"h6\" component=\"h3\">\n                      Achievements\n                    </Typography>\n                    <Box\n                      style={{\n                        padding: \"12px\", margin: 0, display: \"flex\", flexWrap: \"wrap\",\n                        justifyContent: \"center\", backgroundColor: theme.palette.background.default\n                      }}\n                    >\n                      {this.state.achievements.map((achievement, i)=>(\n                        <a key={this.state.playerData.name+i} style={{width: 72, textAlign: \"center\", display: \"flex\",\n                        flexDirection: \"column\", alignItems: \"center\", placeContent: \"center\"}}\n                        data-toggle=\"tooltip\" data-placement=\"top\" title={achievement.description}>\n                          <div style={{\n                            width: 42, height: 42, backgroundSize: \"cover\", backgroundRepeat: \"none\",\n                            marginLeft: 6, marginRight: 6,\n                            backgroundImage: `url(${process.env.PUBLIC_URL}/icons/achievements/${achievement.icon})`,\n                            display: \"flex\", alignItems: \"center\", justifyContent: \"center\"\n                          }}>\n                            {achievement.icon_middle ?\n                              <div style={{\n                                width: 20, height: 20, backgroundSize: \"contain\",\n                                backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${achievement.icon_middle}.png)`,\n                                filter: \"grayscale(100%) brightness(80%) sepia(100%) hue-rotate(5deg) saturate(500%) contrast(.9)\"\n                              }}></div>\n                              :\n                              null\n                            }\n                          </div>\n                          <small style={{textAlign: \"center\"}}>{achievement.name}</small>\n                        </a>\n                      ))}\n                    </Box>\n                  </Box>\n                  :\n                  null\n                }\n              \n                {this.state.playerData.rank && Object.keys(this.state.playerData.rank).length > 0 ?\n                  <Box>\n                    <Typography style={{padding: 12}} variant=\"h6\" component=\"h3\">\n                      {i18n.t(\"leagues\")}\n                    </Typography>\n                    <Grid container style={{padding: 12, backgroundColor: theme.palette.background.default}}>\n                      {Object.entries(this.state.playerData.rank).sort((a, b)=>{return a[1].rank-b[1].rank}).map((rank, i)=>(\n                        <Grid item xs lg={4} md={6} style={{padding: \"2px\"}} id={i}>\n                          {this.props.leagues ?\n                            <Link \n                              to={`/${this.props.game}/leagues/${rank[0]}`}\n                              onClick={()=>{this.setState({open: false}); this.props.closeModal()}}\n                              style={{display: \"flex\"}}>\n                                <div style={{width: \"42px\", textAlign: \"center\", fontSize: \"1.5rem\",\n                                backgroundColor: \"lightgray\", display: \"flex\", flexShrink: 0, color: \"black\"}}>\n                                  <div style={{alignSelf: \"center\", width: \"100%\"}}>\n                                    {rank[1].rank}\n                                  </div>\n                                </div>\n                                <div style={{\n                                  width: \"48px\", height: \"48px\", display: \"inline-block\", backgroundSize: \"cover\", backgroundPosition: \"center\",\n                                  flexShrink: 0,\n                                  backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/games/${this.props.game}/league_icon/${rank[0]}.png)`}}></div>\n                                <div style={{display: \"flex\", flexDirection: \"column\", overflow: \"hidden\", width: \"100%\", backgroundColor: \"lightgray\"}}>\n                                  <div style={{paddingLeft: \"5px\", textOverflow: \"ellipsis\", fontSize: \"0.8rem\", \n                                  whiteSpace: \"nowrap\", overflow: \"hidden\", backgroundColor: \"gray\", color: \"white\"}}>\n                                    {this.props.leagues.find(element => element.id == rank[0]).name}\n                                  </div>\n                                  <div style={{paddingLeft: \"5px\", color: \"black\", flexGrow: 1, fontSize: \"1.2rem\"}}>\n                                    {rank[1].score} pts.\n                                  </div>\n                                </div>\n                            </Link>\n                          :\n                            <div>{Object.keys(this.state.playerData.rank)[i]}</div>\n                          }\n                        </Grid>\n                      ))}\n                    </Grid>\n                  </Box>\n                  :\n                  null\n                }\n\n                {this.state.stats && this.state.stats.length > 0 ?\n                  <Box>\n                    <Typography style={{padding: 12}} variant=\"h6\" component=\"h3\">\n                      Stats\n                    </Typography>\n                    <Box\n                      style={{\n                        padding: \"12px\", margin: 0, justifyContent: \"center\",\n                        backgroundColor: theme.palette.background.default\n                      }}\n                    >\n                      {this.state.stats.map(stat => (\n                        <Box style={{\n                          display: \"flex\", backgroundColor: \"white\", borderRadius: \"20px\",\n                          padding: 0, overflow: \"hidden\", marginTop: \"3px\", marginBottom: \"3px\",\n                          height: \"40px\", whiteSpace: \"nowrap\"\n                        }}>\n                          <div style={{\n                            flexGrow: 1, padding: \"8px 16px\", color: \"white\", textOverflow: \"ellipsis\",\n                            backgroundColor: \"gray\", flexShrink: 1, overflow: \"hidden\", display: \"flex\"\n                          }}>\n                            <div class={styles[\"stats-text\"]} style={{overflow: \"hidden\", textOverflow: \"ellipsis\", alignSelf: \"center\"}}>\n                              {stat.text}\n                            </div>\n                          </div>\n                          <div style={{\n                            width: \"16px\", backgroundColor: \"gray\",\n                            clipPath: \"polygon(0 0, 100% 0, 0% 100%, 0% 100%)\",\n                            flexShrink: 0,\n                            marginLeft: -1, marginTop: -1\n                          }}></div>\n                          <div class={styles[\"stats-text\"]} style={{\n                            padding: \"8px 16px\", backgroundColor: \"white\",\n                            color: \"black\", textAlign: \"right\", width: \"40%\",\n                            overflow: \"hidden\", textOverflow: \"ellipsis\", display: \"flex\",\n                            justifyContent: \"flex-end\"\n                          }}>\n                            <div class={styles[\"stats-text\"]} style={{overflow: \"hidden\", textOverflow: \"ellipsis\", alignSelf: \"center\"}}>\n                              {stat.value}\n                            </div>\n                          </div>\n                        </Box>\n                      ))}\n                    </Box>\n                  </Box>\n                  :\n                  null\n                }\n\n                {this.state.playerData.character_usage_percent &&\n                this.state.playerData.character_usage_percent.length > 0 ?\n                  <Box>\n                    <Typography style={{padding: 12}} variant=\"h6\" component=\"h3\">\n                      {i18n.t(\"char-usage-latest-30-sets\")}\n                    </Typography>\n                    <Box\n                      style={{\n                        padding: \"12px\", margin: 0, display: \"flex\",\n                        backgroundColor: theme.palette.background.default, flexWrap: \"wrap\",\n                        justifyContent: \"center\"\n                      }}\n                    >\n                      {this.state.playerData.character_usage_percent.map((character, i)=>(\n                        <a key={this.state.playerData.name+i} style={{textAlign: \"center\", display: \"flex\",\n                        flexDirection: \"column\", alignItems: \"center\", placeContent: \"center\"}}\n                        data-toggle=\"tooltip\" data-placement=\"top\">\n                          <div class=\"\" style={{\n                            backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${GetCharacterCodename(this.props.game, CHARACTERS_GG_TO_BRAACKET[character[0]])+\"_00\"}.png)`,\n                            width: \"24px\", height: \"24px\", backgroundPosition: \"center\", backgroundSize: \"cover\",\n                            flexGrow: 0, display: \"flex\", flexShrink: 1, margin: \"0 20px 0 20px\"\n                          }}></div>\n                          <small>{(100*character[1]).toFixed(2)}%</small>\n                        </a>\n                      ))}\n                    </Box>\n                  </Box>\n                  :\n                  null\n                }\n\n                {this.state.matches ?\n                  <Box>\n                    <Typography style={{padding: 12}} variant=\"h6\" component=\"h3\">\n                      {\"Sets played\"}\n                    </Typography>\n                    <TableContainer>\n                      <Table style={{backgroundColor: theme.palette.background.default}}>\n                        <TableHead>\n                          <TableRow>\n                            <TableCell></TableCell>\n                            <TableCell></TableCell>\n                            <TableCell scope=\"col\">Opponent</TableCell>\n                            <TableCell scope=\"col\">Tournament</TableCell>\n                            <TableCell scope=\"col\">{i18n.t(\"Date\")}</TableCell>\n                            <TableCell scope=\"col\" style={{textAlign: \"center\"}}>Score</TableCell>\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {\n                            (this.state.setsRowsPerPage > 0 ?\n                              this.state.matches.slice(\n                                this.state.setsPage * this.state.setsRowsPerPage,\n                                this.state.setsPage * this.state.setsRowsPerPage + this.state.setsRowsPerPage,\n                              )\n                              :\n                              this.state.matches\n                            ).map((match, i)=>(\n                              <TableRow id={i>=5? \"collapse2\" : \"\"} class={i>=5? \"collapse\" : \"\"}>\n                                <TableCell>\n                                  <b>\n                                    {match.won ?\n                                      \"W\" : \"L\"\n                                    }\n                                  </b>\n                                </TableCell>\n                                <TableCell>\n                                  {match.wifi ?\n                                    <span><FontAwesomeIcon icon={faWifi} /></span>\n                                    :\n                                    null\n                                  }\n                                </TableCell>\n                                <TableCell>{match.opponent.org ? match.opponent.org+\" \" : \"\"}{match.opponent.name}</TableCell>\n                                <TableCell>\n                                  <a target=\"_blank\" href={`https://braacket.com/tournament/${match.tournamentId}`} style={{color: \"white\", textDecoration: \"none\"}}>\n                                    {match.tournamentName}\n                                  </a>\n                                </TableCell>\n                                <TableCell>{i18n.t(\"date_format\", {date: moment.unix(match.tournamentTime).toDate()})}</TableCell>\n                                <TableCell style={{textAlign: \"center\"}}>{match.scoreMe} - {match.scoreOther}</TableCell>\n                              </TableRow>\n                            ))\n                          }\n                        </TableBody>\n                        <TableFooter>\n                          <TableRow>\n                            <TablePagination\n                              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n                              colSpan={9999}\n                              count={this.state.matches.length}\n                              rowsPerPage={this.state.setsRowsPerPage}\n                              page={this.state.setsPage}\n                              SelectProps={{\n                                inputProps: { 'aria-label': 'rows per page' }\n                              }}\n                              onChangePage={(event, page)=>{this.setState({setsPage: page})}}\n                              onChangeRowsPerPage={(event)=>{this.setState({setsRowsPerPage: parseInt(event.target.value, 10)})}}\n                              ActionsComponent={TablePaginationActions}\n                            />\n                          </TableRow>\n                        </TableFooter>\n                      </Table>\n                    </TableContainer>\n                  </Box>\n                  :\n                  null\n                }\n\n                {this.state.tournaments ?\n                  <Box>\n                    <Typography style={{padding: 12}} variant=\"h6\" component=\"h3\">\n                      {i18n.t(\"Tournaments\")}\n                    </Typography>\n                    <TableContainer>\n                      <Table style={{backgroundColor: theme.palette.background.default}}>\n                        <TableHead>\n                          <TableRow>\n                            <TableCell></TableCell>\n                            <TableCell></TableCell>\n                            <TableCell>{i18n.t(\"Name\")}</TableCell>\n                            <TableCell>{i18n.t(\"Date\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"Placing\")}</TableCell>\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {\n                            (this.state.tournamentsRowsPerPage > 0 ?\n                              this.state.tournaments.slice(\n                                this.state.tournamentsPage * this.state.tournamentsRowsPerPage,\n                                this.state.tournamentsPage * this.state.tournamentsRowsPerPage + this.state.tournamentsRowsPerPage,\n                              )\n                              :\n                              this.state.tournaments\n                            )\n                            .map((tournament, i)=>(\n                              <TableRow id={i>=5? \"collapse1\" : \"\"} class={i>=5? \"collapse\" : \"\"}>\n                                <TableCell>\n                                  {tournament.ranking == 1 ?\n                                    <span></span>\n                                    :\n                                    null\n                                  }\n                                  {tournament.ranking == 2 ?\n                                    <span></span>\n                                    :\n                                    null\n                                  }\n                                  {tournament.ranking == 3 ?\n                                    <span></span>\n                                    :\n                                    null\n                                  }\n                                </TableCell>\n                                <TableCell>\n                                  {tournament.state == \"wifi\" ?\n                                    <span><FontAwesomeIcon icon={faWifi} /></span>\n                                    :\n                                    <span>{tournament.state}</span>\n                                  }\n                                </TableCell>\n                                <TableCell><a target=\"_blank\" href={`https://braacket.com/tournament/${tournament.id}`} style={{color: \"white\", textDecoration: \"none\"}}>\n                                  {tournament.name}</a>\n                                </TableCell>\n                                <TableCell>{i18n.t(\"date_format\", {date: moment.unix(tournament.time).toDate()})}</TableCell>\n                                <TableCell align=\"center\">{tournament.ranking}<small>/{tournament.player_number}</small></TableCell>\n                              </TableRow>\n                            ))\n                          }\n                        </TableBody>\n                        <TableFooter>\n                          <TableRow>\n                            <TablePagination\n                              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n                              colSpan={9999}\n                              count={this.state.tournaments.length}\n                              rowsPerPage={this.state.tournamentsRowsPerPage}\n                              page={this.state.tournamentsPage}\n                              SelectProps={{\n                                inputProps: { 'aria-label': 'rows per page' }\n                              }}\n                              onChangePage={(event, page)=>{this.setState({tournamentsPage: page})}}\n                              onChangeRowsPerPage={(event)=>{this.setState({tournamentsRowsPerPage: parseInt(event.target.value, 10)})}}\n                              ActionsComponent={TablePaginationActions}\n                            />\n                          </TableRow>\n                        </TableFooter>\n                      </Table>\n                    </TableContainer>\n                  </Box>\n                  :\n                  null\n                }\n\n                {this.state.playerData.tournaments ?\n                  <row style={{display: \"block\", padding: \"12px\"}}>\n                    <h5>Ranking Brasileiro</h5>\n                    <table class=\"table table-striped table-sm\" style={{color: \"white\"}}>\n                      <thead>\n                        <tr>\n                          <th scope=\"col\">#</th>\n                          <th scope=\"col\">Nome</th>\n                          <th scope=\"col\">Tier</th>\n                          <th scope=\"col\">Colocao</th>\n                          <th scope=\"col\">Pontuao</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {\n                          this.state.playerData.tournaments.sort((a, b) => Number(b.name) - Number(a.name)).sort((a, b) => Number(b.points) - Number(a.points)).map((tournament, i)=>(\n                            <tr class={i<10? \"\" : \"text-muted\"}>\n                              <th scope=\"row\">{i+1}</th>\n                              <td>{tournament.name}</td>\n                              <td>{tournament.rank}</td>\n                              <td>{tournament.placing}</td>\n                              {i<10?\n                                <td><b>{tournament.points}</b></td>\n                                :\n                                <td>{tournament.points}</td>\n                              }\n                            </tr>\n                          ))\n                        }\n                      </tbody>\n                    </table>\n                  </row>\n                  :\n                  null\n                }\n              </Box>\n            :\n            <div class=\"loader\"></div>\n          }\n        </DialogContent>\n      </Dialog>\n    )\n  }\n};\n\nexport default withStyles(useStyles, {withTheme: true})(PlayerModal)","import React, { Component } from 'react'\nimport styles from './contacts.module.css'\nimport { Link, useParams, useLocation } from 'react-router-dom';\nimport LeagueSelector from './leagueselector';\nimport moment from \"../../node_modules/moment-timezone/moment-timezone\";\nimport {GetCharacterCodename, GetCharacterEyeHeight} from \"../globals\";\nimport LazyLoad from 'react-lazyload';\nimport { Grid, Paper, Box, Card, CardActionArea, Typography, BottomNavigation,\n  BottomNavigationAction, Container } from '@material-ui/core';\nimport PlayerElement from './playerElement';\nimport { useTheme, withStyles, withTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport PlayerModal from './playermodal';\nimport { PureComponent } from 'react';\n\nlet useStyles = (props) => ({\n  userNick: {\n      lineHeight: \"normal\",\n      [props.breakpoints.down(\"sm\")]: {\n          fontSize: 12\n      }\n  },\n  userName: {\n      [props.breakpoints.down(\"sm\")]: {\n          fontSize: 10\n      }\n  },\n  top3Outer: {\n    height: 240,\n    [props.breakpoints.down(\"sm\")]: {\n      height: 220\n    },\n    [props.breakpoints.up(\"lg\")]: {\n      height: 260\n    },\n    [props.breakpoints.up(\"xl\")]: {\n      height: 340\n    }\n  }\n});\n\nclass PlayerRanking extends PureComponent {\n  state = {\n    selectedLeague: 0,\n    players: [],\n    top3Colors: [\"#D6AF36\", \"#D7D7D7\", \"#A77044\"],\n    top3Colors2: [\"#AF9500\", \"#B4B4B4\", \"#6A3805\"],\n    top3Colors3: [\"#C9B037\", \"#A7A7AD\", \"#824A02\"],\n    pagination: 0\n  }\n\n  constructor() {\n    super();\n    this.playerModal = React.createRef();\n  }\n\n  componentDidMount() {\n    if(this.props.ranking){\n      this.state.players = this.props.ranking;\n    } else {\n      this.state.players = null;\n    }\n\n    if(this.props.updateTime){\n      this.state.updateTime = this.props.updateTime;\n    } else {\n      this.state.updateTime = null;\n    }\n\n    this.setState(this.state);\n  }\n\n  componentDidUpdate(prevProps){\n    if(this.props.ranking && this.props.ranking.length > 0){\n      console.log(this.props.match.params)\n      if(this.props.match.params[\"player_id\"] && this.playerModal.current.state.open == false){\n        console.log(this.props.match.params[\"player_id\"])\n\n        let div = document.getElementById(\"ranking_player_\"+this.props.ranking.findIndex((p)=>p.league_id == this.props.match.params[\"player_id\"]));\n        console.log(div)\n\n        if(div)\n          window.scrollTo({behavior: \"smooth\", top: div.offsetTop})\n\n        let p = this.props.ranking.find((p)=>p.league_id == this.props.match.params[\"player_id\"]);\n        console.log(p);\n\n        if(p)\n          this.playerModal.current.setState({open: true, player: p});\n      }\n\n      if(this.props.ranking != prevProps.ranking){\n        this.setState({pagination: 0});\n      }\n    }\n  }\n\n  getCharCodename(playerData, id){\n    let skin = 0;\n\n    if(playerData.hasOwnProperty(\"skins\")){\n      skin = playerData[\"skins\"][playerData[\"mains\"][id]];\n      if(skin == undefined){\n        skin = 0;\n      }\n    }\n    \n    return GetCharacterCodename(this.props.game, playerData[\"mains\"][id])+\"_0\"+skin;\n  }\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"\");\n  }\n\n  getTwitterHandle(twitter){\n    let parts = twitter.split('/');\n    return parts[parts.length-1];\n  }\n\n  normalizePlayerName(name){\n    return name.normalize(\"NFKD\").replace(/ /g, '_').replace(/@/g, \"_At_\").replace(/~/g, \"_Tilde_\").replace(RegExp('[^0-9a-zA-Z_-]'), '').replace(\"|\", \"\")\n  }\n\n  openPlayerModal(player){\n    window.history.replaceState(null, null,\n      '/'+this.props.game+'/leagues/'+this.props.match.params[\"id\"]+'/'+\n      this.props.match.params[\"tab\"]+\"/\"+player.league_id\n    );\n    \n    this.playerModal.current.setState({open: true, player: player});\n  }\n\n  closePlayerModal(){\n    window.history.replaceState(null, null,\n      '/'+this.props.game+'/leagues/'+this.props.match.params[\"id\"]+'/'+\n      this.props.match.params[\"tab\"]+\"/\"\n    );\n  }\n\n  render (){\n    const theme = this.props.theme;\n    const { classes } = this.props;\n\n    this.state.players = this.props.ranking;\n    this.state.updateTime = this.props.updateTime;\n\n    if((this.state.pagination+1)*50 <= this.state.players.length){\n      this.timeout = setTimeout(function(){\n        if(this){\n          this.setState({pagination: this.state.pagination+1});\n          this.timeout = null;\n        }\n      }.bind(this), 1000);\n    }\n\n    return(\n      <div>\n        {this.state.players && this.state.players.length > 0 ?\n          <Container maxWidth=\"lg\" disableGutters>\n            <Grid container>\n              {this.state.players.slice(0,3).map((player, i) => (\n                <Grid item lg={4} md={4} sm={4} xs={12} style={{padding: \"2px\", overflow: \"hidden\"}}>\n                  <Card style={{\n                    position: \"relative\", overflow: \"hidden\", backgroundColor: this.state.top3Colors[i]\n                  }}>\n                    <CardActionArea\n                      onClick={()=>this.openPlayerModal(player)}\n                      dataToggle=\"modal\"\n                      data-target=\"#playerModal\"\n                      key={this.state.selectedLeague+'_'+i}\n                      id={\"ranking_player_\"+i}\n                      className={classes.top3Outer}\n                      style={{\n                        position: \"relative\", overflow: \"hidden\", textAlign: \"center\"\n                      }}>\n                      <div style={{\n                        backgroundColor: this.state.top3Colors2[i], position: \"absolute\",\n                        top: 0, bottom: 0, left: 0, right: 0,\n                        clipPath: \"polygon(0 0, 0% 100%, 100% 100%)\"\n                      }}></div>\n                      <div style={{\n                        backgroundColor: this.state.top3Colors3[i], position: \"absolute\",\n                        top: 0, bottom: 0, left: 0, right: 0,\n                        clipPath: \"polygon(0 60%, 0% 100%, 100% 100%)\"\n                      }}></div>\n                      <div style={{\n                        backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_1_${this.getCharCodename(player, 0)}.png)`, display: \"flex\",\n                        width: \"calc(100% + 10px)\", height: \"calc(100% + 10px)\", backgroundPosition: \"center\", backgroundSize: \"cover\",\n                        filter: \"drop-shadow(10px 10px 0px #000000AF)\", marginLeft: \"-10px\", marginTop: \"-10px\"\n                      }}></div>\n                    \n                      <div style={{\n                        backgroundColor: theme.palette.background.paper,\n                        alignItems: \"center\", display: \"flex\", flexDirection: \"column\",\n                        height: \"60px\", position: \"absolute\", left: \"0px\", right: \"0px\", bottom: 0, justifyContent: \"center\",\n                        paddingLeft: \"10px\", paddingRight: \"10px\"\n                      }}>\n                        <Box display=\"flex\" justifyContent=\"center\" noWrap>\n                          {player.org ?\n                            <Typography noWrap variant=\"h6\" color=\"secondary\" className={classes.userNick}>{player.org}&nbsp;</Typography>\n                            :\n                            null\n                          }\n                          <Typography noWrap variant=\"h6\" color=\"textPrimary\" className={classes.userNick}>{player.name}</Typography>\n                        </Box>\n                        <Typography noWrap variant=\"body2\" color=\"textSecondary\" className={classes.userName} style={{lineHeight: \"normal\"}}>\n                          {player.full_name}\n                        </Typography>\n                      </div>\n\n                      <div style={{\n                        width: \"200px\", height: \"200px\", position: \"absolute\", \n                        backgroundColor: theme.palette.background.paper, top: -110, left: -110,\n                        transform: \"rotate(-45deg)\"\n                      }}>\n                      </div>\n                      <div style={{\n                        width: \"100px\", height: \"100px\", position: \"absolute\", top: 0\n                      }}>\n                        <div style={{\n                          width: 100, height: 100, backgroundImage: `url(${process.env.PUBLIC_URL}/icons/rank${i+1}.png)`,\n                          backgroundSize: \"cover\", position: \"absolute\"\n                        }}></div>\n                      </div>\n\n                      <div style={{\n                        position: \"absolute\", left: \"0px\", right: \"0px\", bottom: \"60px\",\n                        color: \"white\", display: \"flex\", whiteSpace: \"nowrap\", lineHeight: \"32px\"\n                      }}>\n                        <div style={{\n                          display: \"flex\", flexGrow: 1, flexWrap: \"wrap\", alignSelf: \"flex-end\",\n                          padding: \"10px\", filter: \"drop-shadow(2px 2px 0px black)\",\n                        }}>\n                          {player.mains.length > 0 ?\n                            player.mains.slice(1).map((main, i)=>(\n                              <div style={{\n                                backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${this.getCharCodename(player, i+1)}.png)`,\n                                width: \"32px\", height: \"32px\", backgroundPosition: \"center\", backgroundSize: \"cover\",\n                                flexGrow: 0, display: \"inline-block\"\n                              }}></div>\n                            ))\n                            :\n                            null\n                          }\n                        </div>\n                        <div style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"flex-end\"}}>\n                          <div style={{\n                            display: \"flex\", justifyContent: \"flex-end\",\n                            filter: \"drop-shadow(0px 0px 2px black)\"\n                          }}>\n                            {player.country_code && player.country_code != \"null\" ?\n                            <div class=\"\" style={{\n                              width: \"48px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", padding: \"8px\", alignSelf: \"flex-end\"\n                            }}>\n                              <div class=\"flag\" style={{\n                                backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/country_flag/${player.country_code.toLowerCase()}.png)`\n                              }}><span>{player.country_code}</span></div>\n                            </div>\n                            :\n                            null\n                          }\n                          {player.state && player.state != \"null\" ?\n                            <div class=\"\" style={{\n                              width: \"48px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", padding: \"8px\", alignSelf: \"flex-end\"\n                            }}>\n                              <div class=\"flag\" style={{\n                                backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/state_flag/${player.country_code}/${player.state}.png)`\n                              }}><span>{player.state}</span></div>\n                            </div>\n                            :\n                            null\n                          }\n                          </div>\n                          <div style={{\n                            fontSize: \"1.2rem\", backgroundColor: \"black\", color: \"white\", textAlign: \"right\",\n                            alignSelf: \"flex-end\", padding: \"6px\", paddingTop: \"2px\", paddingBottom: \"2px\"\n                          }}>\n                            {player.score} pts.\n                          </div>\n                        </div>\n                      </div>\n\n                      {player.avatars && player.avatars.length > 0 ?\n                        <div style={{\n                          backgroundImage: \"url(\"+player.avatars.join(\"), url(\")+\")\",\n                          width: \"80px\", height: \"80px\", backgroundSize: \"cover\", backgroundPosition: \"center\",\n                          borderRadius: \"100%\", position: \"absolute\", right: 10, top: 10, border: \"2px #f0f0f0 solid\",\n                          backgroundColor: \"gray\"\n                        }}>\n                        </div>\n                      :\n                        null\n                      }\n                    </CardActionArea>\n                  </Card>\n                </Grid>\n              ))}\n            </Grid>\n\n            <Grid container>\n                {this.state.players.slice(3, (this.state.pagination+1) * 50).map((player, i)=>(\n                  <PlayerElement game={this.props.game} player={player} onClick={()=>this.openPlayerModal(player)} />\n                ))}\n            </Grid>\n            {console.log(\"rerender\")}\n\n            <div style={{textAlign: \"right\", color: \"white\"}}>\n              <div class=\"col-12\" style={{padding: \"0 0px\"}}>\n                Dados atualizados em: {moment(this.state.updateTime).subtract(3, \"hours\").format(\"DD/MM/YY HH:mm\") + \" (GMT-3)\"}\n              </div>\n            </div>\n          </Container>\n          :\n            this.state.updateTime ?\n              <div class={\"col-12\"} style={{paddingTop: 10}}>\n                <div class={styles.listItem} style={{padding: \"10px 10px\", lineHeight: \"24px\", height: \"auto\"}}>\n                  No foi encontrado ranking para esta liga no Braacket. Para soluo de problemas, entre em contato com os TOs da sua regio.\n                </div>\n              </div>\n            :\n            <div class=\"loader\"></div>\n        }\n        <PlayerModal game={this.props.game} ref={this.playerModal} open={this.state.playerModalOpened} closeModal={this.closePlayerModal.bind(this)} leagues={this.props.contacts} allplayers={this.props.allplayers} alltournaments={this.props.alltournaments} history={this.props.history} />\n      </div>\n    )\n  }\n};\n\nexport default withTheme(withStyles(useStyles)(PlayerRanking))","import React, { Component } from 'react'\n\nimport L from '../../node_modules/leaflet/dist/leaflet'\nimport LeafletAjax from '../../node_modules/leaflet-ajax/dist/leaflet.ajax'\n\nimport styles from './statistics.module.css'\nimport Chart from '../../node_modules/chart.js/dist/Chart'\n\nimport i18n from '../locales/i18n';\n\nimport { GetCharacterCodename } from '../globals'\n\nimport { Paper, Box, Typography, withStyles, Divider, makeStyles, Icon } from '@material-ui/core'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nlet useStyles = (theme) => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n});\n\nclass Statistics extends Component {\n  state = {\n    statistics: null\n  }\n\n  colorValues = [\n    \"#FF0000\", \"#00FF00\", \"#0000FF\", \"#FFFF00\", \"#FF00FF\", \"#00FFFF\", \"#000000\", \n    \"#800000\", \"#008000\", \"#000080\", \"#808000\", \"#800080\", \"#008080\", \"#808080\", \n    \"#C00000\", \"#00C000\", \"#0000C0\", \"#C0C000\", \"#C000C0\", \"#00C0C0\", \"#C0C0C0\", \n    \"#400000\", \"#004000\", \"#000040\", \"#404000\", \"#400040\", \"#004040\", \"#404040\", \n    \"#200000\", \"#002000\", \"#000020\", \"#202000\", \"#200020\", \"#002020\", \"#202020\", \n    \"#600000\", \"#006000\", \"#000060\", \"#606000\", \"#600060\", \"#006060\", \"#606060\", \n    \"#A00000\", \"#00A000\", \"#0000A0\", \"#A0A000\", \"#A000A0\", \"#00A0A0\", \"#A0A0A0\", \n    \"#E00000\", \"#00E000\", \"#0000E0\", \"#E0E000\", \"#E000E0\", \"#00E0E0\", \"#E0E0E0\", \n  ];\n\n  chartRef = React.createRef();\n  chartSecondaryRef = React.createRef();\n  chartStatesRef = React.createRef();\n  chartCountriesRef = React.createRef();\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"\");\n  }\n\n  componentDidMount() {\n    if(this.props.statistics && this.state.statistics == null){\n      let data = {}\n      Object.assign(data, this.props.statistics);\n\n      console.log(data)\n\n      // char usage\n      let chars = []\n      let chars_secondary = []\n\n      Object.keys(data[\"char_usage\"]).forEach(char => {\n        let obj = {\n          name: char,\n          usage: data[\"char_usage\"][char][\"usage\"],\n          icon: data[\"char_usage\"][char][\"name\"]\n        }\n        chars.push(obj);\n        let obj2 = {\n          name: char,\n          usage_secondary: data[\"char_usage\"][char][\"secondary\"],\n          icon: data[\"char_usage\"][char][\"name\"]\n        }\n        chars_secondary.push(obj2);\n      });\n\n      data[\"char_usage\"] = chars;\n      data[\"char_usage_secondary\"] = chars_secondary;\n\n      data[\"char_usage\"].sort(function(a, b) {\n        return b.usage - a.usage;\n      });\n\n      data[\"char_usage_secondary\"].sort(function(a, b) {\n        return b.usage_secondary - a.usage_secondary;\n      });\n\n      data[\"usage_labels\"] = []\n      data[\"usage_values\"] = []\n      data[\"usage_icon\"] = []\n\n      data[\"char_usage\"].forEach((chara) => {\n        data[\"usage_labels\"].push(chara.name);\n        data[\"usage_values\"].push(chara.usage);\n        data[\"usage_icon\"].push(chara.icon);\n      })\n\n      data[\"secondary_labels\"] = []\n      data[\"secondary_values\"] = []\n      data[\"secondary_icon\"] = []\n\n      data[\"char_usage_secondary\"].forEach((chara) => {\n        data[\"secondary_labels\"].push(chara.name);\n        data[\"secondary_values\"].push(chara.usage_secondary);\n        data[\"secondary_icon\"].push(chara.icon);\n      })\n\n      if(\"players_per_league\" in data){\n        data[\"players_per_league\"] = Object.entries(data[\"players_per_league\"])\n        data[\"players_per_league\"].sort(function(a, b) {\n          return b[1] - a[1];\n        });\n      }\n\n      if(\"players_per_country\" in data){\n        if(data[\"players_per_country\"][\"null\"]){delete data[\"players_per_country\"][\"null\"]}\n        data[\"players_per_country\"] = Object.entries(data[\"players_per_country\"])\n\n        data[\"players_per_country\"].sort(function(a, b) {\n          return b[1] - a[1];\n        });\n      }\n\n      if(\"players_per_state\" in data){\n        if(data[\"players_per_state\"][\"null\"]){delete data[\"players_per_state\"][\"null\"]}\n        data[\"players_per_state\"] = Object.entries(data[\"players_per_state\"])\n\n        console.log(data[\"players_per_state\"])\n\n        data[\"players_per_state\"].sort(function(a, b) {\n          return b[1] - a[1];\n        });\n      }\n\n      console.log(data)\n\n      this.setState({statistics: data}, ()=>{\n        this.UpdateCharts();\n      })\n\n    }\n  }\n\n  componentWillUnmount(){\n    //this.state.statistics = null;\n  }\n\n  UpdateCharts() {\n    //if(this.chartRef == null) return;\n    //if(this.chartRef.current == null) return;\n    if(this.state.statistics == null) return;\n    //if(this.myChartRef != null) return;\n\n    console.log(\"a\")\n\n    if(this.originalBarController == null)\n      this.originalBarController = Chart.controllers.bar;\n    let originalBarController = this.originalBarController;\n\n    // Character Usage Chart\n    this.myChartRef = this.chartRef.current.getContext(\"2d\");\n\n    console.log(this.myChartRef);\n\n    if(this.myChartRef){\n      console.log(\"b\")\n      var chartData = {\n        maintainAspectRatio: false,\n        \"labels\": this.state.statistics[\"usage_labels\"],\n        \"datasets\": [{\n          \"data\": this.state.statistics[\"usage_values\"],\n          \"fill\": false,\n          \"backgroundColor\": \"rgba(255, 183, 0, 1)\",\n          \"borderWidth\": 0\n        }],\n        \"icons\": this.state.statistics[\"usage_icon\"]\n      };\n      \n      for (var i in chartData.labels) {\n        let lab = chartData.labels[i];\n        let icon = chartData.icons[i];\n        var $img = window.jQuery(\"<img/>\").attr(\"id\", lab).attr(\n          \"src\",\n          `${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${GetCharacterCodename(this.props.game, icon)}_00.png`\n        );\n        $img.onload = function(){\n          this.draw();\n        }\n        window.jQuery(\"#pics\").append($img);\n      }\n\n      Chart.controllers.bar = Chart.controllers.bar.extend({\n        draw: function() {\n          originalBarController.prototype.draw.call(this, arguments);\n          drawFlags(this);\n        }\n      });\n      \n      function drawFlags(t) {\n        if(!t) return;\n        if(!t.chart.ctx) return;\n        var chartInstance = t.chart;\n        var dataset = chartInstance.config.data.datasets[0].data;\n        var meta = chartInstance.controller.getDatasetMeta(0);\n        t.chart.ctx.imageSmoothingQuality = \"high\"\n        t.chart.ctx.textAlign = \"center\";\n        meta.data.forEach(function(bar, index) {\n          var lab = bar._model.label;\n          var img = document.getElementById(lab);\n          if(img != null && img.naturalHeight !== 0){\n            t.chart.ctx.drawImage(img,bar._model.x-12,bar._view.y-12,24,24);\n          }\n          t.chart.ctx.fillText(dataset[bar._index].toFixed(0), bar._model.x,bar._view.y-12)\n        });\n      }\n      \n      var myBar = new Chart(this.myChartRef, {\n        \"type\": \"bar\",\n        \"data\": chartData,\n        gridLines: {\"drawBorder\": false},\n        borderWidth: 0,\n        border: 0,\n        \"options\": {\n          legend: { display: false },\n          layout: { padding: \"32\" },\n          \"scales\": {\n            \"yAxes\": [{\n              id: \"y0\",\n              \"ticks\": {\n                \"beginAtZero\": true\n              }\n            }]\n          }\n        }\n      });\n    }\n\n    // Secondary Usage Chart\n    this.chartSecondaryRef = this.chartSecondaryRef.current.getContext(\"2d\");\n\n    if(this.chartSecondaryRef){\n      var chartData = {\n        maintainAspectRatio: false,\n        \"labels\": this.state.statistics[\"secondary_labels\"],\n        \"datasets\": [{\n          \"data\": this.state.statistics[\"secondary_values\"],\n          \"fill\": false,\n          \"backgroundColor\": \"rgba(50, 50, 200, 1)\",\n          \"borderWidth\": 0\n        }],\n        \"icons\": this.state.statistics[\"secondary_icon\"]\n      };\n      \n      for (var i in chartData.labels) {\n        let lab = chartData.labels[i];\n        let icon = chartData.icons[i];\n        var $img = window.jQuery(\"<img/>\").attr(\"id\", lab).attr(\n          \"src\",\n          `${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${GetCharacterCodename(this.props.game, icon)}_00.png`\n        );\n        $img.onload = function(){\n          this.draw();\n        }\n        window.jQuery(\"#pics\").append($img);\n      }\n\n      Chart.controllers.bar = Chart.controllers.bar.extend({\n        draw: function() {\n          originalBarController.prototype.draw.call(this, arguments);\n          drawFlags(this);\n        }\n      });\n      \n      function drawFlags(t) {\n        if(!t) return;\n        if(!t.chart.ctx) return;\n        var chartInstance = t.chart;\n        var dataset = chartInstance.config.data.datasets[0].data;\n        var meta = chartInstance.controller.getDatasetMeta(0);\n        t.chart.ctx.imageSmoothingQuality = \"high\"\n        t.chart.ctx.textAlign = \"center\";\n        meta.data.forEach(function(bar, index) {\n          var lab = bar._model.label;\n          var img = document.getElementById(lab);\n          if(img != null && img.naturalHeight !== 0){\n            t.chart.ctx.drawImage(img,bar._model.x-12,bar._view.y-12,24,24);\n          }\n          t.chart.ctx.fillText(dataset[bar._index].toFixed(0), bar._model.x,bar._view.y-12)\n        });\n      }\n      \n      var myBar = new Chart(this.chartSecondaryRef, {\n        \"type\": \"bar\",\n        \"data\": chartData,\n        gridLines: {\"drawBorder\": false},\n        borderWidth: 0,\n        border: 0,\n        \"options\": {\n          legend: { display: false },\n          layout: { padding: \"32\" },\n          \"scales\": {\n            \"yAxes\": [{\n              id: \"y0\",\n              \"ticks\": {\n                \"beginAtZero\": true\n              }\n            }]\n          }\n        }\n      });\n    }\n\n    // players per country chart\n    if(\"players_per_country\" in this.state.statistics){\n      // Points per league chart\n      this.myChartCountriesRef = this.chartCountriesRef.current.getContext(\"2d\");\n\n      if(this.myChartCountriesRef){\n        var chartData = {\n          \"labels\": this.state.statistics.players_per_country.map((a)=>{return a[0]}),\n          \"datasets\": [{\n            \"data\": this.state.statistics.players_per_country.map((a)=>{return a[1]}),\n            \"fill\": false,\n            \"backgroundColor\": \"rgba(255, 183, 0, 1)\",\n            \"borderWidth\": 0\n          }],\n          \"icons\": this.state.statistics.players_per_country.map((a)=>{return a[0]})\n        };\n      \n        for (var i in chartData.labels) {\n          let lab = chartData.labels[i];\n          let icon = chartData.icons[i];\n\n          if(lab == \"null\"){\n            lab = \"null\"\n            icon = \"null\"\n          }\n\n          var $img = window.jQuery(\"<img/>\").attr(\"id\", lab).attr(\n            \"src\",\n            \"https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/country_flag/\"+lab.toLowerCase()+\".png\"\n          );\n          window.jQuery(\"#pics\").append($img);\n        }\n\n        Chart.controllers.bar = originalBarController.extend({\n          draw: function() {\n            originalBarController.prototype.draw.call(this, arguments);\n            drawFlags3(this);\n          }\n        });\n        \n        function drawFlags3(t) {\n          if(!t) return;\n          if(!t.chart.ctx) return;\n          var chartInstance = t.chart;\n          var dataset = chartInstance.config.data.datasets[0].data;\n          var meta = chartInstance.controller.getDatasetMeta(0);\n          t.chart.ctx.imageSmoothingQuality = \"high\"\n          t.chart.ctx.textAlign = \"center\";\n          meta.data.forEach(function(bar, index) {\n            var lab = bar._model.label;\n            var img = document.getElementById(lab);\n            if(img != null && img.naturalHeight !== 0){\n              t.chart.ctx.drawImage(img,bar._model.x-12,bar._view.y-12,24,24);\n            }\n              t.chart.ctx.fillText(parseFloat(dataset[bar._index]).toFixed(0), bar._model.x,bar._view.y-12)\n          });\n        }\n      \n        var myBar = new Chart(this.myChartCountriesRef, {\n          \"type\": \"bar\",\n          \"data\": chartData,\n          gridLines: {\"drawBorder\": false},\n          borderWidth: 0,\n          border: 0,\n          \"options\": {\n            legend: { display: false },\n            layout: { padding: \"32\" },\n            \"scales\": {\n              \"yAxes\": [{\n                id: \"y0\",\n                \"ticks\": {\n                  \"beginAtZero\": true\n                }\n              }]\n            }\n          }\n        });\n      }\n    }\n\n    // players per state chart\n    if(\"players_per_state\" in this.state.statistics){\n      // Points per league chart\n      this.myChartStatesRef = this.chartStatesRef.current.getContext(\"2d\");\n\n      if(this.myChartStatesRef){\n        var chartData = {\n          \"labels\": this.state.statistics.players_per_state.map((a)=>{return a[0]}),\n          \"datasets\": [{\n            \"data\": this.state.statistics.players_per_state.map((a)=>{return a[1]}),\n            \"fill\": false,\n            \"backgroundColor\": \"rgba(255, 183, 0, 1)\",\n            \"borderWidth\": 0\n          }],\n          \"icons\": this.state.statistics.players_per_state.map((a)=>{return a[0].split(\"_\")[0]+\"/\"+a[0].split(\"_\")[1]})\n        };\n      \n        for (var i in chartData.labels) {\n          let lab = chartData.labels[i];\n          let icon = chartData.icons[i];\n          if(lab == \"null\"){\n            lab = \"Unknown\"\n            icon = \"null\"\n          }\n          console.log(icon)\n          var $img = window.jQuery(\"<img/>\").attr(\"id\", lab).attr(\n            \"src\",\n            \"https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/state_flag/\"+icon+\".png\"\n          );\n          window.jQuery(\"#pics\").append($img);\n        }\n\n        Chart.controllers.bar = originalBarController.extend({\n          draw: function() {\n            originalBarController.prototype.draw.call(this, arguments);\n            drawFlags3(this);\n          }\n        });\n        \n        function drawFlags3(t) {\n          if(!t) return;\n          if(!t.chart.ctx) return;\n          var chartInstance = t.chart;\n          var dataset = chartInstance.config.data.datasets[0].data;\n          var meta = chartInstance.controller.getDatasetMeta(0);\n          t.chart.ctx.imageSmoothingQuality = \"high\"\n          t.chart.ctx.textAlign = \"center\";\n          meta.data.forEach(function(bar, index) {\n            var lab = bar._model.label;\n            var img = document.getElementById(lab);\n            if(img != null && img.naturalHeight !== 0){\n              t.chart.ctx.drawImage(img,bar._model.x-12,bar._view.y-12,24,24);\n            }\n              t.chart.ctx.fillText(parseFloat(dataset[bar._index]).toFixed(0), bar._model.x,bar._view.y-12)\n          });\n        }\n      \n        var myBar = new Chart(this.myChartStatesRef, {\n          \"type\": \"bar\",\n          \"data\": chartData,\n          gridLines: {\"drawBorder\": false},\n          borderWidth: 0,\n          border: 0,\n          \"options\": {\n            legend: { display: false },\n            layout: { padding: \"32\" },\n            \"scales\": {\n              \"yAxes\": [{\n                id: \"y0\",\n                \"ticks\": {\n                  \"beginAtZero\": true\n                }\n              }]\n            }\n          }\n        });\n      }\n    }\n  }\n\n  render (){\n    const {classes} = this.props;\n    const {theme} = this.props;\n\n    return(\n      <Paper className={classes.root}>\n        {this.state.statistics ?\n          <Box>\n            {\"players_per_country\" in this.state.statistics ?\n              <Box display=\"grid\" xs={12} mb={theme.spacing(0.5)}>\n                <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                  {i18n.t(\"players-per-country\")}\n                </Typography>\n                <Box style={{overflowX: \"scroll\", backgroundColor: \"#e4e4e4\"}}>\n                  <Box style={{width: 800, height:300}}>\n                    <canvas style={{width: 800, height: 300}} ref={this.chartCountriesRef} id=\"myChartCountries\" />\n                  </Box>\n                </Box>\n              </Box>\n              :\n              null\n            }\n\n            {\"players_per_state\" in this.state.statistics ?\n              <Box display=\"grid\" xs={12} mb={theme.spacing(0.5)}>\n                <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                  {i18n.t(\"players-per-state\")}\n                </Typography>\n                <Box style={{overflowX: \"scroll\", backgroundColor: \"#e4e4e4\"}}>\n                  <Box style={{width: 800, height:300}}>\n                    <canvas style={{width: 800, height: 300}} ref={this.chartStatesRef} id=\"myChartStates\" />\n                  </Box>\n                </Box>\n              </Box>\n              :\n              null\n            }\n            \n            <Box display=\"grid\" xs={12} mb={theme.spacing(0.5)}>\n              <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                {i18n.t(\"character-usage\")}\n              </Typography>\n              <Box style={{overflowX: \"scroll\", backgroundColor: \"#e4e4e4\"}}>\n                <Box style={{width: 2000, height:300}}>\n                  <canvas style={{width: 2000, height: 300}} ref={this.chartRef} id=\"myChart\" />\n                </Box>\n              </Box>\n            </Box>\n\n            <Box display=\"grid\" xs={12} mb={theme.spacing(0.5)}>\n              <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                {i18n.t(\"character-usage-secondary\")}\n              </Typography>\n              <Box style={{overflowX: \"scroll\", backgroundColor: \"#e4e4e4\"}}>\n                <Box style={{width: 2000, height:300}}>\n                  <canvas style={{width: 2000, height: 300}} ref={this.chartSecondaryRef} id=\"mySecondaryChart\" />\n                </Box>\n              </Box>\n            </Box>\n\n            {\"best_player_character\" in this.state.statistics && this.props.league ?\n              <Box display=\"grid\" xs={12} mb={theme.spacing(0.5)}>\n                <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                  {i18n.t(\"best-player-ranked-character\")}\n                </Typography>\n                <TableContainer>\n                  <Table>\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>{i18n.t(\"Character\")}</TableCell>\n                        <TableCell>{i18n.t(\"Player\")}</TableCell>\n                        <TableCell>{i18n.t(\"Placing\")}</TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      {\n                        Object.entries(this.state.statistics.best_player_character).sort((a, b) => {return a[1].rank - b[1].rank}).map((line)=>(\n                          <TableRow>\n                            <TableCell>\n                              <div style={{display: \"flex\", alignItems: \"center\"}}>\n                                <Box xs mr={1}><img src={`${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${GetCharacterCodename(this.props.game, line[1].mains[0])}_00.png`}\n                                style={{width: \"24px\", height: \"24px\"}} /></Box>\n                                <Box xs>{line[0]}</Box>\n                              </div>\n                            </TableCell>\n                            <TableCell>{line[1].org} {line[1].name}</TableCell>\n                            <TableCell>{line[1].rank}</TableCell>\n                          </TableRow>\n                        ))\n                      }\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n              </Box>\n              :\n              null\n            }\n          </Box>\n        :\n          <div>Loading...</div>\n        }\n        <div id=\"pics\" style={{display: \"none\"}}></div>\n      </Paper>\n    )\n  }\n};\n\nexport default withStyles(useStyles, { withTheme: true })(Statistics)","import { faFacebook, faTwitch, faTwitter, faYoutube } from '@fortawesome/free-brands-svg-icons'\nimport { faExternalLinkSquareAlt } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Paper } from '@material-ui/core'\nimport React, { Component } from 'react'\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport styles from './statistics.module.css'\n\nlet useStyles = (theme) => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n});\n\nclass Information extends Component {\n  state = {\n    \n  }\n\n  componentDidMount() {\n    console.log(this.props.info)\n  }\n\n  render (){\n    const { classes } = this.props;\n\n    return(\n      <Paper className={classes.root}>\n        {this.props.info ?\n          <>\n            <Typography noWrap gutterBottom variant=\"body1\" component=\"h2\">\n              <a href={\"https://braacket.com/league/\" + this.props.info.id} style={{color: \"white\", textDecoration: \"none\"}}>\n                <FontAwesomeIcon icon={faExternalLinkSquareAlt} />&nbsp;\n                Braacket\n              </a>\n            </Typography>\n            {this.props.info.twitter ?\n              <Typography noWrap gutterBottom variant=\"body1\" component=\"h2\">\n                <a href={this.props.info.twitter} style={{color: \"white\", textDecoration: \"none\"}}>\n                  <FontAwesomeIcon icon={faTwitter} />&nbsp;\n                  {this.props.info.twitter}\n                </a>\n              </Typography>\n              :\n              null\n            }\n            {this.props.info.facebook ?\n              <Typography noWrap gutterBottom variant=\"body1\" component=\"h2\">\n                <a href={this.props.info.facebook} style={{color: \"white\", textDecoration: \"none\"}}>\n                  <FontAwesomeIcon icon={faFacebook} />&nbsp;\n                  {this.props.info.facebook}\n                </a>\n              </Typography>\n              :\n              null\n            }\n            {this.props.info.twitch ?\n              <Typography noWrap gutterBottom variant=\"body1\" component=\"h2\">\n                <a href={this.props.info.twitch} style={{color: \"white\", textDecoration: \"none\"}}>\n                  <FontAwesomeIcon icon={faTwitch} />&nbsp;\n                  {this.props.info.twitch}\n                </a>\n              </Typography>\n              :\n              null\n            }\n            {this.props.info.youtube ?\n              <Typography noWrap gutterBottom variant=\"body1\" component=\"h2\">\n                <a href={this.props.info.youtube} style={{color: \"white\", textDecoration: \"none\"}}>\n                  <FontAwesomeIcon icon={faYoutube} />&nbsp;\n                  {this.props.info.youtube}\n                </a>\n              </Typography>\n              :\n              null\n            }\n          </>\n        :\n          null\n        }\n      </Paper>\n    )\n  }\n};\n\nexport default withStyles(useStyles)(Information)","import React, { Component } from 'react'\nimport styles from './statistics.module.css'\nimport moment from \"../../node_modules/moment-timezone/moment-timezone\";\nimport i18n from '../locales/i18n';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nclass TournamentList extends Component {\n  state = {\n  }\n\n  componentDidMount() {\n  }\n\n  render (){\n    return(\n      <div>\n        {this.props.tournaments ?\n          <Paper>\n            <TableContainer>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>{i18n.t(\"Name\")}</TableCell>\n                    <TableCell>{i18n.t(\"Date\")}</TableCell>\n                    <TableCell align=\"right\">{i18n.t(\"Participants\")}</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {Object.values(this.props.tournaments).sort((a,b)=>{return b.time - a.time}).map((tournament)=>(\n                    <TableRow component=\"a\" hover role=\"checkbox\" style={{textDecoration: \"none\", color: \"white\"}} target=\"_blank\" href={`https://braacket.com/tournament/${tournament.id}`}>\n                      <TableCell>{tournament.name}</TableCell>\n                      <TableCell>{moment.unix(tournament.time).add(1, \"day\").format(\"DD/MM/YY\")}</TableCell>\n                      <TableCell align=\"right\">{tournament.player_number}</TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </Paper>\n          :\n          null\n        }\n      </div>\n    )\n  }\n};\n\nexport default TournamentList","import React, { Component } from 'react'\nimport styles from './contacts.module.css'\nimport {GetCharacterCodename, GetCharacterEyeHeight} from \"../globals\";\nimport LazyLoad from 'react-lazyload';\nimport i18n from '../locales/i18n';\nimport PlayerElement from './playerElement';\nimport PlayerModal from './playermodal';\nimport { Box, Grid, TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { PureComponent } from 'react';\nimport {Helmet} from \"react-helmet\";\n\nconst fuzzysort = require('fuzzysort')\n\nclass Players extends Component {\n  state = {\n    playerModalOpened: false,\n    playerModalPlayer: null,\n    league: null,\n    players: [],\n    filtered: [],\n    search: \"\"\n  }\n\n  constructor(){\n    super();\n    this.playerModal = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if(prevProps != this.props && (!prevProps.allplayers || prevProps.allplayers.length == 0 || !prevProps.allplayers.players || !this.props.allplayers)){\n      this.fetchPlayers();\n    }\n  }\n\n  componentDidMount() {\n    this.fetchPlayers();\n  }\n  \n  fetchPlayers() {\n    if(this.props.allplayers && this.props.allplayers.players && Object.keys(this.props.allplayers.players).length > 0){\n      let players = [];\n\n      let ap = this.props.players ? this.props.players : this.props.allplayers[\"players\"];\n\n      ap.forEach(function(p){\n\n        p.avatars = [];\n\n        if(p.twitter) {\n          p.avatars.push(`http://unavatar.now.sh/twitter/${this.getTwitterHandle(p.twitter)}?fallback=false`);\n          p.avatars.push(`https://api.microlink.io/?url=https://twitter.com/${this.getTwitterHandle(p.twitter)}&embed=image.url`);\n        }\n        if(p.smashgg_image) {\n          p.avatars.push(p.smashgg_image);\n        }\n\n        if(!p.mains || p.mains.length == 0 || p.mains[0] == \"\"){\n          p.mains = [\"Random\"]\n        }\n\n        p.mainnames = p.mains.join(\" \");\n\n        if(this.props.match){\n          if(this.props.match.params[\"id\"]){\n            p.braacket_links.forEach(link => {\n              let linkLeague = link.split(\":\")[0];\n              let linkId = link.split(\":\")[1];\n    \n              if(linkLeague == this.props.match.params[\"id\"]){\n                p.league_id = linkId;\n              }\n            })\n          } else {\n            if(p.braacket_links.length > 0){\n              p.league_id = p.braacket_links[0];\n            } else {\n              p.league_id = 0;\n            }\n          }\n        }\n\n        players.push(p);\n      }, this)\n\n      players.sort((a, b) => {return a.org+a.name > b.org+b.name ? -1 : 1});\n\n      this.setState({players: players, filtered: players})\n    }\n  }\n\n  getCharCodename(playerData, id){\n    let skin = 0;\n\n    if(playerData.hasOwnProperty(\"skins\")){\n      skin = playerData[\"skins\"][playerData[\"mains\"][id]];\n      if(skin == undefined){\n        skin = 0;\n      }\n    }\n    \n    return GetCharacterCodename(this.props.game, playerData[\"mains\"][id])+\"_0\"+skin;\n  }\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"\");\n  }\n\n  getTwitterHandle(twitter){\n    let parts = twitter.split('/');\n    return parts[parts.length-1];\n  }\n\n  normalizePlayerName(name){\n    return name.normalize(\"NFKD\").replace(/ /g, '_').replace(/@/g, \"_At_\").replace(/~/g, \"_Tilde_\").replace(RegExp('[^0-9a-zA-Z_-]'), '').replace(\"|\", \"\")\n  }\n\n  openPlayerModal(player){\n    this.props.history.push(\n      player.league_id\n    );\n    \n    this.playerModal.current.setState({open: true, player: player});\n  }\n\n  closePlayerModal(){\n    this.setState({playerModalOpened: false});\n\n    this.props.history.goBack();\n  }\n\n  search(e){\n    this.state.search = e;\n\n    if(this.state.search.length == 0){\n      this.state.filtered = this.state.players;\n    } else {\n      let result = fuzzysort.go(this.state.search, Object.values(this.state.players), {\n        keys: [\n          'name',\n          'full_name',\n          'org',\n          'country',\n          'state',\n          'mainnames'\n        ],\n        threshold: -10000,\n        limit: 20,\n        scoreFn(a){\n          return Math.max(\n            a[0]?a[0].score:-1000,\n            a[1]?a[1].score-10:-1000,\n            a[2]?a[2].score-10:-1000,\n            a[3]?a[3].score-100:-1000,\n            a[4]?a[4].score-100:-1000,\n            a[5]?a[5].score-10:-1000,\n          )}\n      })\n      this.state.filtered = []\n      Object.values(result).forEach((val)=>{\n        if (val[\"obj\"] != null)\n          this.state.filtered.push(val[\"obj\"]);\n      })\n    }\n\n    this.setState(this.state);\n  }\n\n  render (){\n    return(\n      <Box>\n        <Helmet>\n          <meta property=\"og:title\" content=\"Players - PowerRankings.gg\" />\n          <meta property=\"og:image\" content={process.env.PUBLIC_URL+\"/favicon.svg\"} />\n          <meta property=\"og:description\" content=\"Search players on PowerRankings.gg!\" />\n        </Helmet>\n\n        {this.state.players && Object.entries(this.state.players).length > 0 ?\n          <>\n            <TextField\n              fullWidth\n              style={{marginBottom: 2}}\n              placeholder={i18n.t(\"search-in\")+Object.entries(this.state.players).length+i18n.t(\"search-players\")}\n              variant=\"outlined\"\n              type=\"search\"\n              onChange={(e)=>this.search(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment>\n                    <IconButton>\n                      <SearchIcon />\n                    </IconButton>\n                  </InputAdornment>\n                )\n              }}\n            />\n\n            <Grid container>\n              {Object.values(this.state.filtered).slice(0, 64).map((player, i) => (\n                <PlayerElement game={this.props.game} onClick={()=>this.openPlayerModal(player)} player={player} />\n              ))}\n            </Grid>\n          </>\n          :\n          null\n        }\n        <PlayerModal game={this.props.game} ref={this.playerModal} open={this.state.playerModalOpened} closeModal={this.closePlayerModal.bind(this)} player={this.state.playerModalPlayer} leagues={this.props.leagues} allplayers={this.props.allplayers} alltournaments={this.props.alltournaments} history={this.props.history} />\n      </Box>\n    )\n  }\n};\n\nexport default Players","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport Fab from '@material-ui/core/Fab';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport Zoom from '@material-ui/core/Zoom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    zIndex: 1,\n    [theme.breakpoints.down('sm')]: {\n        bottom: theme.spacing(10),\n    }\n  },\n}));\n\nexport default function ScrollTop(props) {\n    const { children, window } = props;\n    const classes = useStyles();\n    // Note that you normally won't need to set the window ref as useScrollTrigger\n    // will default to window.\n    // This is only being set here because the demo is in an iframe.\n    const trigger = useScrollTrigger({\n      target: window ? window() : undefined,\n      disableHysteresis: true,\n      threshold: 100,\n    });\n  \n    const handleClick = (event) => {\n        document.body.scrollTop = 0; // For Safari\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n    };\n  \n    return (\n      <Zoom in={trigger}>\n        <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n          <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\n              <KeyboardArrowUpIcon />\n          </Fab>\n        </div>\n      </Zoom>\n    );\n}","import React, { Component, PureComponent } from 'react'\nimport styles from './contacts.module.css'\nimport { Link, useParams, useLocation } from 'react-router-dom';\nimport LeagueSelector from './leagueselector';\nimport styles_selector from './leagueselector.module.css'\nimport PlayerRanking from './playerRanking';\nimport Statistics from './statistics';\nimport Information from './information';\nimport TournamentList from './tournamentList';\nimport moment from \"../../node_modules/moment-timezone/moment-timezone\";\nimport i18n from '../locales/i18n';\nimport Players from './players';\nimport { browserHistory } from 'react-router';\nimport { withRouter } from 'react-router-dom'\nimport { Tabs, Tab, AppBar, Box, Hidden, BottomNavigation, BottomNavigationAction, Icon,\n  withStyles, withTheme, Paper, Typography } from '@material-ui/core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faListOl, faTrophy, faUsers, faInfoCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faChartBar } from '@fortawesome/free-regular-svg-icons';\nimport ScrollTop from './ScrollTop';\nimport {Helmet} from \"react-helmet\";\n\nlet useStyles = (props) => ({\n  bottomNav: {\n    backgroundColor: props.palette.primary.main\n  },\n  bottomNavSelected: {\n    color: props.palette.text.primary + \" !important\"\n  }\n})\n\nclass Contacts extends Component {\n  state = {\n    selectedLeague: -1,\n    selectedTab: \"ranking\",\n    players: [],\n    top3Colors: [\"#D6AF36\", \"#D7D7D7\", \"#A77044\"],\n    top3Colors2: [\"#AF9500\", \"#B4B4B4\", \"#6A3805\"],\n    top3Colors3: [\"#C9B037\", \"#A7A7AD\", \"#824A02\"],\n    userCountry: null\n  }\n\n  componentDidUpdate(prevProps) {\n    if(this.props != prevProps)\n      this.manageUrl(prevProps);\n  }\n\n  componentDidMount() {\n    this.state.selectedLeague = -1;\n    if(!this.props.match) return;\n    this.manageUrl();\n  }\n\n  manageUrl(prevProps = null){\n    if(!this.props.match) return;\n    if(!this.props.allplayers) return;\n    if(!this.props.alltournaments) return;\n    if(!this.props.contacts) return;\n\n    let leagueId = this.props.match.params[\"id\"];\n\n    if(this.props.contacts && this.props.contacts.length > 0) {\n      if(this.props.match.params[\"id\"]){\n        let selectedId = this.props.match.params[\"id\"];    \n        if(selectedId){\n          let selectedLeague = this.props.contacts.findIndex((a)=>{return a.id == selectedId});\n          if(selectedLeague != -1){\n            this.selectLeague(selectedLeague);\n          } else {\n            this.selectLeague(0);\n            leagueId = this.props.contacts[0].id\n          }\n        } else {\n          this.selectLeague(0);\n          leagueId = this.props.contacts[0].id;\n        }\n      } else if(!this.props.match.params[\"id\"]) {\n        let selectLeague = 0;\n\n        if(this.props.usercountry){\n          for(let i=0; i<this.props.contacts.length; i+=1){\n            if(this.props.contacts[i].country && this.props.contacts[i].country == this.props.usercountry){\n              selectLeague = i;\n              break;\n            }\n          }\n        } else {\n          selectLeague = 0;\n        }\n\n        console.log(selectLeague)\n\n        if(selectLeague != -1){\n          console.log(selectLeague)\n          console.log(this.props.contacts)\n          this.selectLeague(selectLeague);\n          this.props.history.push(\"/\"+this.props.game+'/leagues/'+this.props.contacts[selectLeague].id);\n          leagueId = this.props.contacts[selectLeague].id;\n        }\n      }\n\n      if(this.props.match.params[\"tab\"]){\n        this.handleTabChange(this.props.match.params[\"tab\"]);\n      } else {\n        this.props.history.push(\n          \"/\"+this.props.game+'/leagues/'+leagueId+'/ranking/'\n        );\n      }\n    }\n  }\n\n  updateData() {\n    console.log(\"Update data\");\n    if(!this.props) return\n    if(!this.props.contacts) return\n    if(!this.props.allplayers) return\n    if(!this.props.alltournaments) return\n    if(!this.props.contacts[this.state.selectedLeague]) return\n\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/'+this.props.contacts[this.state.selectedLeague].id+'/ranking.json')\n    .then(res => res.json())\n    .then((data) => {\n      fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/'+this.props.contacts[this.state.selectedLeague].id+'/statistics.json')\n      .then(res => res.json())\n      .then((statistics) => {\n        fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/'+this.props.contacts[this.state.selectedLeague].id+'/players.json')\n        .then(res => res.json())\n        .then((league_players) => {\n          if(data){\n            let players = []\n\n            if(data.ranking && data.ranking.ranking){\n              Object.entries(data.ranking.ranking).forEach(function(id){\n                let league = this.props.contacts[this.state.selectedLeague].id;\n      \n                let p = {}\n                p = Object.assign(p, this.props.allplayers[\"players\"][this.props.allplayers[\"mapping\"][league+\":\"+id[0]]]);\n      \n                p.avatars = [];\n\n                if(p.twitter) {\n                  p.avatars.push(`http://unavatar.now.sh/twitter/${this.getTwitterHandle(p.twitter)}?fallback=false`);\n                  p.avatars.push(`https://api.microlink.io/?url=https://twitter.com/${this.getTwitterHandle(p.twitter)}&embed=image.url`);\n                }\n                if(p.smashgg_image) {\n                  p.avatars.push(p.smashgg_image);\n                }\n      \n                if(p.mains == null || p.mains.length == 0 || p.mains[0] == \"\"){\n                  p.mains = [\"Random\"]\n                }\n                \n                p.ranking = id[1][\"rank\"]\n                p.score = id[1][\"score\"]\n\n                p.league_id = id[0];\n      \n                players.push(p);\n              }, this)\n            }\n            \n            players.sort(function(a, b){\n              return Number(a[\"ranking\"]) - Number(b[\"ranking\"]);\n            });\n\n            console.log(players)\n\n            console.log(statistics)\n            console.log(this.props.alltournaments[this.props.contacts[this.state.selectedLeague].id])\n\n            let final_league_players = [];\n            Object.keys(league_players.players).forEach((player) => {\n              let globalId = this.props.allplayers[\"mapping\"][this.props.contacts[this.state.selectedLeague].id+\":\"+player];\n              final_league_players.push(this.props.allplayers[\"players\"][globalId])\n            })\n\n            this.setState({\n              players: players,\n              league_players: final_league_players,\n              updateTime: data[\"update_time\"],\n              statistics: statistics,\n              tournaments: this.props.alltournaments[this.props.contacts[this.state.selectedLeague].id],\n              rankingName: data.ranking[\"name\"],\n              rankingType: data.ranking[\"type\"],\n              rankingAlltimes: data.ranking[\"alltimes\"],\n              rankingStartTime: data.ranking[\"timeStart\"],\n              rankingEndTime: data.ranking[\"timeEnd\"]\n            })\n          }\n        })\n        .catch((e)=>{\n          console.log(e)\n          this.setState({\n            players: [],\n            updateTime: 1\n          })\n        })\n      })\n      .catch((e)=>{\n        console.log(e)\n        this.setState({\n          players: [],\n          updateTime: 1\n        })\n      })\n    })\n    .catch((e)=>{\n      console.log(e)\n      this.setState({\n        players: [],\n        updateTime: 1\n      })\n    })\n  }\n\n  selectLeague(i){\n    if(i != this.state.selectedLeague){\n      this.state.selectedLeague = i;\n      this.state.players = [];\n      this.state.updateTime = null;\n      this.state.statistics = null;\n      this.setState(this.state, ()=>{\n        this.updateData();\n      });\n    }\n  }\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"\");\n  }\n\n  getTwitterHandle(twitter){\n    let parts = twitter.split('/');\n    return parts[parts.length-1];\n  }\n\n  normalizePlayerName(name){\n    return name.normalize(\"NFKD\").replace(/ /g, '_').replace(/@/g, \"_At_\").replace(/~/g, \"_Tilde_\").replace(RegExp('[^0-9a-zA-Z_-]'), '').replace(\"|\", \"\")\n  }\n\n  handleTabChange(value){\n    if(this.state.selectedTab != value){\n      this.props.history.push(\n        \"/\"+this.props.game+'/leagues/'+this.props.match.params[\"id\"]+'/'+value+'/'\n      );\n      this.setState({selectedTab: value});\n    }\n  }\n\n  render (){\n    const { classes } = this.props;\n\n    return(\n      <div>\n        <LeagueSelector\n          game={this.props.game}\n          leagues={this.props.contacts}\n          selectLeague={this.selectLeague.bind(this)}\n          selectedLeague={this.state.selectedLeague}\n          selectedTab={this.state.selectedTab}\n          handleTabChange={this.handleTabChange.bind(this)}\n        />\n\n        <Helmet>\n          {this.state.selectedLeague == -1 ?\n            null\n            :\n            <meta property=\"og:title\" content={\n              this.props.contacts[this.state.selectedLeague].name+\" - PowerRankings.gg\"\n            } />\n          }\n          {this.state.selectedLeague == -1 ?\n            null\n            :\n            <meta property=\"og:image\" content={\n              `https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/games/${this.props.game}/league_icon/${this.props.contacts[this.state.selectedLeague].id}.png`\n            } />\n\n          }\n          {this.state.selectedLeague == -1 ?\n            null\n            :\n            <meta name=\"twitter:image\" content={\n              `https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/games/${this.props.game}/league_icon/${this.props.contacts[this.state.selectedLeague].id}.png`\n            } />\n\n          }\n          <meta property=\"og:description\" content=\"Check out more information about this league and its players on PowerRankings.gg!\" />\n        </Helmet>\n\n        {\n          this.state.selectedTab == \"ranking\" && this.state.players ?\n            <>\n              {this.state.rankingName ?\n                <Paper style={{padding: 8, margin: 2}}>\n                  <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                    {this.state.rankingName}\n                    {this.state.rankingType ? \" (\"+this.state.rankingType+\")\" : \"\"}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                    {this.state.alltimes || this.state.rankingStartTime == null ?\n                      <>{\"All times\"}</>\n                      :\n                      <>{i18n.t(\"dateFrom\") + \" \" + i18n.t(\"date_format\", {date: moment.unix(this.state.rankingStartTime).toDate()}) + \" \" + i18n.t(\"dateFromAfter\") + \" \" + i18n.t(\"dateTo\") + \" \" + i18n.t(\"date_format\", {date: moment.unix(this.state.rankingEndTime).toDate()}) + \" \" + i18n.t(\"dateToAfter\")}</>\n                    }\n                  </Typography>\n                </Paper>\n                :\n                null\n              }\n              <PlayerRanking game={this.props.game} contacts={this.props.contacts} allplayers={this.props.allplayers} alltournaments={this.props.alltournaments} ranking={this.state.players} updateTime={this.state.updateTime} history={this.props.history} match={this.props.match} />\n            </>\n            :\n            this.state.selectedTab == \"players\" ?\n              <Players game={this.props.game} leagues={this.props.contacts} alltournaments={this.props.alltournaments} allplayers={this.props.allplayers} players={this.state.players} history={this.props.history} match={this.props.match} />\n              :\n              this.state.selectedTab == \"tournaments\" ?\n                <TournamentList tournaments={this.state.tournaments} />\n                :\n                this.state.selectedTab == \"statistics\" ?\n                  this.state.statistics ? \n                    <Statistics game={this.props.game} league={this.props.contacts[this.state.selectedLeague].id} statistics={this.state.statistics} />\n                    :\n                    null\n                  :\n                  this.state.selectedTab == \"info\" ?\n                    <Information info={this.props.contacts[this.state.selectedLeague]} />\n                    :\n                    null\n        }\n\n        <ScrollTop />\n\n        <Hidden smUp>\n          <BottomNavigation\n            value={this.state.selectedTab}\n            onChange={(event, value) => {this.handleTabChange(value)}}\n            showLabels\n            className={classes.bottomNav}\n            style={{position: \"fixed\", bottom: 0, left: 0, right: 0}}\n          >\n            <BottomNavigationAction classes={{selected: classes.bottomNavSelected}} style={{minWidth: 20}} value=\"ranking\" label={<span style={{fontSize: \"0.6rem\"}}>{i18n.t(\"Ranking\")}</span>} icon={<Icon style={{width: \"100%\", height: \"100%\"}}><FontAwesomeIcon icon={faListOl}/></Icon>} />\n            <BottomNavigationAction classes={{selected: classes.bottomNavSelected}} style={{minWidth: 20}} value=\"players\" label={<span style={{fontSize: \"0.6rem\"}}>{i18n.t(\"players\")}</span>} icon={<Icon style={{width: \"100%\", height: \"100%\"}}><FontAwesomeIcon icon={faUsers}/></Icon>} />\n            <BottomNavigationAction classes={{selected: classes.bottomNavSelected}} style={{minWidth: 20}} value=\"tournaments\" label={<span style={{fontSize: \"0.6rem\"}}>{i18n.t(\"Tournaments\")}</span>} icon={<Icon style={{width: \"100%\", height: \"100%\"}}><FontAwesomeIcon icon={faTrophy}/></Icon>} />\n            <BottomNavigationAction classes={{selected: classes.bottomNavSelected}} style={{minWidth: 20}} value=\"statistics\" label={<span style={{fontSize: \"0.6rem\"}}>{i18n.t(\"Statistics\")}</span>} icon={<Icon style={{width: \"100%\", height: \"100%\"}}><FontAwesomeIcon icon={faChartBar}/></Icon>} />\n            <BottomNavigationAction classes={{selected: classes.bottomNavSelected}} style={{minWidth: 20}} value=\"info\" label={<span style={{fontSize: \"0.6rem\"}}>{i18n.t(\"Info\")}</span>} icon={<Icon style={{width: \"100%\", height: \"100%\"}}><FontAwesomeIcon icon={faInfoCircle}/></Icon>} />\n          </BottomNavigation>\n        </Hidden>\n      </div>\n    )\n  }\n};\n\nexport default withRouter(withTheme(withStyles(useStyles)(Contacts)))","import React, { Component } from 'react'\nimport i18n from '../locales/i18n';\n\nclass About extends Component {\n  state = {\n    tournaments: null,\n    tournamentColor: {\n      \"S\": \"red\",\n      \"A\": \"orange\",\n      \"B\": \"brown\",\n      \"C\": \"darkbrown\",\n      \"D\": \"gray\",\n    }\n  }\n\n  componentDidUpdate(nextProps) {\n  }\n\n  componentDidMount() {\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/out/tournament/prbth.json')\n    .then(res => res.json())\n    .then((data) => {\n      this.state.tournaments = Object.keys(data).map(function(_) { return data[_]; })\n      \n      this.state.tournaments.forEach(tournament => {\n        if(!tournament.rank){\n          if(tournament.player_number >= 65) tournament.rank = \"S\"\n          else if(tournament.player_number >= 49) tournament.rank = \"A\"\n          else if(tournament.player_number >= 33) tournament.rank = \"B\"\n          else if(tournament.player_number >= 25) tournament.rank = \"C\"\n          else tournament.rank = \"D\"\n        }\n      });\n\n      this.state.tournaments = Object.values(this.state.tournaments).sort((a, b) => (a.name > b.name) ? 1 : -1);\n\n      console.log(this.state.tournaments);\n\n      this.setState(this.state);\n    })\n    .catch(console.log)\n  }\n\n  render (){\n    return(\n      <div>\n        <h2>\n          {i18n.t(\"about\")}\n        </h2>\n        <p dangerouslySetInnerHTML={{__html: i18n.t(\"about-text\")}}>\n        </p>\n        <h2>\n          {i18n.t(\"creators\")}\n        </h2>\n        <p>\n          <ul>\n            <li>\n              Shino (Joo Ribeiro) <a href=\"https://twitter.com/joao_shino\">@joao_shino</a> - Criador e desenvolvedor do site, manuteno dos dados\n            </li>\n            <li>\n              frodO (Andrey Brouwenstyn) <a href=\"https://twitter.com/andreyfrodo\">@andreyfrodo</a> - Divulgao nas redes sociais, manuteno dos dados\n            </li>\n            <li>\n              SKPeter (Samuel Petersen) <a href=\"https://twitter.com/skpeter_\">@skpeter_</a> - Suporte tcnico, manuteno dos dados\n            </li>\n            <li>\n              Samwa (Vitor Menezello) <a href=\"https://twitter.com/vitinmenezello\">@vitinmenezello</a> - Manuteno dos dados\n            </li>\n            <li>\n              Piu (Gabriel Amoedo) <a href=\"https://twitter.com/piuzera_\">@piuzera_</a> - Divulgao, ideias\n            </li>\n          </ul>\n        </p>\n        <h2>\n          {i18n.t(\"faq-old-data\")}\n        </h2>\n        <p>\n          {i18n.t(\"faq-old-data-desc\")}\n        </p>\n        <h2>\n          {i18n.t(\"faq-duplicated\")}\n        </h2>\n        <p>\n          {i18n.t(\"faq-duplicated-desc\")}\n        </p>\n      </div>\n    )\n  }\n};\n\nexport default About","import React, { Component } from 'react'\nimport { browserHistory } from 'react-router';\n\nimport L from '../../node_modules/leaflet/dist/leaflet'\nimport '../../node_modules/leaflet.tilelayer.colorfilter/src/leaflet-tilelayer-colorfilter'\nimport LeafletAjax, { resolve } from '../../node_modules/leaflet-ajax/dist/leaflet.ajax'\n\nimport styles from './map.module.css'\nimport { withRouter } from 'react-router-dom'\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\n\nimport { GetCharacterCodename } from '../globals'\nimport { parse } from '@fortawesome/fontawesome-svg-core';\nimport { Box, withTheme, withStyles, ButtonGroup, Button, Select, MenuItem } from '@material-ui/core';\n\nMath.getDistance = function( x1, y1, x2, y2 ) {\n\tvar xs = x2 - x1, ys = y2 - y1;\t\t\n\txs *= xs;\n\tys *= ys;\n\treturn Math.sqrt( xs + ys );\n};\n\n// angle in radians\nMath.angleRadians = function(p1, p2){return Math.atan2(p2.y - p1.y, p2.x - p1.x);}\n\n// angle in degrees\nMath.angleDeg = function(p1, p2){return Math.atan2(p2.y - p1.y, p2.x - p1.x) * 180 / Math.PI;}\n\nvar myMarker = L.Marker.extend({\n  update: function () {\n\t\tif (this._icon && this._map) {\n      var pos = this._map.latLngToLayerPoint(this._latlng);\n      \n      for(let i=0; i<Object.keys(this._map._layers).length; i+=1){\n        let other = Object.values(this._map._layers)[i];\n\n        if(other._latlng && other != this && other._icon){\n          let otherPos = this._map.latLngToContainerPoint(other._latlng);\n          let myPos = this._map.latLngToContainerPoint(this._latlng);\n\n          let distance = Math.getDistance(\n            otherPos.x, otherPos.y,\n            myPos.x, myPos.y\n          );\n\n          let angle;\n\n          if(distance == 0){\n            angle = Math.angleRadians(\n              {x: this._latlng.lng, y: this._latlng.lat},\n              {x: other._latlng.lng, y: other._latlng.lat}\n            )\n          }\n\n          if(distance<32){\n            if(angle == undefined)\n              angle = Math.angleRadians(myPos, otherPos);\n            console.log(angle);\n            console.log(distance);\n            pos.y -= Math.sin(angle)*((32-distance)/4);\n            pos.x -= Math.cos(angle)*((32-distance)/4);\n          }\n        }\n      }\n\n\t\t\tthis._setPos(pos);\n\t\t}\n\n\t\treturn this;\n\t}\n})\n\nconsole.log(myMarker.update)\n\nclass Mapa extends Component {\n  state = {\n    leagues: null,\n    allplayers : null,\n    loading: false,\n    selection: 0\n  }\n\n  mymap = null;\n  estados = null;\n  markers = [];\n  circles = [];\n\n  topbarSize = 0;\n\n  componentDidUpdate(nextProps) {\n    if(this.props !== nextProps){\n      this.state.leagues = nextProps.leagues;\n      this.state.allplayers = nextProps.allplayers;\n      this.setState(this.state);\n      this.setupMap();\n      this.updateData();\n    }\n  }\n\n  updateData(online=false) {\n    if(this.updating) return;\n    this.updating = true;\n    this.setState({loading: true});\n    if(!this.props.leagues) return;\n    if(!this.props.allplayers) return;\n\n    if(this.markers){\n      this.markers.forEach((marker)=>{\n        marker.remove();\n      })\n      this.markers = [];\n    }\n\n    if(this.circles){\n      this.circles.forEach((circle)=>{\n        circle.remove();\n      })\n      this.circles = [];\n    }\n\n    let promises = []\n\n    console.log(this.state.leagues);\n\n    Object.keys(this.props.leagues).forEach(league => {\n      if(this.props.leagues[league].latlng != null && online == !!this.props.leagues[league].wifi){\n        promises.push(\n          async() => {\n            console.log(this.props.leagues[league].id)\n\n            let ranking = await fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/'+this.props.leagues[league].id+'/ranking.json').then(res => res.json())\n            let players = await fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/'+this.props.leagues[league].id+'/players.json').then(res => res.json())\n\n            let player = null;\n\n            if(ranking.ranking != null && ranking.ranking.ranking != null){\n              console.log(ranking.ranking.ranking)\n              \n              let best = null;\n\n              try {\n                best = Object.entries(ranking.ranking.ranking)[0][0];\n                let lowestNum = parseInt(Object.entries(ranking.ranking.ranking)[0][1].rank);\n\n                Object.entries(ranking.ranking.ranking).forEach((player)=>{\n                  if(parseInt(player[1].rank) < lowestNum){\n                    best = player[0];\n                    lowestNum = parseInt(player[1].rank);\n                  }\n                })\n              } catch(e) {\n                console.log(e);\n              }\n\n              if(best != null){\n                let playerId = this.props.allplayers[\"mapping\"][this.props.leagues[league].id+\":\"+best];\n                player = this.props.allplayers[\"players\"][playerId];\n              }\n            }\n\n            if(player == null || !player.mains || player.mains.length == 0){\n              if(player == null){player = {mains: []}}\n              player.mains.push(\"Random\");\n            }\n\n            let iconUrl = process.env.PUBLIC_URL+\"/portraits/\"+this.props.game+\"/chara_2_\"+(GetCharacterCodename(this.props.game, player.mains[0]) || \"random\")+\"_00.png\"\n\n            let iconSize = 36;\n\n            if(!online && this.props.leagues[league].state != null) iconSize = 24;\n            else if(online && this.props.leagues[league].country != null) iconSize = 24;\n\n            let charIcon = L.icon({\n              iconUrl: iconUrl,\n              iconSize: [iconSize, iconSize],\n              popupAnchor: [0, -8],\n              className: styles.mapCharIcon\n            });\n\n            window.routerHistory = this.props.history;\n\n            let lat = this.props.leagues[league].latlng[0];\n            let lng = this.props.leagues[league].latlng[1];\n\n            let found = false;\n            \n            this.markers.forEach(marker=>{\n              if(marker._latlng.lat == lat && marker._latlng.lng == lng){\n                lng+=0.005;\n              }\n            })\n\n            let radius;\n            if(!online) radius = 150000 + 200 * Object.keys(players.players).length;\n            else radius = 400000 + 1000 * Object.keys(players.players).length;\n\n            radius *= iconSize/24;\n\n            let color;\n            if(!online) color = \"rgba(255, 183, 0, 0.9)\"\n            else color = \"rgba(170, 220, 255, 0.9)\"\n\n            let circle = L.circle([lat,lng], radius, {color: color, fillColor: color}).addTo(this.mymap);\n            this.circles.push(circle);\n\n            let marker = new myMarker([lat, lng], {icon: charIcon}).addTo(this.mymap);\n            marker.bindPopup('\\\n              <div style=\"display: flex; align-items: center\">\\\n                <div style=\"width: 32px; height: 32px; background-image: url(https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/games/'+this.props.game+'/league_icon/'+this.props.leagues[league].id+'.png); background-size: cover; background-position: center; border-radius: 8px\"></div>\\\n                <div style=\"display: flex; align-items: left; flex-direction: column; padding-left: 10px\">\\\n                  <a onClick=\"window.routerHistory.push(\\'/'+this.props.game+'/leagues/'+this.props.leagues[league].id+'\\');\">'+this.props.leagues[league].name+'</a>'+\n                  (this.props.leagues[league].city ? this.props.leagues[league].city+\", \" : \"\")+\n                  (this.props.leagues[league].state ? this.props.leagues[league].state+\", \" : \"\")+\n                  (this.props.leagues[league].country ? this.props.leagues[league].country : \"\")\n                +'</div>\\\n              </div>\\\n            ');\n\n            this.markers.push(marker);\n\n            return(true);\n          }\n        )\n      }\n    });\n\n    async function todos(){\n      let calls = [];\n      for(let i=0; i<promises.length; i++){\n        calls.push(promises[i]());\n      }\n      for(let i=0; i<calls.length; i++){\n        await calls[i];\n      }\n      this.zoomFitMarkers();\n      this.updating = false;\n      this.setState({loading: false});\n    }\n\n    todos.call(this);\n\n    /*Promise.all(promises).then(()=>{\n      console.log(promises);\n      console.log(this.markers);\n      this.zoomFitMarkers();\n    })*/\n  }\n\n  getTwitterHandle(twitter){\n    let parts = twitter.split('/');\n    return parts[parts.length-1];\n  }\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"\");\n  }\n\n  componentDidMount(){\n    this.firstUpdate();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.firstUpdate();\n  }\n\n  firstUpdate(){\n    if(!this.state.leagues){\n      if(!this.props.leagues) return;\n      if(!this.props.allplayers) return;\n  \n      this.state.leagues = this.props.leagues;\n      this.state.allplayers = this.props.allplayers;\n  \n      this.setState(this.state);\n  \n      this.setupMap();\n      this.updateData();\n    }\n  }\n\n  setupMap(){\n    if(this.mymap != null) return;\n\n    var mapOptions = {\n      attributionControl: false,\n      center: [-29.0529434318608, 152.01910972595218],\n      zoom: 10,\n      maxZoom: 5\n    };\n\n    let myFilter = [\n      'hue:180deg',\n      'invert:100%',\n    ]\n\n    var baseMap = L.tileLayer.colorFilter(\n      \"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      {\n        minZoom: 2,\n        maxZoom: 19,\n        id: \"osm.streets\",\n        filter: myFilter\n      }\n    );\n\n    this.mymap = L.map('mapid', mapOptions);\n    baseMap.addTo(this.mymap);\n\n    this.topbarSize = 0;\n    \n    this.listener = window.addEventListener(\"resize\", ()=>{\n      let topbar = document.getElementById(\"topbar\");\n      this.topbarSize = 0;\n      if(topbar){\n        this.topbarSize = topbar.clientHeight;\n      }\n    })\n\n    this.mymap.setZoom(2);\n    this.mymap.panTo(new L.LatLng(0,0))\n  }\n\n  zoomFitMarkers(){\n    if(this.markers.length > 0){\n      this.mymap.fitBounds(new L.featureGroup(this.markers).getBounds());\n    }\n  }\n\n  render (){\n    let { theme } = this.props;\n\n    return(\n      <Box>\n        <Box id=\"mapid\" style={{height: \"calc(100vh - \"+this.topbarSize+\"px)\", margin: \"-8px\"}} xs>\n          <Select\n            style={{zIndex: 999, position: \"absolute\", right: 10, top: 10}}\n            value={this.state.selection}\n            onChange={(e)=>{this.setState({selection: e.target.value})}}\n          >\n            <MenuItem value={0} onClick={(e)=>{this.updateData()}}>\n              Offline\n            </MenuItem>\n            <MenuItem value={1} onClick={(e)=>{this.updateData(true)}}>\n              Online\n            </MenuItem>\n          </Select>\n          {this.state.loading ?\n            <div style={{\n              zIndex: 999, position: \"absolute\", left: 0, right: 0, top:0, bottom: 0,\n              backgroundColor: \"#00000088\", display: \"flex\", alignItems: \"center\"\n            }}>\n              <div class=\"loader\"></div>\n            </div>\n            :\n            null\n          }\n        </Box>\n      </Box>\n    )\n  }\n};\n\nexport default withRouter(withStyles(null, { withTheme: true })(Mapa))","import React, { Component } from 'react'\n\nclass PlayerModalGranblue extends Component {\n  state = {\n    playerData: null\n  }\n\n  componentDidUpdate(nextProps) {\n    if(nextProps !== this.props) {\n      \n    }\n  }\n\n  componentDidMount() {\n    window.playerModalGranblue = this;\n  }\n\n  fetchPlayer(){\n    if(this.player == null) return;\n\n    this.player.tournaments_pc = []\n    this.player.tournaments_ps4 = []\n\n    this.player.tournaments.forEach(tournament => {\n      if(tournament.placing_pc) this.player.tournaments_pc.push(tournament)\n      if(tournament.placing_ps4) this.player.tournaments_ps4.push(tournament)\n    });\n\n    this.setState({playerData: this.player})\n\n    /*fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/granblue/player_data/'+this.player+'/data.json')\n    .then(res => res.json())\n    .then((data) => {\n      if(data.avatar){\n        data.avatar = `https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/${data.avatar}`;\n      } else if (data.twitter) {\n        data.avatar = `https://twivatar.glitch.me/${this.getTwitterHandle(data.twitter)}`;\n      }\n      this.setState({playerData: data});\n    });*/\n  }\n\n  getTwitterHandle(twitter){\n    let parts = twitter.split('/');\n    return parts[parts.length-1];\n  }\n\n  render (){\n    return(\n      <div class=\"modal fade\" id=\"playerModalGranblue\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style={{\n        fontFamily: \"sans-serif\", textAlign: \"left\"\n      }}>\n        <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Player</h5>\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              {this.state.playerData ?\n                  <div>\n                    <h2>{this.state.playerData.name}</h2>\n\n                    {this.state.playerData.tournaments_ps4.length > 0 ?\n                      <row>\n                        <h5>Torneios contabilizados (PS4):</h5>\n                        <table class=\"table table-striped table-sm\">\n                          <thead>\n                            <tr>\n                              <th scope=\"col\">#</th>\n                              <th scope=\"col\">Nome</th>\n                              <th scope=\"col\">Tier</th>\n                              <th scope=\"col\">Colocao</th>\n                              <th scope=\"col\">Pontuao</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {\n                              this.state.playerData.tournaments_ps4.sort((a, b) => Number(b.name) - Number(a.name)).sort((a, b) => Number(b.points_ps4) - Number(a.points_ps4)).map((tournament, i)=>(\n                                <tr class={i<10? \"\" : \"text-muted\"}>\n                                  <th scope=\"row\">{i+1}</th>\n                                  <td>{tournament.name}</td>\n                                  <td>{tournament.tier}</td>\n                                  <td>{\n                                    tournament.placing_ps4 ?\n                                      <div>\n                                        <div>{tournament.placing_ps4 ? tournament.placing_ps4 : 0}</div>\n                                      </div>\n                                    :\n                                      tournament.placing_ps4\n                                  }</td>\n                                  {i<10?\n                                    <td><b>\n                                      <div>{tournament.points_ps4 ? tournament.points_ps4 : 0}</div>\n                                    </b></td>\n                                    :\n                                    <td>{tournament.points_ps4}</td>\n                                  }\n                                </tr>\n                              ))\n                            }\n                          </tbody>\n                        </table>\n                      </row>\n                      :\n                      null\n                    }\n\n                    {this.state.playerData.tournaments_pc.length > 0 ?\n                      <row>\n                        <h5>Torneios contabilizados (PC):</h5>\n                        <table class=\"table table-striped table-sm\">\n                          <thead>\n                            <tr>\n                              <th scope=\"col\">#</th>\n                              <th scope=\"col\">Nome</th>\n                              <th scope=\"col\">Tier</th>\n                              <th scope=\"col\">Colocao</th>\n                              <th scope=\"col\">Pontuao</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {\n                              this.state.playerData.tournaments_pc.sort((a, b) => Number(b.name) - Number(a.name)).sort((a, b) => Number(b.points_pc) - Number(a.points_pc)).map((tournament, i)=>(\n                                <tr class={i<10? \"\" : \"text-muted\"}>\n                                  <th scope=\"row\">{i+1}</th>\n                                  <td>{tournament.name}</td>\n                                  <td>{tournament.tier}</td>\n                                  <td>{\n                                    tournament.placing_pc ?\n                                      <div>\n                                        <div>{tournament.placing_pc ? tournament.placing_pc : 0}</div>\n                                      </div>\n                                    :\n                                      tournament.placing_pc\n                                  }</td>\n                                  {i<10?\n                                    <td><b>\n                                      <div>{tournament.points_pc ? tournament.points_pc : 0}</div>\n                                    </b></td>\n                                    :\n                                    <td>{tournament.points_pc}</td>\n                                  }\n                                </tr>\n                              ))\n                            }\n                          </tbody>\n                        </table>\n                      </row>\n                      :\n                      null\n                    }\n                  </div>\n                :\n                null\n              }\n            </div>\n            <div class=\"modal-footer\">\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n};\n\nexport default PlayerModalGranblue","import React, { Component } from 'react'\n\nimport L from '../../node_modules/leaflet/dist/leaflet'\nimport LeafletAjax from '../../node_modules/leaflet-ajax/dist/leaflet.ajax'\n\nimport styles from './statistics.module.css'\nimport Chart from '../../node_modules/chart.js/dist/Chart'\n\nclass StatisticsGranblue extends Component {\n  state = {\n    statistics: null\n  }\n\n  colorValues = [\n    \"#FF0000\", \"#00FF00\", \"#0000FF\", \"#FFFF00\", \"#FF00FF\", \"#00FFFF\", \"#000000\", \n    \"#800000\", \"#008000\", \"#000080\", \"#808000\", \"#800080\", \"#008080\", \"#808080\", \n    \"#C00000\", \"#00C000\", \"#0000C0\", \"#C0C000\", \"#C000C0\", \"#00C0C0\", \"#C0C0C0\", \n    \"#400000\", \"#004000\", \"#000040\", \"#404000\", \"#400040\", \"#004040\", \"#404040\", \n    \"#200000\", \"#002000\", \"#000020\", \"#202000\", \"#200020\", \"#002020\", \"#202020\", \n    \"#600000\", \"#006000\", \"#000060\", \"#606000\", \"#600060\", \"#006060\", \"#606060\", \n    \"#A00000\", \"#00A000\", \"#0000A0\", \"#A0A000\", \"#A000A0\", \"#00A0A0\", \"#A0A0A0\", \n    \"#E00000\", \"#00E000\", \"#0000E0\", \"#E0E000\", \"#E000E0\", \"#00E0E0\", \"#E0E0E0\", \n  ];\n\n  chartRef = React.createRef();\n  chartRef2 = React.createRef();\n  chartStatesRef = React.createRef();\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"\");\n  }\n\n  componentDidMount() {\n    if(this.props.statistics && this.state.statistics == null){\n      let data = {}\n      Object.assign(data, this.props.statistics);\n\n      console.log(data)\n\n      // char usage\n      let chars = []\n\n      Object.keys(data[\"char_usage\"]).forEach(char => {\n        let obj = {\n          name: char,\n          usage: data[\"char_usage\"][char],\n          icon: char\n        }\n        chars.push(obj);\n      });\n\n      data[\"char_usage\"] = chars;\n\n      data[\"char_usage\"].sort(function(a, b) {\n        return b.usage - a.usage;\n      });\n\n      data[\"usage_labels\"] = []\n      data[\"usage_values\"] = []\n      data[\"usage_icon\"] = []\n\n      data[\"char_usage\"].forEach((chara) => {\n        data[\"usage_labels\"].push(chara.name);\n        data[\"usage_values\"].push(chara.usage);\n        data[\"usage_icon\"].push(chara.icon);\n      })\n\n      if(\"players_per_state\" in data){\n        data[\"players_per_state\"] = Object.entries(data[\"players_per_state\"])\n\n        data[\"players_per_state\"].sort(function(a, b) {\n          return b[1] - a[1];\n        });\n      }\n\n      console.log(data)\n\n      this.setState({statistics: data});\n    }\n  }\n\n  componentWillUnmount(){\n    this.state.statistics = null;\n  }\n\n  componentDidUpdate() {\n    //if(this.chartRef == null) return;\n    //if(this.chartRef.current == null) return;\n    if(this.state.statistics == null) return;\n    //if(this.myChartRef != null) return;\n\n    if(this.originalBarController == null)\n      this.originalBarController = Chart.controllers.bar;\n    let originalBarController = this.originalBarController;\n\n    // Players per league chart\n    if(\"players_per_league\" in this.state.statistics && this.chartRef2 != null){\n      // Points per league chart\n      this.myChartRef2 = this.chartRef2.current.getContext(\"2d\");\n\n      if(this.myChartRef2){\n        var chartData = {\n          \"labels\": this.state.statistics.score_per_league.map((a)=>{return a[0]}),\n          \"datasets\": [{\n            \"data\": this.state.statistics.score_per_league.map((a)=>{return a[1][\"average\"]}),\n            \"fill\": false,\n            \"backgroundColor\": \"rgba(255, 183, 0, 1)\",\n            \"borderWidth\": 0\n          }],\n          \"icons\": this.state.statistics.score_per_league.map((a)=>{return a[0]})\n        };\n      \n        for (var i in chartData.labels) {\n          let lab = chartData.labels[i];\n          let icon = chartData.icons[i];\n          var $img = window.jQuery(\"<img/>\").attr(\"id\", lab).attr(\n            \"src\",\n            \"https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/league_icon/\"+icon+\".png\"\n          );\n          window.jQuery(\"#pics\").append($img);\n        }\n      \n        var myBar = new Chart(this.myChartRef2, {\n          \"type\": \"bar\",\n          \"data\": chartData,\n          gridLines: {\"drawBorder\": false},\n          borderWidth: 0,\n          border: 0,\n          \"options\": {\n            legend: { display: false },\n            layout: { padding: \"32\" },\n            \"scales\": {\n              \"yAxes\": [{\n                id: \"y0\",\n                \"ticks\": {\n                  \"beginAtZero\": true\n                }\n              }]\n            }\n          }\n        });\n\n        Chart.controllers.bar = originalBarController.extend({\n          draw: function() {\n            originalBarController.prototype.draw.call(this, arguments);\n            drawFlags1(this);\n          }\n        });\n        \n        function drawFlags1(t) {\n          if(!t) return;\n          if(!t.chart.ctx) return;\n          var chartInstance = t.chart;\n          var dataset = chartInstance.config.data.datasets[0].data;\n          var meta = chartInstance.controller.getDatasetMeta(0);\n          t.chart.ctx.imageSmoothingQuality = \"high\"\n          t.chart.ctx.textAlign = \"center\";\n          meta.data.forEach(function(bar, index) {\n            var lab = bar._model.label;\n            var img = document.getElementById(lab);\n            if(img != null && img.naturalHeight !== 0){\n              t.chart.ctx.drawImage(img,bar._model.x-12,bar._view.y-12,24,24);\n            }\n            t.chart.ctx.fillText(parseFloat(dataset[bar._index]).toFixed(1), bar._model.x,bar._view.y-12)\n          });\n        }\n      }\n    }\n\n    // Character Usage Chart\n    this.myChartRef = this.chartRef.current.getContext(\"2d\");\n\n    console.log(this.myChartRef);\n\n    if(this.myChartRef){\n      console.log(\"b\")\n      var chartData = {\n        maintainAspectRatio: false,\n        \"labels\": this.state.statistics[\"usage_labels\"],\n        \"datasets\": [{\n          \"data\": this.state.statistics[\"usage_values\"],\n          \"fill\": false,\n          \"backgroundColor\": \"rgba(255, 183, 0, 1)\",\n          \"borderWidth\": 0\n        }],\n        \"icons\": this.state.statistics[\"usage_icon\"]\n      };\n      \n      for (var i in chartData.labels) {\n        let lab = chartData.labels[i];\n        var $img = window.jQuery(\"<img/>\").attr(\"id\", lab).attr(\n          \"src\",\n          process.env.PUBLIC_URL+\"/portraits-small/granblue/\"+this.getCharName(lab)+\".png\"\n        );\n        $img.onload = function(){\n          this.draw();\n        }\n        window.jQuery(\"#pics\").append($img);\n      }\n\n      Chart.controllers.bar = Chart.controllers.bar.extend({\n        draw: function() {\n          originalBarController.prototype.draw.call(this, arguments);\n          drawFlags(this);\n        }\n      });\n      \n      function drawFlags(t) {\n        if(!t) return;\n        if(!t.chart.ctx) return;\n        var chartInstance = t.chart;\n        var dataset = chartInstance.config.data.datasets[0].data;\n        var meta = chartInstance.controller.getDatasetMeta(0);\n        t.chart.ctx.imageSmoothingQuality = \"high\"\n        t.chart.ctx.textAlign = \"center\";\n        meta.data.forEach(function(bar, index) {\n          var lab = bar._model.label;\n          var img = document.getElementById(lab);\n          if(img != null && img.naturalHeight !== 0){\n            t.chart.ctx.drawImage(img,bar._model.x-12,bar._view.y-12,24,24);\n          }\n          t.chart.ctx.fillText(dataset[bar._index].toFixed(0), bar._model.x,bar._view.y-12)\n        });\n      }\n      \n      var myBar = new Chart(this.myChartRef, {\n        \"type\": \"bar\",\n        \"data\": chartData,\n        gridLines: {\"drawBorder\": false},\n        borderWidth: 0,\n        border: 0,\n        \"options\": {\n          legend: { display: false },\n          layout: { padding: \"32\" },\n          \"scales\": {\n            \"yAxes\": [{\n              id: \"y0\",\n              \"ticks\": {\n                \"beginAtZero\": true\n              }\n            }]\n          }\n        }\n      });\n    }\n\n    // players per state chart\n    if(\"players_per_state\" in this.state.statistics){\n      // Points per league chart\n      this.myChartStatesRef = this.chartStatesRef.current.getContext(\"2d\");\n\n      if(this.myChartStatesRef){\n        var chartData = {\n          \"labels\": this.state.statistics.players_per_state.map((a)=>{return a[0]}),\n          \"datasets\": [{\n            \"data\": this.state.statistics.players_per_state.map((a)=>{return a[1]}),\n            \"fill\": false,\n            \"backgroundColor\": \"rgba(255, 183, 0, 1)\",\n            \"borderWidth\": 0\n          }],\n          \"icons\": this.state.statistics.players_per_state.map((a)=>{return a[0]})\n        };\n      \n        for (var i in chartData.labels) {\n          let lab = chartData.labels[i];\n          let icon = chartData.icons[i];\n          var $img = window.jQuery(\"<img/>\").attr(\"id\", lab).attr(\n            \"src\",\n            \"https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/state_icon/\"+icon+\".png\"\n          );\n          window.jQuery(\"#pics\").append($img);\n        }\n\n        Chart.controllers.bar = originalBarController.extend({\n          draw: function() {\n            originalBarController.prototype.draw.call(this, arguments);\n            drawFlags3(this);\n          }\n        });\n        \n        function drawFlags3(t) {\n          if(!t) return;\n          if(!t.chart.ctx) return;\n          var chartInstance = t.chart;\n          var dataset = chartInstance.config.data.datasets[0].data;\n          var meta = chartInstance.controller.getDatasetMeta(0);\n          t.chart.ctx.imageSmoothingQuality = \"high\"\n          t.chart.ctx.textAlign = \"center\";\n          meta.data.forEach(function(bar, index) {\n            var lab = bar._model.label;\n            var img = document.getElementById(lab);\n            if(img != null && img.naturalHeight !== 0){\n              t.chart.ctx.drawImage(img,bar._model.x-16,bar._view.y-12,32,24);\n            }\n              t.chart.ctx.fillText(parseFloat(dataset[bar._index]).toFixed(0), bar._model.x,bar._view.y-12)\n          });\n        }\n      \n        var myBar = new Chart(this.myChartStatesRef, {\n          \"type\": \"bar\",\n          \"data\": chartData,\n          gridLines: {\"drawBorder\": false},\n          borderWidth: 0,\n          border: 0,\n          \"options\": {\n            legend: { display: false },\n            layout: { padding: \"32\" },\n            \"scales\": {\n              \"yAxes\": [{\n                id: \"y0\",\n                \"ticks\": {\n                  \"beginAtZero\": true\n                }\n              }]\n            }\n          }\n        });\n      }\n    }\n  }\n\n  render (){\n    return(\n      <div class=\"slide-fade list-group-item\" style={{\n        backgroundColor: \"#f0f0f0\", borderRadius: \"10px\", border: 0, marginBottom: \"5px\", margin: \"10px\",\n        padding: \"30px\", alignSelf: \"center\", textAlign: \"left\", fontFamily: \"Roboto, sans-serif\"\n      }}>\n        {this.state.statistics ?\n          <div>\n            {\"players_per_state\" in this.state.statistics ?\n              <div class=\"row mb-3 mt-3\">\n                <div class=\"col\">\n                  <h5>Jogadores por Estado</h5>\n                  <div style={{width: \"100%\", overflowX: \"scroll\", backgroundColor: \"#e4e4e4\"}}>\n                    <div style={{width: 800, height:300}}>\n                      <canvas style={{width: 800, height: 300}} ref={this.chartStatesRef} id=\"myChartStates\" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              :\n              null\n            }\n            \n            <div class=\"row mb-3 mt-3\">\n              <div class=\"col\">\n                <h5>Uso de personagens</h5>\n                <div style={{width: \"100%\", overflowX: \"scroll\", backgroundColor: \"#e4e4e4\"}}>\n                  <div style={{width: 800, height:300}}>\n                    <canvas style={{width: 800, height: 300}} ref={this.chartRef} id=\"myChart\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        :\n          <div>Loading...</div>\n        }\n        <div id=\"pics\" style={{display: \"none\"}}></div>\n      </div>\n    )\n  }\n};\n\nexport default StatisticsGranblue","import { faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Dialog, DialogContent, DialogTitle } from '@material-ui/core';\nimport React, { Component } from 'react'\nimport i18n from '../locales/i18n';\n\nclass HelpButton extends Component {\n  state = {\n    opened: false\n  }\n\n  componentDidUpdate(prevProps) {\n  }\n\n  componentDidMount() {\n    this.modalRef = React.createRef();\n  }\n\n  openModal(){\n    this.setState({opened: true})\n  }\n\n  componentWillUnmount(){\n    window.jQuery(this.modalRef.current).remove();\n  }\n\n  render (){\n    return(\n      <div style={{display: \"inline-block\"}}>\n        <div onClick={()=>this.openModal()}\n        style={{display: \"inline-block\", cursor: \"pointer\", fontSize: \"initial\", verticalAlign: \"middle\"}}>\n          <FontAwesomeIcon icon={faQuestionCircle} />\n        </div>\n\n        <Dialog open={this.state.opened} onClose={()=>{this.setState({opened: false})}}>\n          <DialogTitle>\n            Help\n          </DialogTitle>\n          <DialogContent>\n            {this.props.content ? this.props.content : \"\"}\n          </DialogContent>\n        </Dialog>\n      </div>\n    )\n  }\n};\n\nexport default HelpButton","import React, { Component } from 'react'\nimport styles from './contacts.module.css'\nimport { Link, useParams, useLocation } from 'react-router-dom';\nimport PlayerModalGranblue from './playermodalgranblue';\nimport styles_selector from './leagueselector.module.css'\nimport StatisticsGranblue from './statisticsgranblue';\n\nclass Granblue extends Component {\n  state = {\n    selectedLeague: 0,\n    selectedTab: \"ps4\",\n    players_pc: [],\n    players_ps4: [],\n    top3Colors: [\"#D6AF36\", \"#D7D7D7\", \"#A77044\"],\n    top3Colors2: [\"#AF9500\", \"#B4B4B4\", \"#6A3805\"],\n    top3Colors3: [\"#C9B037\", \"#A7A7AD\", \"#824A02\"]\n  }\n\n  componentDidUpdate(nextProps) {\n    if(nextProps !== this.props) {\n      this.updateData();\n    }\n  }\n\n  componentDidMount() {\n    if(this.props.match){\n      let selectedTab = this.props.match.match.params[\"tab\"];\n      if(selectedTab){\n        this.handleTabChange(selectedTab);\n        console.log(this.state.selectedTab)\n      }\n    }\n    \n    this.updateData();\n  }\n\n  preloadImagesPs4(index) {\n    index = index || 0;\n\n    if(!this.state.players_ps4) return\n    if(index >= this.state.players_ps4.length){\n      this.setState(this.state);\n      return;\n    }\n\n    if(!this.state.players_ps4[index].twitter){\n      this.preloadImagesPs4(index+1);\n      return;\n    }\n\n    var img = new Image();\n\n    setTimeout(()=>{\n      this.state.players_ps4[index].avatar = img.src;\n      this.preloadImagesPs4(index + 1);\n      if(index % 8 == 0)\n        this.setState(this.state);\n    }, 5);\n\n    img.src = `http://twitter-avatar.now.sh/${this.getTwitterHandle(this.state.players_ps4[index].twitter)}`;\n  }\n\n  preloadImagesPc(index) {\n    index = index || 0;\n\n    if(!this.state.players_pc) return\n    if(index >= this.state.players_pc.length){\n      this.setState(this.state);\n      return;\n    }\n\n    if(!this.state.players_pc[index].twitter){\n      this.preloadImagesPc(index+1);\n      return;\n    }\n\n    var img = new Image();\n\n    setTimeout(()=>{\n      this.state.players_pc[index].avatar = img.src;\n      this.preloadImagesPc(index + 1);\n      if(index % 8 == 0)\n        this.setState(this.state);\n    }, 5);\n\n    img.src = `http://twitter-avatar.now.sh/${this.getTwitterHandle(this.state.players_pc[index].twitter)}`;\n  }\n\n  updateData() {\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/granblue/out/ranking.json')\n    .then(res => res.json())\n    .then((data) => {\n      fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/granblue/allplayers.json')\n      .then(res => res.json())\n      .then((allplayers_data) => {\n        if(data && allplayers_data){\n          this.state.allplayers = allplayers_data;\n\n          let players_pc = [];\n          let players_ps4 = [];\n\n          Object.keys(data[\"ranking\"]).forEach(function(id){\n            let p = allplayers_data[\"players\"][allplayers_data[\"mapping\"][id]]\n\n            if(p.twitter) {\n              p.avatar = \"?\";\n            }\n  \n            if(p.mains.length == 0 || p.mains[0] == \"\"){\n              p.mains = [\"Random\"]\n            }\n\n            if(p[\"tournament_points_pc\"].length > 0)\n              players_pc.push(p);\n            if(p[\"tournament_points_ps4\"].length > 0)\n              players_ps4.push(p);\n          }, this);\n          \n          players_pc.sort(function(a, b){\n            if(Number(b[\"score_pc\"]) - Number(a[\"score_pc\"]) != 0){\n              return Number(b[\"score_pc\"]) - Number(a[\"score_pc\"]);\n            } else {\n              if(a[\"name\"] < b[\"name\"]) { return -1; }\n              if(a[\"name\"] > b[\"name\"]) { return 1; }\n              return 0;\n            }\n          });\n\n          players_ps4.sort(function(a, b){\n            if(Number(b[\"score_ps4\"]) - Number(a[\"score_ps4\"]) != 0){\n              return Number(b[\"score_ps4\"]) - Number(a[\"score_ps4\"]);\n            } else {\n              if(a[\"name\"] < b[\"name\"]) { return -1; }\n              if(a[\"name\"] > b[\"name\"]) { return 1; }\n              return 0;\n            }\n          });\n\n          this.state.players_pc = players_pc;\n          this.state.players_ps4 = players_ps4;\n          this.setState({ players_pc: players_pc, players_ps4: players_ps4, statistics: data.statistics })\n\n          this.preloadImagesPc();\n          this.preloadImagesPs4();\n        }\n      })\n      .catch(console.log)\n    })\n    .catch(console.log)\n  }\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"_\");\n  }\n\n  getTwitterHandle(twitter){\n    let parts = twitter.split('/');\n    return parts[parts.length-1];\n  }\n\n  normalizePlayerName(name){\n    return name.replace(//g, \"a\").replace(//g, \"A\")\n      .normalize(\"NFKD\")\n      .replace(/ /g, '_').replace(/@/g, \"_At_\")\n      .replace(/~/g, \"_Tilde_\").replace(RegExp('[^0-9a-zA-Z_-]'), '')\n      .replace(\"|\", \"\")\n  }\n\n  openPlayerModal(player){\n    if(window.playerModalGranblue){\n      window.playerModalGranblue.player = player\n      window.playerModalGranblue.fetchPlayer();\n    }\n  }\n\n  handleTabChange(value){\n    if(this.state.selectedTab != value){\n      this.state.selectedTab = value;\n      this.setState(this.state);\n    }\n  }\n\n  render (){\n    let players = this.state.selectedTab == \"pc\" ? this.state.players_pc : this.state.players_ps4;\n    let score_string = this.state.selectedTab == \"pc\" ? \"score_pc\" : \"score_ps4\";\n\n    return(\n      <div style={{textAlign: \"center\", fontFamily: \"SmashFont\"}}>\n        <div className=\"teste btn-group btn-group-toggle col-12\" style={{padding: \"5px 8px 0px 10px\", marginBottom: \"-5px\"}}>\n          <button className={styles_selector.teste+\" btn col-12\"} value=\"ps4\" aria-expanded={this.state.selectedTab === \"ps4\"} onClick={(event)=>this.handleTabChange(event.target.value)}>\n            PS4\n          </button>\n          <button className={styles_selector.teste+\" btn col-12\"} value=\"pc\" aria-expanded={this.state.selectedTab === \"pc\"} onClick={(event)=>this.handleTabChange(event.target.value)}>\n            PC\n          </button>\n          <button className={styles_selector.teste+\" btn col-12\"} value=\"statistics\" aria-expanded={this.state.selectedTab === \"statistics\"} onClick={(event)=>this.handleTabChange(event.target.value)}>\n            Estatsticas\n          </button>\n        </div>\n\n        {\n          this.state.selectedTab == \"ps4\" || this.state.selectedTab == \"pc\" ?\n            <ul class=\"list-group\" style={{padding: \"10px\"}}>\n              <div class=\"row no-gutters\" style={{margin: \"0 -4px\"}}>\n                {players.slice(0,3).map((player, i) => (\n                  <div class={\"col-md-4 \" + styles.listItemParent}\n                  style={{padding: \"0px 4px\", cursor: \"pointer\"}}\n                  data-toggle=\"modal\" data-target=\"#playerModalGranblue\"\n                  onClick={()=>this.openPlayerModal(player)}>\n                    <li key={this.state.selectedLeague+'_'+i} class={styles.top3container + \" slide-fade list-group-item\"} style={{\n                        backgroundColor: this.state.top3Colors[i], borderRadius: \"10px\", border: 0, marginBottom: \"5px\", width: \"100%\", lineHeight: \"48px\",\n                        padding: 0, display: \"flex\", alignSelf: \"center\", overflow: \"hidden\"\n                      }}>\n                        <div style={{\n                          backgroundColor: this.state.top3Colors2[i], position: \"absolute\",\n                          top: 0, bottom: 0, left: 0, right: 0,\n                          clipPath: \"polygon(0 0, 0% 100%, 100% 100%)\"\n                        }}></div>\n                        <div style={{\n                          backgroundColor: this.state.top3Colors3[i], position: \"absolute\",\n                          top: 0, bottom: 0, left: 0, right: 0,\n                          clipPath: \"polygon(0 60%, 0% 100%, 100% 100%)\"\n                        }}></div>\n                        <div style={{\n                          backgroundImage: `url(${process.env.PUBLIC_URL}/portraits-full/granblue/${this.getCharName(player.mains[0])}.png)`, display: \"flex\",\n                          width: \"100%\", backgroundPosition: \"center 0\", backgroundSize: \"cover\",\n                          filter: \"drop-shadow(10px 10px 0px #000000AF)\"\n                        }}>\n                          <div class={styles.listItemChild} style={{\n                            backgroundColor: \"#f0f0f0\", alignItems: \"center\", display: \"flex\", flexDirection: \"column\",\n                            height: \"60px\", position: \"absolute\", left: \"0px\", right: \"0px\", bottom: 0, justifyContent: \"center\"\n                          }}>\n                            <div style={{\n                              flexGrow: 0, fontSize: \"2rem\", lineHeight: \"2rem\", width: \"100%\",\n                              textOverflow: \"ellipsis\", overflow: \"hidden\", whiteSpace: \"nowrap\"\n                            }}>{player.name}</div>\n                            <div style={{\n                              flexGrow: 0, fontSize: \"1rem\", lineHeight: \"1rem\", width: \"100%\", color: \"darkgray\",\n                              textOverflow: \"ellipsis\", overflow: \"hidden\", whiteSpace: \"nowrap\"\n                            }}>{player.full_name}</div>\n                          </div>\n                        </div>\n\n                        <div style={{\n                          width: \"200px\", height: \"200px\", position: \"absolute\", backgroundColor: \"#f0f0f0\", top: -100, left: -100, transform: \"rotate(-45deg)\"\n                        }}>\n                        </div>\n                        <div style={{\n                          width: \"100px\", height: \"100px\", position: \"absolute\", top: 0\n                        }}>\n                          <div style={{\n                            width: 100, height: 100, backgroundImage: `url(${process.env.PUBLIC_URL}/icons/rank${i+1}.png)`,\n                            backgroundSize: \"cover\", position: \"absolute\"\n                          }}></div>\n                        </div>\n\n                        <div style={{\n                          position: \"absolute\", left: \"0px\", right: \"0px\", bottom: \"60px\",\n                          color: \"white\", display: \"flex\", whiteSpace: \"nowrap\", lineHeight: \"32px\"\n                        }}>\n                          <div style={{\n                            display: \"flex\", flexGrow: 1, flexWrap: \"wrap\", alignSelf: \"flex-end\", padding: \"10px\", filter: \"drop-shadow(2px 2px 0px black)\"\n                          }}>\n                            {player.mains.length > 0 ?\n                              player.mains.slice(1).map((main)=>(\n                                <div style={{\n                                  backgroundImage: `url(http://braacket.com/${this.getCharName(main)})`,\n                                  width: \"32px\", height: \"32px\", backgroundPosition: \"center\", backgroundSize: \"cover\",\n                                  flexGrow: 0, display: \"inline-block\"\n                                }}></div>\n                              ))\n                              :\n                              null\n                            }\n                          </div>\n                          <div class=\"\" style={{\n                            width: \"64px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", padding: \"8px\", alignSelf: \"flex-end\"\n                          }}>\n                            {player.state ?\n                              <div class=\"state-flag\" style={{\n                                backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/state_icon/${player.state}.png)`,\n                                width: \"100%\", height: \"47px\", display: \"inline-block\", backgroundSize: \"contain\", backgroundRepeat: \"no-repeat\",\n                                backgroundPosition: \"center\", paddingTop: \"32px\"\n                              }}>{player.state}</div>\n                            :\n                              null\n                            }\n                          </div>\n                          <div style={{\n                            fontSize: \"2rem\", backgroundColor: \"black\", color: \"white\", textAlign: \"right\",\n                            alignSelf: \"flex-end\", padding: \"10px\"\n                          }}>\n                            {player[score_string]} pts.\n                          </div>\n                        </div>\n\n                        {player.avatar ?\n                          <a href={player.twitter}>\n                            <div style={{\n                              backgroundImage: `url(${player.avatar})`,\n                              width: \"96px\", height: \"96px\", backgroundSize: \"cover\", backgroundPosition: \"center\",\n                              borderRadius: \"100%\", position: \"absolute\", right: 10, top: 10, border: \"5px #f0f0f0 solid\",\n                              backgroundColor: \"gray\"\n                            }}>\n                              {player.twitter ? \n                                <div style={{width: \"100%\", height: \"100%\", display: \"flex\", alignItems: \"flex-end\", justifyContent: \"flex-end\", margin: \"5px\"}}>\n                                  <div style={{\n                                    backgroundImage: \"url(/icons/twitter.svg)\", width: 32, height: 32, bottom: 0, right: 0\n                                  }}></div>\n                                </div>\n                                :\n                                null}\n                            </div>\n                          </a>\n                        :\n                          null\n                        }\n                    </li>\n                  </div>\n                ))}\n              </div>\n\n\n              {players.slice(3).map((player, i) => (\n                <li key={this.state.selectedLeague+\"_\"+i}\n                class={\"slide-fade \" + styles.listItem + \" list-group-item\"}\n                style={{cursor: \"pointer\"}}\n                data-toggle=\"modal\" data-target=\"#playerModalGranblue\"\n                onClick={()=>this.openPlayerModal(player)}\n                >\n                  <div class={styles.playerRanking}>{i+4}</div>\n\n                  {player.avatar ?\n                    <a href={player.twitter}>\n                      <div class=\"player-avatar\" style={{\n                        backgroundImage: `url(${player.avatar})`,\n                        width: \"64px\", height: \"100%\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                        backgroundPosition: \"center\", backgroundColor: \"white\",\n                      }}>\n                        {player.twitter ? \n                          <div style={{width: \"100%\", height: \"100%\", display: \"flex\", alignItems: \"flex-end\", justifyContent: \"flex-end\"}}>\n                            <div style={{\n                              backgroundImage: \"url(/icons/twitter.svg)\", width: 16, height: 16, bottom: 0, right: 0, margin: \"2px\"\n                            }}></div>\n                          </div>\n                          :\n                          null}\n                      </div>\n                    </a>\n                  :\n                    <div class=\"player-avatar\" style={{\n                      width: \"64px\", height: \"48px\", display: \"inline-block\", backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\",\n                      backgroundPosition: \"center\",\n                    }}></div>\n                  }\n\n                  <div class=\"state-flag-container\" style={{\n                    width: \"64px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", padding: \"8px\"\n                  }}>\n                    {player.state ?\n                      <div class=\"state-flag\" style={{\n                        backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/state_icon/${player.state}.png)`,\n                        width: \"100%\", height: \"100%\", display: \"inline-block\", backgroundSize: \"contain\", backgroundRepeat: \"no-repeat\",\n                        backgroundPosition: \"center\"\n                      }}>{player.state}</div>\n                    :\n                      null\n                    }\n                  </div>\n\n                  <div class=\"player-name-container\" style={{display: \"flex\", flexGrow: 1, overflow: \"hidden\", textOverflow: \"ellipsis\", justifyContent: \"center\"}}>\n                    <div class=\"player-name\" style={{overflow: \"hidden\", textOverflow: \"ellipsis\",\n                      overflowWrap: \"break-word\", lineHeight: \"1.6rem\", fontSize: \"1.2rem\"\n                    }}>\n                      {player.name}\n                    </div>\n                    <div class=\"player-name-small\" style={{\n                      overflow: \"hidden\", textOverflow: \"ellipsis\", color: \"darkgray\", fontSize: \"0.8rem\",\n                      whiteSpace: \"nowrap\", lineHeight: \"0.8rem\"\n                    }}>\n                      {player.full_name}\n                    </div>\n                  </div>\n\n                  <div class=\"player-score\" style={{width: \"128px\", padding: \"5px\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", flexShrink: 0}}>\n                    <div style={{backgroundColor: \"black\", flexGrow: 1, display: \"flex\"}}>\n                      <div style={{\n                        backgroundColor: \"black\", color: \"white\", fontSize: \"1.2rem\", lineHeight: \"1.2rem\", flexGrow: 1, alignSelf: \"center\", width: \"100%\"\n                      }}>{player[score_string]} pts.</div>\n                    </div>\n                  </div>\n\n                  <div class=\"player-main\" style={{display: \"flex\", width: \"128px\"}}>\n                    {player.mains.length > 0 ?\n                      <div style={{\n                        backgroundImage: `url(${process.env.PUBLIC_URL}/portraits-small/granblue/${this.getCharName(player.mains[0])}.png)`,\n                        width: \"128px\", backgroundPosition: \"center\", backgroundSize: \"cover\", backgroundColor: \"#ababab\", overflow: \"hidden\"\n                      }}>\n                        <div style={{overflow: \"hidden\", display: \"flex\", height: \"100%\", alignItems: \"flex-end\", justifyContent: \"flex-end\"}}>\n                          {player.mains.slice(1).map((main)=>(\n                            <div class=\"player-main-mini\" style={{\n                              backgroundImage: `url(${process.env.PUBLIC_URL}/portraits-small/granblue/${this.getCharName(main)}.png)`,\n                              width: \"24px\", height: \"24px\", backgroundPosition: \"center\", backgroundSize: \"cover\",\n                              flexGrow: 0, display: \"flex\", flexShrink: 1, borderRadius: \"100%\",\n                              border: \"1px solid black\"\n                            }}></div>\n                          ))}\n                        </div>\n                      </div>\n                      :\n                      <div style={{\n                        backgroundImage: `url(${process.env.PUBLIC_URL}/portraits-small/${\"random\"}.png)`,\n                        width: \"128px\", backgroundPosition: \"center\", backgroundSize: \"cover\", backgroundColor: \"#ababab\"\n                      }}></div>\n                    }\n                  </div>\n                </li>\n              ))}\n            </ul>\n          :\n            <StatisticsGranblue statistics={this.state.statistics} />\n        }\n\n        <PlayerModalGranblue />\n      </div>\n    )\n  }\n};\n\nexport default Granblue","import React, { Component } from 'react';\nimport moment from \"../../node_modules/moment-timezone/moment-timezone\";\nimport styles from \"./nextTournaments.module.css\"\nimport { faCalendar, faEdit, faMapMarkerAlt, faUser, faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport i18n from '../locales/i18n';\nimport HelpButton from './HelpButton';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport ScrollTop from './ScrollTop';\nimport { Avatar, Box, CardHeader, Chip, Grid, LinearProgress, Link, MenuItem, ListSubheader, Select, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\n\nlet useStyles = (props) => ({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 140,\n  },\n  barRoot: {\n    height: 10,\n    borderRadius: 5,\n  },\n  barIncomplete: {\n    borderRadius: 5,\n  },\n  barComplete: {\n    borderRadius: 5,\n    backgroundColor: \"green\"\n  },\n  couponChip: {\n    margin: 6\n  },\n  select: {\n    fontSize: '1.4rem',\n    marginBottom: '1rem'\n  },\n  cardHeader: {\n    overflow: \"hidden\"\n  }\n});\n\nclass NextTournaments extends Component {\n  state = {\n    tournaments: [],\n    selectedCountry: \"all\",\n    selections: {},\n    alltournaments: null\n  }\n\n  componentDidUpdate(nextProps) {\n  }\n\n  componentDidMount() {\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/nexttournaments.json')\n    .then(res => res.json())\n    .then((data) => {\n      console.log(data);\n\n      Object.entries(data).forEach(country => {\n        country[1].events.forEach((event)=>{\n          event.country = country[0];\n        })\n      })\n\n      this.state.alltournaments = data;\n\n      let selections = {}\n\n      Object.entries(data).forEach(country => {\n        if(!selections.hasOwnProperty(country[1].region)){\n          selections[country[1].region] = []\n        }\n        selections[country[1].region].push(country[0])\n      });\n\n      this.state.selections = selections;\n\n      this.setState(this.state);\n      \n      if(this.props.match && this.props.match.params && this.props.match.params.country){\n        this.state.selectedCountry = this.props.match.params.country.toLowerCase();\n      }\n\n      this.filterTournaments(this.state.selectedCountry);\n    })\n    .catch(console.log)\n  }\n\n  selectCountry(e){\n    this.state.selectedCountry = e.target.value;\n    this.filterTournaments(e.target.value);\n  }\n\n  filterTournaments(value){\n    value = value.toLowerCase();\n\n    let selectedTournaments = [];\n\n    if(value.startsWith(\"region_\")){\n      Object.entries(this.state.alltournaments).forEach((country)=>{\n        if(country[1].region.toLowerCase() == value.split(\"region_\")[1]){\n          selectedTournaments = selectedTournaments.concat(country[1].events)\n        }\n      })\n    } else if(Object.keys(this.state.alltournaments).includes(value.toUpperCase())) {\n      selectedTournaments = this.state.alltournaments[value.toUpperCase()].events;\n    } else {\n      Object.entries(this.state.alltournaments).forEach((country)=>{\n        selectedTournaments = selectedTournaments.concat(country[1].events)\n      })\n    }\n    \n    selectedTournaments = selectedTournaments.sort((a, b) => (a.startAt > b.startAt) ? 1 : -1);\n\n    this.state.tournaments = selectedTournaments;\n\n    this.setState(this.state);\n\n    this.props.history.push('/'+this.props.game+'/nexttournaments/'+this.state.selectedCountry.toLowerCase());\n  }\n\n  render (){\n    const { classes } = this.props;\n\n    return(\n      <Box>\n        <ScrollTop />\n        <Box>\n          <h2 style={{color: \"white\"}}>\n            {i18n.t(\"next-tournaments\")} <HelpButton content=\"To have your tournaments listed on this page, set their location to your country, even for online tournaments.\" />\n          </h2>\n          <Select className={classes.select} fullWidth value={this.state.selectedCountry} onChange={(e)=>this.selectCountry(e)}>\n            <MenuItem value=\"all\">{i18n.t(\"all\")}</MenuItem>\n            {Object.keys(this.state.selections).map((region) => (\n              [<ListSubheader>{i18n.t(\"region-\"+region.toLowerCase())}</ListSubheader>,\n              <MenuItem value={\"region_\"+region.toLowerCase()}>{i18n.t(\"all\")} ({i18n.t(\"region-\"+region.toLowerCase())})</MenuItem>,\n              this.state.selections[region].map((country) => (\n                <MenuItem value={country.toLowerCase()}>{country+\" (\"+this.state.alltournaments[country].events.length+\")\"}</MenuItem>\n              ))]\n            ))}\n          </Select>\n          {this.state.selectedCountry == \"br\" ? \n            <a href=\"https://twitter.com/smash_bot_br\" class=\"col-12\" style={{backgroundColor: \"white\", minHeight: \"64px\", display: \"flex\", alignItems: \"center\", marginTop: 8}}>\n              <img src=\"/images/bot.png\" style={{height: 48, width: 48, borderRadius: 8}} />\n              <div style={{padding: 8, color: \"black\"}}>Siga o @smash_bot_br para ser notificado de prximos eventos e resultados de torneios em tempo real!</div>\n            </a>\n            :\n            null\n          }          \n        </Box>\n        <Box>\n          {\n            this.state.tournaments != null ?\n              <Grid container justify=\"flex-start\" spacing={2} width=\"100%\">\n                {this.state.tournaments.filter(t=>{return t.url != null}).map((tournament)=>(\n                  <Grid item component={Link} lg={4} md={6} sm={6} xs={12}\n                  underline=\"none\" href={tournament.url} target=\"_blank\"\n                  style={{display: \"flex\", justifyContent: \"center\"}}>\n                    <Card fullWidth className={classes.root} style={{width: \"100%\"}}>\n                      <CardActionArea>\n                        <CardHeader noWrap classes={{content: classes.cardHeader}}\n                          avatar={<Avatar src={`https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/country_flag/${tournament.country.toLowerCase()}.png`} />}\n                          title={<Typography noWrap variant=\"h6\" component=\"h2\">\n                            {tournament.tournament}\n                          </Typography>}\n                          subheader={\n                            tournament.tournament_multievent ?\n                              tournament.name\n                              :\n                              null\n                          }\n                        />\n                        <CardMedia\n                          className={classes.media}\n                          image={(tournament.images ? ((tournament.images.find(img => img[\"type\"]==\"banner\") || tournament.images[tournament.images.length-1])?.url || \"\") : \"\")}\n                          title={tournament.title}>\n                          {tournament.coupon ?\n                            <Link underline=\"none\" href=\"#\">\n                              <Chip\n                                className={classes.couponChip}\n                                label={\"Coupon: \"+tournament.coupon}\n                                color=\"primary\"\n                                clickable\n                                onClick={(event)=>{}}\n                              />\n                            </Link>\n                            :\n                            null\n                          }\n                        </CardMedia>\n                        <CardContent>\n                          {tournament.isOnline ?\n                            <ListItem dense disableGutters alignItems=\"flex-start\">\n                              <ListItemIcon style={{minWidth: 32}}><FontAwesomeIcon icon={faWifi}/></ListItemIcon>\n                              <ListItemText primary=\"Online\" />\n                            </ListItem>\n                            :\n                            <ListItem dense disableGutters alignItems=\"flex-start\">\n                              <ListItemIcon style={{minWidth: 32}}><FontAwesomeIcon icon={faMapMarkerAlt}/></ListItemIcon>\n                              <ListItemText primary={(tournament.tournament_venueName ? tournament.tournament_venueName+\" - \" : \"\") + tournament.tournament_addrState} />\n                            </ListItem>\n                          }\n\n                          <ListItem dense disableGutters alignItems=\"flex-start\">\n                            <ListItemIcon style={{minWidth: 32}}><FontAwesomeIcon icon={faCalendar}/></ListItemIcon>\n                            <ListItemText primary={i18n.t(\"weekday-\"+moment(tournament.startAt * 1000).format(\"ddd\").toLowerCase())+\" \"+i18n.t(\"date_format\", {date: moment.unix(tournament.startAt).toDate()})+\" \"+moment(tournament.startAt * 1000).format(\"HH:mm\")+\" GMT\"+moment(tournament.startAt * 1000).format(\"Z\")} />\n                          </ListItem>\n\n                          <ListItem dense disableGutters alignItems=\"flex-start\">\n                            <ListItemIcon style={{minWidth: 32}}><FontAwesomeIcon icon={faEdit}/></ListItemIcon>\n                            <ListItemText primary={i18n.t(\"weekday-\"+moment(tournament.tournament_registrationClosesAt * 1000).format(\"ddd\").toLowerCase())+\" \"+i18n.t(\"date_format\", {date: moment.unix(tournament.tournament_registrationClosesAt).toDate()})+\" \"+moment(tournament.tournament_registrationClosesAt * 1000).format(\"HH:mm\")+\" GMT\"+moment(tournament.tournament_registrationClosesAt * 1000).format(\"Z\")} />\n                          </ListItem>\n                        </CardContent>\n                      </CardActionArea>\n                    </Card>\n                  </Grid>\n                  // <div class=\"col-md-6 col-xl-4\" style={{padding: 2}}>\n                  //   <a href={tournament.url} target=\"_blank\">\n                  //     <div className={styles.tournamentContainerHighlight} style={{cursor: \"pointer\"}}>\n                  //       <div className={styles.tournamentContainer} style={{backgroundColor: \"#ff5e24\", border: \"4px solid black\", cursor: \"pointer\"}}>\n                  //         <div style={{backgroundImage: \"url(\"+\n                  //           (tournament.images ? ((tournament.images.find(img => img[\"type\"]==\"banner\") || tournament.images[tournament.images.length-1])?.url || \"\") : \"\") +\n                  //           \")\", height: 140, margin: \"4px\",\n                  //         backgroundSize: \"cover\", backgroundPosition: \"center\", backgroundColor: \"black\"}}>\n                  //           <div style={{position: \"absolute\", width: 50, height: 30, backgroundPosition: \"center\", backgroundSize: \"cover\", margin: \"2px\", border: \"2px solid black\",\n                  //           backgroundImage: `url(https://raw.githubusercontent.com/joaorb64/tournament_api/sudamerica/country_flag/${tournament.country.toLowerCase()}.png)`}}></div>\n                  //         </div>\n\n                  //         <div style={{height: 48, display: \"flex\", flexDirection: \"column\", alignItems: \"center\", placeContent: \"center\",\n                  //         paddingLeft: \"8px\", paddingRight: \"8px\", background: \"rgb(255,113,40)\",\n                  //         background: \"linear-gradient(180deg, rgba(255,113,40,1) 0%, rgba(221,87,37,1) 100%)\"}}>\n                  //           {tournament.tournament_multievent ?\n                  //             <div style={{color: \"white\", textAlign: \"center\", fontSize: \"12px\",\n                  //             whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", overflow: \"hidden\",\n                  //             textShadow: \"2px 2px 0px #00000070\", width: \"100%\"}}>\n                  //               {tournament.tournament}\n                  //             </div>\n                  //             :\n                  //             null}\n                  //           <div style={{color: \"white\", textAlign: \"center\", fontSize: \"16px\",\n                  //           whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", overflow: \"hidden\",\n                  //           textShadow: \"2px 2px 0px #00000070\", width: \"100%\"}}>\n                  //             {tournament.tournament_multievent ? tournament.name : tournament.tournament}\n                  //           </div>\n                  //         </div>\n\n                  //         <div style={{display: \"flex\", color: \"black\", fontSize: \"0.8rem\", flexDirection: \"column\"}}>\n                  //           <div style={{backgroundColor: \"#dedede\", padding: \"2px\", paddingLeft: \"8px\", flexGrow: 1}}>\n                  //             {tournament.isOnline ?\n                  //               <span><FontAwesomeIcon icon={faWifi}/> Online</span>\n                  //               :\n                  //               <span><FontAwesomeIcon icon={faMapMarkerAlt}/> {(tournament.tournament_venueName ? tournament.tournament_venueName+\" - \" : \"\") + tournament.tournament_addrState}</span>\n                  //             }\n                  //           </div>\n\n                  //           <div style={{backgroundColor: \"#dedede\", padding: \"2px\", paddingRight: \"8px\", paddingLeft: \"8px\", flexGrow: 1, textAlign: \"left\"}}>\n                  //             <FontAwesomeIcon icon={faCalendar}/> {i18n.t(\"starts-time\")}: {i18n.t(\"weekday-\"+moment(tournament.startAt * 1000).format(\"ddd\").toLowerCase())} {i18n.t(\"date_format\", {date: moment.unix(tournament.startAt).toDate()})} {moment(tournament.startAt * 1000).format(\"HH:mm\")} GMT{moment(tournament.startAt * 1000).format(\"Z\")}\n                  //           </div>\n                            \n                  //           <div style={{backgroundColor: \"#dedede\", padding: \"2px\", paddingRight: \"8px\", paddingLeft: \"8px\", flexGrow: 1, textAlign: \"left\"}}>\n                  //             <FontAwesomeIcon icon={faEdit}/> {i18n.t(\"register-due\")}: {i18n.t(\"weekday-\"+moment(tournament.tournament_registrationClosesAt * 1000).format(\"ddd\").toLowerCase())} {i18n.t(\"date_format\", {date: moment.unix(tournament.tournament_registrationClosesAt).toDate()})} {moment(tournament.tournament_registrationClosesAt * 1000).format(\"HH:mm\")} GMT{moment(tournament.tournament_registrationClosesAt * 1000).format(\"Z\")}\n                  //           </div>\n                  //         </div>\n                  //       </div>\n                  //     </div>\n                  //   </a>\n                  // </div>\n                ))}\n              </Grid>\n              :\n              null\n          }\n        </Box>\n      </Box>\n    )\n  }\n};\n\nexport default withStyles(useStyles)(NextTournaments)","import React, { Component } from 'react';\nimport moment from \"../../node_modules/moment-timezone/moment-timezone\";\nimport HelpButton from './HelpButton';\nimport styles from \"./nextTournaments.module.css\"\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport ScrollTop from './ScrollTop';\nimport countriesJson from '../locales/countries.json';\nimport { Avatar, Box, CardHeader, Chip, Grid, LinearProgress, Link, MenuItem, Select } from '@material-ui/core';\n\nlet useStyles = (props) => ({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 140,\n  },\n  barRoot: {\n    height: 10,\n    borderRadius: 5,\n  },\n  barIncomplete: {\n    borderRadius: 5,\n    backgroundColor: \"blue\"\n  },\n  barComplete: {\n    borderRadius: 5,\n    backgroundColor: \"green\"\n  },\n  couponChip: {\n    margin: 6\n  },\n  select: {\n    fontSize: '1.4rem',\n    marginBottom: '1rem'\n  }\n});\n\nclass Matcherino extends Component {\n  state = {\n    matcherinos: {},\n    gameIds: [],\n    selected: null,\n    tournaments: {},\n    loading: false\n  }\n\n  componentDidUpdate(nextProps) {\n  }\n\n  componentDidMount() {\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/games/'+this.props.game+'/matcherinos.json')\n    .then(res => res.json())\n    .then((data) => {\n      console.log(data);\n\n      this.setState({\n        gameIds: data.gameIds,\n        matcherinos: data.accounts,\n        selected: Object.keys(data.accounts)[0]\n      });\n\n      if(this.props.match && this.props.match.params && this.props.match.params.country){\n        if(this.state.matcherinos && this.state.matcherinos[this.props.match.params.country.toUpperCase()] != null){\n          this.state.selected = this.props.match.params.country.toUpperCase();\n        }\n      }\n\n      this.selectCountry({target: {value: this.state.selected}});\n\n      /*let offset = 0;\n      let perPage = 10;\n      this.fetchPage(this.state.selected, offset, perPage);*/\n    });\n  }\n\n  fetchPage(stateSelection, offset, perPage) {\n    if(this.state.selected == null || this.state.selected != stateSelection) return;\n    \n    if(offset == 0){\n      this.state.tournaments[stateSelection] = [];\n      this.state.loading = true;\n      this.setState(this.state);\n    }\n\n    let promises = [];\n\n    this.state.matcherinos[this.state.selected].forEach((accountId)=>{\n      promises.push(fetch('https://matcherino.com/__api/bounties/list?offset='+offset+'&size='+perPage+'&creatorId='+accountId+'&published=true')\n      .then(res => res.json())\n      .then((data) => {\n        console.log(data);\n\n        data.body = data.body.filter((tournament) => {\n          if(tournament.status==\"ready\" && this.state.gameIds.includes(tournament.gameId)){\n            return true;\n          }\n          return false;\n        });\n\n        console.log(data.body)\n\n        data.body.forEach(tournament => {\n          let used = 0;\n\n          if(tournament.transactions){\n            tournament.transactions.forEach(transaction => {\n              if(transaction.action == \"coupon:use\"){\n                used += 1;\n              }\n            })\n          }\n\n          tournament.usedCoupons = used;\n\n          let coupon = tournament.description.match(/(cupom|coupon|cupon|cupn):[\\s][a-zA-Z|0-9]+/gi);\n\n          if(coupon != null){\n            coupon = coupon[0].split(\":\")[1].trim()\n          }\n\n          tournament.coupon = coupon;\n        });\n\n        data.body.forEach((tournament) => {\n          this.state.tournaments[stateSelection].push(tournament);\n        })\n      })\n      .catch((err)=>{\n        console.log(err);\n      }))\n    })\n\n    Promise.all(promises).then(()=>{\n      this.setState(this.state);\n      \n      offset+=10;\n\n      if(offset < 200){\n        this.fetchPage(stateSelection, offset, perPage);\n      } else {\n        this.setState({loading: false});\n      }\n    })\n  };\n\n  selectCountry(e){\n    this.state.selected = e.target.value;\n    this.setState({selected: e.target.value});\n    this.props.history.push('/'+this.props.game+'/matcherino/'+this.state.selected.toLowerCase());\n\n    let offset = 0;\n    let perPage = 10;\n    this.fetchPage(e.target.value, offset, perPage);\n  }\n\n  render(){\n    const { classes } = this.props;\n\n    return(\n      <Box>\n        <ScrollTop />\n\n        <Box gutterBottom>\n          <div>\n            <h2 style={{color: \"white\"}}>\n              Campanhas ativas no Matcherino <HelpButton content=\"To have your Matcherino campains listed on this page, contact @joao_shino on twitter\" />\n            </h2>\n          </div>\n          <Select className={classes.select} fullWidth value={this.state.selected} onChange={(e)=>this.selectCountry(e)}>\n            {Object.keys(this.state.matcherinos).map((country) => (\n              <MenuItem value={country}>{countriesJson[country].native}</MenuItem>\n            ))}\n          </Select>\n        </Box>\n        <Box>\n          <Grid container justify=\"flex-start\" spacing={2} width=\"100%\">\n            {\n              this.state.tournaments[this.state.selected] != null ?\n                this.state.tournaments[this.state.selected].map((tournament)=>(\n                  <Grid item component={Link} lg={4} md={6} sm={6} xs={12}\n                  underline=\"none\" href={\"https://matcherino.com/tournaments/\"+tournament.id} target=\"_blank\"\n                  style={{display: \"flex\", justifyContent: \"center\"}}>\n                    <Card fullWidth className={classes.root} style={{width: \"100%\"}}>\n                      <CardActionArea>\n                        <CardHeader\n                          avatar={<Avatar src={tournament.creator.avatar} />}\n                          title={tournament.creator.displayName}\n                        />\n                        <CardMedia\n                          className={classes.media}\n                          image={tournament.meta.backgroundImg}\n                          title={tournament.title}>\n                          {tournament.coupon ?\n                            <Link underline=\"none\" href=\"#\">\n                              <Chip\n                                className={classes.couponChip}\n                                label={\"Coupon: \"+tournament.coupon}\n                                color=\"secondary\"\n                                clickable\n                                onClick={(event)=>{}}\n                              />\n                            </Link>\n                            :\n                            null\n                          }\n                        </CardMedia>\n                        <CardContent>\n                          <Typography noWrap gutterBottom variant=\"h6\" component=\"h2\">\n                            {tournament.title}\n                          </Typography>\n                          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                            {tournament.name}\n                          </Typography>\n                          <Typography variant=\"body2\" color=\"textSecondary\">\n                            Utilized coupons: {tournament.usedCoupons}/50\n                          </Typography>\n                          <Box display=\"flex\" alignItems=\"center\">\n                            <Box width=\"100%\" mr={1}>\n                              <LinearProgress variant=\"determinate\"\n                              classes={{\n                                root: classes.barRoot,\n                                barColorPrimary: tournament.balance/100.0/50.0 >= 1.0 ? classes.barComplete : classes.barIncomplete\n                              }}\n                              value={Math.min(tournament.balance/100.0/50.0*100.0, 100)} />\n                            </Box>\n                            <Box minWidth={35}>\n                              <Typography variant=\"body2\" color=\"textSecondary\">{`${\"$\"+(tournament.balance/100.0).toFixed(2)}`}</Typography>\n                            </Box>\n                          </Box>\n                        </CardContent>\n                      </CardActionArea>\n                    </Card>\n                  </Grid>\n                ))\n                :\n                null\n            }\n          </Grid>\n        </Box>\n        {this.state.loading ?\n          <div class=\"loader\"></div>\n          :\n          null\n        }\n      </Box>\n    )\n  }\n};\n\nexport default withStyles(useStyles)(Matcherino)","import React, { Component } from 'react';\nimport moment from \"../../node_modules/moment-timezone/moment-timezone\";\nimport styles from \"./nextTournaments.module.css\"\nimport { faCalendar, faEdit, faMapMarkerAlt, faUser, faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport i18n from '../locales/i18n';\nimport HelpButton from './HelpButton';\nimport LazyLoad from 'react-lazyload';\nimport ScrollTop from './ScrollTop';\nimport { Box, Grid, MenuItem, Select, withStyles,\n  Link, Chip, Card, CardActionArea, CardMedia, CardContent, Typography, LinearProgress } from '@material-ui/core';\n\nlet useStyles = (props) => ({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 180,\n  },\n  barRoot: {\n    height: 10,\n    borderRadius: 5,\n  },\n  barIncomplete: {\n    borderRadius: 5,\n  },\n  barComplete: {\n    borderRadius: 5,\n    backgroundColor: \"green\"\n  },\n  couponChip: {\n    margin: 6,\n    position: \"absolute\",\n    right: 0,\n    bottom: 0\n  },\n  select: {\n    fontSize: '1.4rem',\n    marginBottom: '1rem'\n  }\n});\n\nclass Clips extends Component {\n  state = {\n    clips: null,\n    clipsFiltered: [],\n    selectedLanguage: \"all\",\n    totalClipsSize: null\n  }\n\n  componentDidUpdate(prevProps) {\n    \n  }\n\n  componentDidMount() {\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/twitchclips.json')\n    .then(res => res.json())\n    .then((data) => {\n      console.log(data);\n\n      let totalClipsSize = 0;\n\n      Object.keys(data).forEach(language => {\n        totalClipsSize += data[language].length;\n      })\n\n      this.setState({\n        clips: data,\n        totalClipsSize: totalClipsSize\n      })\n\n      if(this.props.match && this.props.match.params && this.props.match.params.lang){\n        if(this.state.clips && this.state.clips[this.props.match.params.lang] != null){\n          this.state.selectedLanguage = this.props.match.params.lang;\n        }\n      }\n\n      this.selectLanguage({target: {value: this.state.selectedLanguage}})\n    })\n    .catch(console.log)\n  }\n\n  selectLanguage(e){\n    this.state.selectedLanguage = e.target.value;\n    this.filterClips(e.target.value);\n  }\n\n  filterClips(value){\n    let selectedClips = [];\n\n    if(value == \"all\"){\n      Object.keys(this.state.clips).forEach(language => {\n        this.state.clips[language].forEach((clip) => {\n          selectedClips.push(clip)\n        })\n      })\n    } else {\n      selectedClips = this.state.clips[value];\n    }\n    \n    selectedClips = selectedClips.sort((a, b) => (a.view_count < b.view_count) ? 1 : -1);\n\n    this.state.clipsFiltered = selectedClips;\n\n    this.setState(this.state);\n\n    this.props.history.push('/'+this.props.game+'/clips/'+this.state.selectedLanguage);\n  }\n\n  render (){\n    const { classes } = this.props;\n\n    return(\n      <Box>\n        <ScrollTop />\n        <Box>\n          <h2 style={{color: \"white\"}}>\n            {\"Last week's top clips\"} <HelpButton content=\"To have your clips properly listed on this page, you must set the game and language properly on your stream settings. All info including view count are updated once a week.\" />\n          </h2>\n          {this.state.clips ?\n            <Select className={classes.select} fullWidth onChange={(e)=>this.selectLanguage(e)} value={this.state.selectedLanguage}>\n              <MenuItem value=\"all\">{i18n.t(\"all\") + \" (\"+this.state.totalClipsSize+\")\"}</MenuItem>\n              {Object.keys(this.state.clips).map((language) => (\n                <MenuItem value={language}>{i18n.localeToLanguage(language) + \" (\"+this.state.clips[language].length+\")\"}</MenuItem>\n              ))}\n            </Select>\n            :\n            null\n          }\n        </Box>\n        <Box>\n          <Grid container justify=\"flex-start\" spacing={2} width=\"100%\">\n            {\n              this.state.clipsFiltered != null ?\n                this.state.clipsFiltered.slice(0,50).map((clip)=>(\n                  <Grid item component={Link} lg={4} md={6} sm={6} xs={12}\n                  underline=\"none\" href={clip.url} target=\"_blank\"\n                  style={{display: \"flex\", justifyContent: \"center\"}}>\n                    <Card className={classes.root} style={{width: \"100%\"}}>\n                      <CardActionArea>\n                        <CardMedia\n                          className={classes.media}\n                          image={clip.thumbnail_url || \"\"}\n                          title={clip.title}>\n                            <Box style={{position: \"relative\", width: \"100%\", height: \"100%\"}}>\n                              <Chip\n                                className={classes.couponChip}\n                                label={clip.view_count + \" views\"}\n                              />\n                            </Box>\n                        </CardMedia>\n                        <CardContent>\n                          <Typography noWrap gutterBottom variant=\"h6\" component=\"h2\">\n                            {clip.title}\n                          </Typography>\n                          <Typography variant=\"body2\" color=\"textSecondary\">\n                            {clip.broadcaster_name}\n                          </Typography>\n                          <Typography variant=\"body2\" color=\"textSecondary\">\n                            Clip by {clip.creator_name}\n                          </Typography>\n                        </CardContent>\n                      </CardActionArea>\n                    </Card>\n                  </Grid>\n                ))\n                :\n                null\n            }\n          </Grid>\n        </Box>\n      </Box>\n    )\n  }\n};\n\nexport default withStyles(useStyles)(Clips)","import React, { Component } from 'react'\nimport styles from './contacts.module.css'\nimport LazyLoad from 'react-lazyload';\nimport i18n from '../locales/i18n';\nimport PlayerElement from './playerElement';\nimport PlayerModal from './playermodal';\nimport { Box, Grid, TextField, InputAdornment, IconButton, Select, Typography, Paper, withStyles } from '@material-ui/core';\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { PureComponent } from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { GetCharacterCodename, CHARACTERS_GG_TO_BRAACKET } from \"../globals\";\n\nconst fuzzysort = require('fuzzysort')\n\nconst useStyles = (theme) => ({\n  playerContainer: {\n    padding: 8,\n    [theme.breakpoints.down('sm')]: {\n      padding: 2\n    }\n  },\n  playerTag: {\n    [theme.breakpoints.down('sm')]: {\n      fontSize: \"1rem\"\n    }\n  },\n  charPortrait: {\n    height: 300,\n    [theme.breakpoints.down('sm')]: {\n      height: 100\n    }\n  },\n});\n\nclass HeadToHead extends Component {\n  state = {\n    playerModalOpened: false,\n    playerModalPlayer: null,\n    league: null,\n    players: [],\n    filtered: [],\n    search: \"\",\n    ts: null,\n    playerSlots: [null, null],\n    winProbability: [null, null]\n  }\n\n  componentDidUpdate(prevProps) {\n    if(!this.state.ts){\n      this.fetchTs();\n    }\n  }\n\n  componentDidMount() {\n    this.fetchTs();\n  }\n\n  ncdf(x, mean, std) {\n    var x = (x - mean) / std\n    var t = 1 / (1 + .2315419 * Math.abs(x))\n    var d =.3989423 * Math.exp( -x * x / 2)\n    var prob = d * t * (.3193815 + t * ( -.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))))\n    if( x > 0 ) prob = 1 - prob\n    return prob\n  }\n\n  winProbability(p1, p2, beta, mu, sigma){\n    let delta_mu = p1.ts - p2.ts;\n    let sum_sigma = p1.sigma ** 2 + p2.sigma ** 2;\n    let size = 2;\n    let denom = Math.sqrt(size * (beta * beta) + sum_sigma);\n    return this.ncdf(delta_mu / denom, mu, sigma);\n  }\n\n  winProbabilityPercent(p1, p2, beta, mu, sigma){\n    let p1prob = this.winProbability(p1, p2, beta, mu, sigma);\n    let p2prob = this.winProbability(p2, p1, beta, mu, sigma);\n\n    let total = p1prob+p2prob;\n    \n    if(total == 0){\n      total = 1;\n    }\n\n    console.log(p1prob)\n    console.log(p2prob)\n    console.log(total)\n\n    return [p1prob/total, p2prob/total];\n  }\n\n  selectPlayer(slotIndex, player){\n    if(!player) return;\n\n    let tournamentsWent = [];\n    let matchesPlayed = [];\n\n    if(this.props.alltournaments != null && this.props.allplayers != null){\n      player.rank = {}\n      player.matches = []\n\n      if(player.braacket_links){\n        player.braacket_links.forEach(link => {\n          let linkLeague = link.split(\":\")[0];\n          let linkId = link.split(\":\")[1];\n\n          fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/'+linkLeague+'/ranking.json')\n          .then(res => res.json())\n          .then((data) => {\n            if(data.ranking.ranking[linkId]){\n              player.rank[linkLeague] = {rank: data.ranking.ranking[linkId].rank, score: data.ranking.ranking[linkId].score};\n              this.setState(this.state);\n            }\n          }, this);\n  \n          if(Object.keys(this.props.alltournaments).includes(linkLeague)){\n            Object.values(this.props.alltournaments[linkLeague]).forEach(tournament => {\n              if(tournament.ranking && Object.keys(tournament.linkage).includes(linkId)){\n                let playerIdInTournament = tournament.linkage[linkId];\n\n                let tournamentEntry = {};\n                Object.assign(tournamentEntry, tournament);\n\n                if(tournament.ranking[playerIdInTournament]){\n                  tournamentEntry[\"ranking\"] = tournament.ranking[playerIdInTournament].rank;\n                  tournamentEntry[\"league\"] = linkLeague;\n\n                  let leagueObj = this.props.leagues.find(element => element.id == linkLeague);\n    \n                  if(leagueObj.wifi){\n                    tournamentEntry[\"state\"] = \"wifi\"\n                  } else {\n                    tournamentEntry[\"state\"] = leagueObj.state;\n                  }\n  \n                  if(!tournament.name.includes(\"[MATCHMAKING]\")){\n                    let found = tournamentsWent.find(element =>\n                      element.name == tournamentEntry.name ||\n                      element.id == tournamentEntry.id ||\n                      (element.link != null && element.link == tournamentEntry.link)\n                    );\n      \n                    if(!found){\n                      tournamentsWent.push(tournamentEntry);\n                    } else {\n                      if(found.state == \"BR\" && tournamentEntry[\"state\"] != \"BR\"){\n                        found.state = tournamentEntry[\"state\"];\n                      }\n                    }\n                  }\n  \n                  if(tournament.matches){\n                    tournament.matches.forEach(match => {\n                      if(match.participants.hasOwnProperty(playerIdInTournament)){\n                        let matchEntry = {}\n                        matchEntry.tournamentName = tournament.name;\n                        matchEntry.tournamentTime = tournament.time;\n                        matchEntry.participants = match.participants;\n                        matchEntry.tournamentId = tournament.id;\n                        if(leagueObj.wifi){\n                          matchEntry.wifi = true;\n                        }\n                        matchEntry.participantsLeague = {};\n                        Object.keys(match.participants).forEach(tournamentId => {\n                          let participantPlayer = Object.entries(tournament.linkage).find(i => i[1] == tournamentId);\n                          if(participantPlayer){\n                            let participantPlayerGlobalId = this.props.allplayers[\"mapping\"][linkLeague+\":\"+participantPlayer[0]];\n                            matchEntry.participantsLeague[tournamentId] = this.props.allplayers[\"players\"][participantPlayerGlobalId];\n                            if(participantPlayer[1] != playerIdInTournament){\n                              matchEntry.opponent = matchEntry.participantsLeague[tournamentId];\n                              matchEntry.scoreOther = match.participants[tournamentId];\n                            } else {\n                              matchEntry.scoreMe = match.participants[tournamentId];\n                            }\n                          }\n                        })\n                        if(match.winner == playerIdInTournament){\n                          matchEntry.won = true;\n                        }\n                        if(Object.keys(matchEntry.participantsLeague).length == 2 && matchEntry.opponent &&\n                        matchEntry.scoreMe != -1 && matchEntry.scoreOther != -1){\n                          matchesPlayed.push(matchEntry);\n                        }\n                      }\n                    });\n                  }\n                }\n              }\n            })\n          }\n        });\n      }\n    }\n\n    player.tournamentsWent = tournamentsWent;\n    player.matchesPlayed = matchesPlayed;\n\n    this.state.playerSlots[slotIndex] = player;\n\n    this.updateSlots();\n  }\n\n  updateSlots(){\n    if(this.state.playerSlots[0] && this.state.playerSlots[1] &&\n      this.state.playerSlots[0].ts && this.state.playerSlots[1].ts){\n      this.state.playerSlots.forEach((player, slotIndex) => {\n        let otherSlot = 1;\n        if(slotIndex == 1) {otherSlot = 0;}\n    \n        player.setWins = 0;\n    \n        if(this.state.playerSlots[otherSlot] != null){\n          player.matchesPlayed.forEach((match) => {\n            if(match.opponent.apid == this.state.playerSlots[otherSlot].apid){\n              if(match.won){\n                player.setWins += 1;\n              }\n            }\n          })\n        }\n      })\n\n      this.state.winProbability = this.winProbabilityPercent(\n        this.state.playerSlots[0],\n        this.state.playerSlots[1],\n        this.state.ts.beta,\n        this.state.ts.mu,\n        this.state.ts.sigma\n      )\n    } else {\n      this.state.winProbability = [null, null];\n    }\n\n    this.setState({\n      playerSlots: this.state.playerSlots,\n      winProbability: this.state.winProbability\n    });\n  }\n\n  getCharCodename(playerData, id){\n    let skin = 0;\n\n    if(playerData.hasOwnProperty(\"skins\")){\n      skin = playerData[\"skins\"][playerData[\"mains\"][id]];\n      if(skin == undefined){\n        skin = 0;\n      }\n    }\n    \n    return GetCharacterCodename(this.props.game, playerData[\"mains\"][id])+\"_0\"+skin;\n  }\n  \n  fetchTs() {\n    if(this.props.allplayers && this.props.allplayers.players && Object.keys(this.props.allplayers.players).length > 0){\n      fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+this.props.game+'/ts_env.json')\n      .then(res => res.json())\n      .then((data) => {\n        this.setState({ts: data});\n      })\n      .catch(console.log)\n    }\n  }\n\n  getCharCodename(playerData, id){\n    let skin = 0;\n\n    if(playerData.hasOwnProperty(\"skins\")){\n      skin = playerData[\"skins\"][playerData[\"mains\"][id]];\n      if(skin == undefined){\n        skin = 0;\n      }\n    }\n    \n    return GetCharacterCodename(this.props.game, playerData[\"mains\"][id])+\"_0\"+skin;\n  }\n\n  getCharName(name){\n    return name.toLowerCase().replace(/ /g, \"\");\n  }\n\n  getTwitterHandle(twitter){\n    let parts = twitter.split('/');\n    return parts[parts.length-1];\n  }\n\n  normalizePlayerName(name){\n    return name.normalize(\"NFKD\").replace(/ /g, '_').replace(/@/g, \"_At_\").replace(/~/g, \"_Tilde_\").replace(RegExp('[^0-9a-zA-Z_-]'), '').replace(\"|\", \"\")\n  }\n\n  search(e){\n    this.state.search = e;\n\n    if(this.state.search.length == 0){\n      this.state.filtered = this.state.players;\n    } else {\n      let result = fuzzysort.go(this.state.search, Object.values(this.state.players), {\n        keys: [\n          'name',\n          'full_name',\n          'org',\n          'country',\n          'state',\n          'mainnames'\n        ],\n        threshold: -10000,\n        limit: 20,\n        scoreFn(a){\n          return Math.max(\n            a[0]?a[0].score:-1000,\n            a[1]?a[1].score-10:-1000,\n            a[2]?a[2].score-10:-1000,\n            a[3]?a[3].score-100:-1000,\n            a[4]?a[4].score-100:-1000,\n            a[5]?a[5].score-10:-1000,\n          )}\n      })\n      this.state.filtered = []\n      Object.values(result).forEach((val)=>{\n        if (val[\"obj\"] != null)\n          this.state.filtered.push(val[\"obj\"]);\n      })\n    }\n\n    this.setState(this.state);\n  }\n\n  render (){\n    const { theme } = this.props;\n    const { classes } = this.props;\n\n    return(\n      <Box>\n        {this.props.allplayers && this.state.ts ?\n          <>\n            <Grid container justify=\"space-evenly\" >\n              {this.state.playerSlots.map((player, i) => (\n                <Grid item xs={6} sm={5} md={4} lg={3} xl={2} className={classes.playerContainer}>\n                  <Autocomplete\n                    value={player}\n                    onChange={(event, newValue) => {\n                      this.selectPlayer(i, newValue);\n                    }}\n                    fullWidth\n                    options={this.props.allplayers.players}\n                    getOptionLabel={(option) => option.org? option.org+\" \"+option.name : option.name}\n                    renderOption={(option) =>\n                      <div style={{\"contentVisibility\": \"auto\", \"containIntrinsicSize\": \"24px\", display: \"flex\"}}>\n                        <div style={{\n                          backgroundSize: \"cover\",\n                          width: 24,\n                          height: 24,\n                          marginRight: 8,\n                          backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_2_${this.getCharCodename(option, 0)}.png)`\n                        }}></div>\n                        {option.org? option.org+\" \"+option.name : option.name}\n                        {option.country_code ? \" (\"+option.country_code+\")\" : null}\n                      </div>}\n                    renderInput={(params) => <TextField {...params} label={\"Player \"+(i+1)} variant=\"outlined\"/>}\n                  />\n                  {player ?\n                    <Paper style={{marginTop: 8}}>\n                      <Box p={1} noWrap>\n                        <Box display=\"flex\" style={{placeContent: \"center\"}} noWrap>\n                          {player.org ?\n                            <Typography align=\"right\" className={classes.playerTag} noWrap color=\"secondary\" variant=\"h6\">{player.org}&nbsp;</Typography>\n                            :\n                            null\n                          }\n                          <Typography align=\"left\" className={classes.playerTag} noWrap variant=\"h6\">{player.name}</Typography>\n                        </Box>\n                        <Typography align=\"center\" noWrap variant=\"h6\" color=\"textSecondary\">\n                          {player.full_name || ' '}\n                        </Typography>\n                      </Box>\n                      <Box style={{\n                        width: \"100%\",\n                        backgroundPosition: \"center\", backgroundSize: \"cover\",\n                        backgroundColor: theme.palette.action.disabledBackground,\n                        backgroundImage: `url(${process.env.PUBLIC_URL}/portraits/${this.props.game}/chara_1_${this.getCharCodename(player, 0)}.png)`\n                      }} className={classes.charPortrait}>\n                      </Box>\n                      <Box p={1}>\n                        <Typography align=\"center\" noWrap variant=\"body2\" color=\"textSecondary\">\n                          Set wins\n                        </Typography>\n                        <Typography align=\"center\" noWrap variant=\"h2\">\n                          {player.setWins}\n                        </Typography>\n                        <Typography align=\"center\" noWrap variant=\"body2\" color=\"textSecondary\">\n                          {player.ts ?\n                            <>\n                              Win probability <br/>\n                              Confiability: {\n                                player.sigma > 2 ? \"Ultra low\" :\n                                player.sigma > 1.5? \"Very low\" :\n                                player.sigma > 1 ? \"Low\" :\n                                \"Ok\"\n                              }\n                            </>\n                          :\n                            <>\n                              No match data\n                            </>\n                          }\n                        </Typography>\n                        <Typography align=\"center\" noWrap variant=\"h4\">\n                          {this.state.winProbability[i] ?\n                            (this.state.winProbability[i] * 100).toFixed(2) + \"%\"\n                          :\n                            \"-\"\n                          }\n                        </Typography>\n                      </Box>\n                    </Paper>\n                    :\n                    null\n                  }\n                </Grid>\n              ))}\n            </Grid>\n          </>\n          :\n          null\n        }\n      </Box>\n    )\n  }\n};\n\nexport default withStyles(useStyles, {withTheme: true})(HeadToHead)","import React, { Component, useEffect } from 'react'\nimport { Link, NavLink, Redirect, Route, Switch } from 'react-router-dom'\nimport styles from './topbar.module.css'\nimport i18n from '../locales/i18n';\nimport { faHome, faUsers, faMap, faCalendar, faCoins, faInfoCircle, faInfo, faChartLine, faTrophy, faExchangeAlt } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTwitch } from '@fortawesome/free-brands-svg-icons';\nimport { Drawer, makeStyles, useTheme, withStyles, SwipeableDrawer, Box, Chip } from '@material-ui/core';\n\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MailIcon from '@material-ui/icons/Mail';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nimport Contacts from './contacts';\nimport About from './about';\nimport Mapa from './map';\nimport Statistics from './statistics';\nimport Granblue from './granblue';\nimport Players from './players';\nimport NextTournaments from './nextTournaments';\nimport Matcherino from './matcherino';\nimport Clips from './clips';\nimport HeadToHead from './HeadToHead';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('md')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('md')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n    zIndex: 999\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    maxWidth: \"100%\"\n  },\n  navLinkItem: {\n    '&:hover': {\n      color: \"inherit\",\n      textDecoration: \"none\"\n    }\n  },\n  ListItemIcon: {\n    minWidth: 42\n  }\n}));\n\nfunction TopBar(props) {\n  const { window } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const[game, setGame] = React.useState(props.game);\n  const[allplayers, setAllplayers] = React.useState([]);\n  const[alltournaments, setAllTournaments] = React.useState([]);\n  const[userCountry, setUserCountry] = React.useState(null);\n\n  const[leagues, setLeagues] = React.useState([]);\n\n  useEffect(() => {\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+game+'/allleagues.json')\n    .then(res => res.json())\n    .then((data) => {\n      Object.keys(data).forEach(league => {\n        setLeagues(leagues => [...leagues, {\n          id: league,\n          name: data[league].name,\n          region: data[league].region,\n          state: data[league].state,\n          city: data[league].city,\n          country: data[league].country,\n          wifi: data[league].wifi,\n          twitter: data[league].twitter,\n          twitch: data[league].twitch,\n          youtube: data[league].youtube,\n          facebook: data[league].facebook,\n          latlng: data[league].latlng\n        }]);\n      });\n    })\n    .catch(console.log)\n\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+game+'/allplayers.json')\n    .then(res => res.json())\n    .then((data) => {\n      setAllplayers(data);\n    })\n    .catch(console.log)\n\n    fetch('https://raw.githubusercontent.com/joaorb64/tournament_api/multigames/out/'+game+'/alltournaments.json')\n    .then(res => res.json())\n    .then((data) => {\n      setAllTournaments(data);\n    })\n    .catch(console.log)\n\n    // Get user country\n    fetch('http://get.geojs.io/v1/ip/country.json').then(res => res.json()).then((data) => {\n      if(data && data.country){\n        setUserCountry(data.country);\n      }\n    }).catch(console.log())\n  }, [])\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const closeDrawer = () => {\n    setMobileOpen(false);\n  };\n\n  const scrollToTop = () => {\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n  }\n\n  const drawer = (\n    <div style={{height: \"100%\"}}>\n      <div className={classes.toolbar} style={{display: \"flex\", padding: 8}}>\n        <Box style={{alignSelf: \"center\"}}>\n          <Typography variant=\"h6\" noWrap style={{display: \"flex\"}}>\n            <img src=\"/favicon.svg\" style={{height: \"26px\", marginRight: \"8px\"}}></img>\n            PowerRankings\n          </Typography>\n        </Box>\n      </div>\n      <Divider />\n      <List>\n        <ListItem onClick={()=>{scrollToTop(); closeDrawer();}} className={classes.navLinkItem} button component={NavLink} activeClassName=\"Mui-selected\" to={\"/\"+game+\"/leagues/\"}>\n          <ListItemIcon className={classes.ListItemIcon}><FontAwesomeIcon icon={faTrophy}/></ListItemIcon>\n          <ListItemText primary={i18n.t(\"leagues\")} />\n        </ListItem>\n\n        <ListItem onClick={()=>{scrollToTop(); closeDrawer();}} className={classes.navLinkItem} button component={NavLink} activeClassName=\"Mui-selected\" to={\"/\"+game+\"/players/\"}>\n          <ListItemIcon className={classes.ListItemIcon}><FontAwesomeIcon icon={faUsers}/></ListItemIcon>\n          <ListItemText primary={i18n.t(\"players\")} />\n        </ListItem>\n\n        <ListItem onClick={()=>{scrollToTop(); closeDrawer();}} className={classes.navLinkItem} button component={NavLink} activeClassName=\"Mui-selected\" to={\"/\"+game+\"/headtohead/\"}>\n          <ListItemIcon className={classes.ListItemIcon}><FontAwesomeIcon icon={faExchangeAlt}/></ListItemIcon>\n          <ListItemText primary={i18n.t(\"headtohead\")} />\n          <Chip label=\"Beta!\" size=\"small\" color=\"secondary\" />\n        </ListItem>\n\n        <ListItem onClick={()=>{scrollToTop(); closeDrawer();}} className={classes.navLinkItem} button component={NavLink} activeClassName=\"Mui-selected\" to={\"/\"+game+\"/map/\"}>\n          <ListItemIcon className={classes.ListItemIcon}><FontAwesomeIcon icon={faMap}/></ListItemIcon>\n          <ListItemText primary={i18n.t(\"map\")} />\n        </ListItem>\n\n        <ListItem onClick={()=>{scrollToTop(); closeDrawer();}} className={classes.navLinkItem} button component={NavLink} activeClassName=\"Mui-selected\" to={\"/\"+game+\"/nexttournaments/\"}>\n          <ListItemIcon className={classes.ListItemIcon}><FontAwesomeIcon icon={faCalendar}/></ListItemIcon>\n          <ListItemText primary={i18n.t(\"next-tournaments\")} />\n        </ListItem>\n\n        <ListItem onClick={()=>{scrollToTop(); closeDrawer();}} className={classes.navLinkItem} button component={NavLink} activeClassName=\"Mui-selected\" to={\"/\"+game+\"/clips/\"}>\n          <ListItemIcon className={classes.ListItemIcon}><FontAwesomeIcon icon={faTwitch}/></ListItemIcon>\n          <ListItemText primary={\"Top Clips\"} />\n        </ListItem>\n\n        <ListItem onClick={()=>{scrollToTop(); closeDrawer();}} className={classes.navLinkItem} button component={NavLink} activeClassName=\"Mui-selected\" to={\"/\"+game+\"/matcherino/\"}>\n          <ListItemIcon className={classes.ListItemIcon}><FontAwesomeIcon icon={faCoins}/></ListItemIcon>\n          <ListItemText primary={\"Matcherino\"} />\n        </ListItem>\n        \n        <ListItem onClick={()=>{scrollToTop(); closeDrawer();}} className={classes.navLinkItem} button component={NavLink} activeClassName=\"Mui-selected\" to={\"/\"+game+\"/about/\"}>\n          <ListItemIcon className={classes.ListItemIcon}><FontAwesomeIcon icon={faInfoCircle}/></ListItemIcon>\n          <ListItemText primary={i18n.t(\"about\")} />\n        </ListItem>\n      </List>\n\n      <Box style={{position: \"absolute\", bottom: 0, padding: 8, display: \"flex\", flexWrap: \"wrap\"}}>\n        <div style={{flexGrow: 1, margin: 2}}>\n          By Joo \"Shino\" (joaorb64@gmail.com, <a style={{color: \"white\"}} href=\"https://twitter.com/joao_shino\">@joao_shino</a>) <br/>\n        </div>\n        <div style={{flexGrow: 0, margin: 2}}>\n          <a href='https://ko-fi.com/W7W22YK26' target='_blank'>\n            <img style={{border: 0, height: 32}} src='https://cdn.ko-fi.com/cdn/kofi1.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com'></img>\n          </a>\n        </div>\n        <div style={{flexGrow: 0, margin: 2}}>\n          <a href=\"https://picpay.me/joaorb64\">\n            <img src=\"/images/donate_picpay.png\" style={{height: 32, borderRadius: 5}}></img>\n          </a>\n        </div>\n      </Box>\n    </div>\n  );\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <Hidden mdUp>\n        <AppBar id=\"topbar\" position=\"fixed\" className={classes.appBar} elevation={0}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <img src=\"/favicon.svg\" style={{height: \"26px\", marginRight: \"8px\"}}></img>\n            <Typography variant=\"h6\" noWrap>\n              PowerRankings\n            </Typography>\n          </Toolbar>\n        </AppBar>\n      </Hidden>\n      <nav className={classes.drawer}>\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden mdUp implementation=\"css\">\n          <SwipeableDrawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n            open={mobileOpen}\n            onOpen={handleDrawerToggle}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </SwipeableDrawer>\n        </Hidden>\n        <Hidden smDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      <main className={classes.content}>\n        <Hidden mdUp>\n          <div className={classes.toolbar} />\n        </Hidden>\n        <Switch>\n          <Route path=\"/:game/leagues/:id?/:tab?/:player_id?\" exact render={\n            (history) => \n              <>\n                <Contacts game={history.match.params[\"game\"]} contacts={leagues} allplayers={allplayers} alltournaments={alltournaments} usercountry={userCountry} match={history}></Contacts>\n              </>\n          } />\n          <Route path=\"/:game/players/:player_id?\" exact render={\n            (history) => \n              <>\n                <Players game={history.match.params[\"game\"]} leagues={leagues} alltournaments={alltournaments} allplayers={allplayers} match={history.match} history={history.history} />\n              </>\n          } />\n          <Route path=\"/:game/headtohead/:player_id?\" exact render={\n            (history) => \n              <>\n                <HeadToHead game={game} leagues={leagues} alltournaments={alltournaments} allplayers={allplayers} match={history.match} history={history.history} />\n              </>\n          } />\n          <Route path=\"/:game/map/\" exact render={(history) => <Mapa game={game} allplayers={allplayers} leagues={leagues} />} />\n          <Route path=\"/:game/matcherino/:country?\" exact render={(history) => <Matcherino game={game} match={history.match} history={history.history} />} />\n          <Route path=\"/:game/nexttournaments/:country?\" exact render={(history) => <NextTournaments game={game} match={history.match} history={history.history} />} />\n          <Route path=\"/:game/clips/:lang?\" exact render={(history) => <Clips game={game} match={history.match} history={history.history} />} />\n          <Route path=\"/:game/about/\" exact render={(history) => <About />} />\n          <Redirect to={\"/\"+props.game+\"/leagues/\"} />\n        </Switch>\n\n        <Route path=\"/\" render={({location}) => {\n          if(window){\n            if (\"ga\" in window) {\n              if (\"getAll\" in window.ga) {\n                let tracker = window.ga.getAll()[0];\n                if (tracker)\n                  tracker.send('pageview', location.pathname);\n              }\n            }\n            return \"\";\n          }\n        }} />\n      </main>\n    </div>\n  );\n}\n\nexport default TopBar;","import React, { Component } from 'react';\nimport './App.css';\nimport TopBar from './components/topbar';\nimport { BrowserRouter as Router, Switch, Route, Redirect, HashRouter } from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { Container, createMuiTheme } from '@material-ui/core';\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport {Helmet} from \"react-helmet\";\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#b12026',\n    },\n    secondary: {\n      main: '#ffb700',\n    },\n    background: {\n      default: '#212121',\n      paper: '#424242',\n    },\n  },\n});\n\nconst invalid = [\n  \"leagues\",\n  \"players\",\n  \"headtohead\",\n  \"map\",\n  \"nexttournaments\",\n  \"clips\",\n  \"matcherino\",\n  \"about\"\n]\n\nclass App extends Component {\n  state = {\n    leagues: [],\n    allplayers: null,\n    alltournaments: null,\n    userCountry: null\n  }\n\n  componentWillMount() {\n    \n  }\n\n  componentDidMount() {\n    \n  }\n\n  render () {\n    return (\n      <ThemeProvider theme={theme}>\n        <div>\n          <CssBaseline />\n\n          <Helmet>\n            <meta property=\"og:title\" content=\"PowerRankings.gg\" />\n            <meta property=\"og:image\" content={process.env.PUBLIC_URL+\"/favicon.svg\"} />\n            <meta property=\"og:description\" content=\"Check out player and league information on PowerRankings.gg!\" />\n            <meta name=\"twitter:card\" content=\"summary\" />\n          </Helmet>\n\n          <Router basename={process.env.PUBLIC_URL}>\n            <Route path=\"/:game?/\" render={(props) =>\n              <TopBar\n                game={props.match.params &&\n                  props.match.params.game &&\n                  !invalid.includes(props.match.params.game) &&\n                  props.match.params.game != \"leagues\" ? props.match.params.game : \"ssbu\"}\n                leagues={this.state.leagues}\n                allplayers={this.state.allplayers}\n                alltournaments={this.state.alltournaments}\n                userCountry={this.state.userCountry}\n                match={props}\n              />} />\n          </Router>\n\n          {/* <nav class=\"navbar bottom-bar fixed-bottom\" style={{display: \"flex\", flexFlow: \"nowrap\"}}>\n            <div style={{flexGrow: 0, margin: 2}}>\n              <a href='https://ko-fi.com/W7W22YK26' target='_blank'>\n                <img style={{border: 0, height: 32}} src='https://cdn.ko-fi.com/cdn/kofi1.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com'></img>\n              </a>\n            </div>\n            <div style={{flexGrow: 0, margin: 2}}>\n              <a href=\"https://picpay.me/joaorb64\">\n                <img src=\"/images/donate_picpay.png\" style={{height: 32, borderRadius: 5}}></img>\n              </a>\n            </div>\n            <div style={{flexGrow: 1, margin: 2}}>\n              By Joo \"Shino\" (joaorb64@gmail.com, <a style={{color: \"white\"}} href=\"https://twitter.com/joao_shino\">@joao_shino</a>) <br/>\n            </div>\n          </nav> */}\n        </div>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"playermodal_avatar__3JVYo\",\"characterMain\":\"playermodal_characterMain__HBpQ2\",\"playerTag\":\"playermodal_playerTag__2Fxds\",\"fullName\":\"playermodal_fullName__38fVI\",\"tttag\":\"playermodal_tttag__2t0oS\",\"stats-text\":\"playermodal_stats-text__24CoU\",\"ttlogo\":\"playermodal_ttlogo__1zwob\",\"stateFlag\":\"playermodal_stateFlag__20Wk8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"teste\":\"contacts_teste__1i2X6\",\"teste-menu\":\"contacts_teste-menu__3GCjV\",\"title\":\"contacts_title__3KfmP\",\"listItem\":\"contacts_listItem__CzeRn\",\"listItemParent\":\"contacts_listItemParent__3ZZLw\",\"listItemChild\":\"contacts_listItemChild__3Awjv\",\"top3container\":\"contacts_top3container__yH4aZ\",\"playerRanking\":\"contacts_playerRanking__2tSq7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userNick\":\"playerElement_userNick__2VZEx\",\"containerOuter\":\"playerElement_containerOuter__2B5eb\",\"container\":\"playerElement_container__eeCeZ\",\"playerRanking\":\"playerElement_playerRanking__1vhQz\",\"userName\":\"playerElement_userName__100vW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"teste\":\"leagueselector_teste__2APAu\",\"active\":\"leagueselector_active__2JNgx\",\"aria\":\"leagueselector_aria__1iAxZ\",\"folder-icon\":\"leagueselector_folder-icon__EM636\",\"teste-menu\":\"leagueselector_teste-menu__3T75e\",\"title\":\"leagueselector_title__3AxQ8\",\"listItem\":\"leagueselector_listItem__1QVIz\",\"listItemParent\":\"leagueselector_listItemParent__1KSXy\",\"listItemChild\":\"leagueselector_listItemChild__VEquc\",\"top3container\":\"leagueselector_top3container__TUbK7\",\"playerRanking\":\"leagueselector_playerRanking__ZEg-b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapCharIcon\":\"statistics_mapCharIcon__O1ML7\"};"],"sourceRoot":""}